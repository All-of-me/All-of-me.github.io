import{g as rt,h as fn,i as xu,j as Ae,k as J,l as Bn,m as Xe,r as Y,n as Rt,p as Bt,q as Ye,s as ja,x as Xa,y as Za,z as Se,A as Cu,B as vt,C as Fn,w as No,D as El,E as _u,G as x,L as Su,H as qa,I as Zi,J as ce,K as qi,M as et,V as yi,N as xr,O as ku,P as Eu,Q as ct,R as Yt,S as Qe,T as Vr,U as lo,W as ao,X as $u,Y as Hr,Z as Cr,_ as _r,$ as Mu,a0 as Nu,a1 as Pu,a2 as Ji,a3 as _n,a4 as Ja,a5 as Qi,a6 as Tu,a7 as Qn,a8 as wi,a9 as Qa,aa as $l,ab as zu,ac as Ml,ad as Nl,ae as Jo,af as Iu,ag as Pl,ah as Au,ai as Ou,aj as Du,ak as Ru,al as Bu,am as Fu,an as Lu,ao as Vu,ap as Hu,aq as oe,ar as Ee,as as te,at as xo,au as Sr,av as cn,aw as es,ax as In,ay as Tt,az as zt,aA as Ze,aB as Ke,aC as Ft,aD as Po,aE as ts,aF as ln,aG as el,aH as ve,aI as nt,aJ as ns,aK as ut,aL as kr,aM as os,aN as eo,aO as Xt,aP as Ku,aQ as It,aR as ir,aS as rs,aT as xi,aU as go,aV as Wu,F as xt,aW as Ci,aX as Uu,aY as Gu,aZ as Yu,a_ as ju,a$ as Te,b0 as Fe,b1 as Xu,b2 as Tl,b3 as Zu,b4 as qu,b5 as Ju,b6 as Er,b7 as Qu,b8 as ed,b9 as td,ba as nd,bb as od,bc as rd,bd as id,be as ld,bf as zl,bg as tl,bh as nl,c as Pe,o as we,bi as Il,a as le,e as je,d as ad,bj as pe,f as ft,bk as To,bl as is,bm as kt,bn as ls,bo as as,bp as sd,bq as Qo,br as Sn,bs as cd,b as zo,bt as wt,bu as ud,bv as yt,bw as Co,t as An,bx as ol,by as dd,bz as fd,bA as rl,bB as Ve,bC as hd,bD as vd,bE as xn,bF as po,bG as gd,u as pd}from"./index-DLUUKI7q.js";import{_ as qt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as Kr,N as _i}from"./Icon-BhKhC--6.js";let lr=[];const ss=new WeakMap;function md(){lr.forEach(e=>e(...ss.get(e))),lr=[]}function cs(e,...t){ss.set(e,t),!lr.includes(e)&&lr.push(e)===1&&requestAnimationFrame(md)}function an(e,t){let{target:n}=e;for(;n;){if(n.dataset&&n.dataset[t]!==void 0)return!0;n=n.parentElement}return!1}let Un,mo;const bd=()=>{var e,t;Un=xu?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,mo=!1,Un!==void 0?Un.then(()=>{mo=!0}):mo=!0};bd();function yd(e){if(mo)return;let t=!1;rt(()=>{mo||Un==null||Un.then(()=>{t||e()})}),fn(()=>{t=!0})}function Dt(e,t){return Ae(e,n=>{n!==void 0&&(t.value=n)}),J(()=>e.value===void 0?t.value:e.value)}function us(e,t){return J(()=>{for(const n of t)if(e[n]!==void 0)return e[n];return e[t[t.length-1]]})}const il=Bn("n-internal-select-menu"),ds=Bn("n-internal-select-menu-body"),fs="__disabled__";function un(e){const t=Xe(ja,null),n=Xe(Xa,null),o=Xe(Za,null),r=Xe(ds,null),i=Y();if(typeof document<"u"){i.value=document.fullscreenElement;const l=()=>{i.value=document.fullscreenElement};rt(()=>{Rt("fullscreenchange",document,l)}),fn(()=>{Bt("fullscreenchange",document,l)})}return Ye(()=>{var l;const{to:a}=e;return a!==void 0?a===!1?fs:a===!0?i.value||"body":a:t!=null&&t.value?(l=t.value.$el)!==null&&l!==void 0?l:t.value:n!=null&&n.value?n.value:o!=null&&o.value?o.value:r!=null&&r.value?r.value:a!=null?a:i.value||"body"})}un.tdkey=fs;un.propTo={type:[String,Object,Boolean],default:void 0};let gn=null;function hs(){if(gn===null&&(gn=document.getElementById("v-binder-view-measurer"),gn===null)){gn=document.createElement("div"),gn.id="v-binder-view-measurer";const{style:e}=gn;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(gn)}return gn.getBoundingClientRect()}function wd(e,t){const n=hs();return{top:t,left:e,height:0,width:0,right:n.width-e,bottom:n.height-t}}function Wr(e){const t=e.getBoundingClientRect(),n=hs();return{left:t.left-n.left,top:t.top-n.top,bottom:n.height+n.top-t.bottom,right:n.width+n.left-t.right,width:t.width,height:t.height}}function xd(e){return e.nodeType===9?null:e.parentNode}function vs(e){if(e===null)return null;const t=xd(e);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:n,overflowX:o,overflowY:r}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(n+r+o))return t}return vs(t)}const gs=Se({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;vt("VBinder",(t=Fn())===null||t===void 0?void 0:t.proxy);const n=Xe("VBinder",null),o=Y(null),r=g=>{o.value=g,n&&e.syncTargetWithParent&&n.setTargetRef(g)};let i=[];const l=()=>{let g=o.value;for(;g=vs(g),g!==null;)i.push(g);for(const w of i)Rt("scroll",w,d,!0)},a=()=>{for(const g of i)Bt("scroll",g,d,!0);i=[]},s=new Set,c=g=>{s.size===0&&l(),s.has(g)||s.add(g)},u=g=>{s.has(g)&&s.delete(g),s.size===0&&a()},d=()=>{cs(f)},f=()=>{s.forEach(g=>g())},h=new Set,v=g=>{h.size===0&&Rt("resize",window,y),h.has(g)||h.add(g)},p=g=>{h.has(g)&&h.delete(g),h.size===0&&Bt("resize",window,y)},y=()=>{h.forEach(g=>g())};return fn(()=>{Bt("resize",window,y),a()}),{targetRef:o,setTargetRef:r,addScrollListener:c,removeScrollListener:u,addResizeListener:v,removeResizeListener:p}},render(){return Cu("binder",this.$slots)}}),ps=Se({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=Xe("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?No(El("follower",this.$slots),[[t]]):El("follower",this.$slots)}}),Kn="@@mmoContext",Cd={mounted(e,{value:t}){e[Kn]={handler:void 0},typeof t=="function"&&(e[Kn].handler=t,Rt("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[Kn];typeof t=="function"?n.handler?n.handler!==t&&(Bt("mousemoveoutside",e,n.handler),n.handler=t,Rt("mousemoveoutside",e,t)):(e[Kn].handler=t,Rt("mousemoveoutside",e,t)):n.handler&&(Bt("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[Kn];t&&Bt("mousemoveoutside",e,t),e[Kn].handler=void 0}},{c:Cn}=_u(),ll="vueuc-style";function Al(e){return e&-e}class ms{constructor(t,n){this.l=t,this.min=n;const o=new Array(t+1);for(let r=0;r<t+1;++r)o[r]=0;this.ft=o}add(t,n){if(n===0)return;const{l:o,ft:r}=this;for(t+=1;t<=o;)r[t]+=n,t+=Al(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:o,l:r}=this;if(t>r)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=t*o;for(;t>0;)i+=n[t],t-=Al(t);return i}getBound(t){let n=0,o=this.l;for(;o>n;){const r=Math.floor((n+o)/2),i=this.sum(r);if(i>t){o=r;continue}else if(i<t){if(n===r)return this.sum(n+1)<=t?n+1:r;n=r}else return r}return n}}const Bo={top:"bottom",bottom:"top",left:"right",right:"left"},Ol={start:"end",center:"center",end:"start"},Ur={top:"height",bottom:"height",left:"width",right:"width"},_d={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Sd={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},kd={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},Dl={top:!0,bottom:!1,left:!0,right:!1},Rl={top:"end",bottom:"start",left:"end",right:"start"};function Ed(e,t,n,o,r,i){if(!r||i)return{placement:e,top:0,left:0};const[l,a]=e.split("-");let s=a!=null?a:"center",c={top:0,left:0};const u=(h,v,p)=>{let y=0,g=0;const w=n[h]-t[v]-t[h];return w>0&&o&&(p?g=Dl[v]?w:-w:y=Dl[v]?w:-w),{left:y,top:g}},d=l==="left"||l==="right";if(s!=="center"){const h=kd[e],v=Bo[h],p=Ur[h];if(n[p]>t[p]){if(t[h]+t[p]<n[p]){const y=(n[p]-t[p])/2;t[h]<y||t[v]<y?t[h]<t[v]?(s=Ol[a],c=u(p,v,d)):c=u(p,h,d):s="center"}}else n[p]<t[p]&&t[v]<0&&t[h]>t[v]&&(s=Ol[a])}else{const h=l==="bottom"||l==="top"?"left":"top",v=Bo[h],p=Ur[h],y=(n[p]-t[p])/2;(t[h]<y||t[v]<y)&&(t[h]>t[v]?(s=Rl[h],c=u(p,h,d)):(s=Rl[v],c=u(p,v,d)))}let f=l;return t[l]<n[Ur[l]]&&t[l]<t[Bo[l]]&&(f=Bo[l]),{placement:s!=="center"?"".concat(f,"-").concat(s):f,left:c.left,top:c.top}}function $d(e,t){return t?Sd[e]:_d[e]}function Md(e,t,n,o,r,i){if(i)switch(e){case"bottom-start":return{top:"".concat(Math.round(n.top-t.top+n.height),"px"),left:"".concat(Math.round(n.left-t.left),"px"),transform:"translateY(-100%)"};case"bottom-end":return{top:"".concat(Math.round(n.top-t.top+n.height),"px"),left:"".concat(Math.round(n.left-t.left+n.width),"px"),transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:"".concat(Math.round(n.top-t.top),"px"),left:"".concat(Math.round(n.left-t.left),"px"),transform:""};case"top-end":return{top:"".concat(Math.round(n.top-t.top),"px"),left:"".concat(Math.round(n.left-t.left+n.width),"px"),transform:"translateX(-100%)"};case"right-start":return{top:"".concat(Math.round(n.top-t.top),"px"),left:"".concat(Math.round(n.left-t.left+n.width),"px"),transform:"translateX(-100%)"};case"right-end":return{top:"".concat(Math.round(n.top-t.top+n.height),"px"),left:"".concat(Math.round(n.left-t.left+n.width),"px"),transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:"".concat(Math.round(n.top-t.top),"px"),left:"".concat(Math.round(n.left-t.left),"px"),transform:""};case"left-end":return{top:"".concat(Math.round(n.top-t.top+n.height),"px"),left:"".concat(Math.round(n.left-t.left),"px"),transform:"translateY(-100%)"};case"top":return{top:"".concat(Math.round(n.top-t.top),"px"),left:"".concat(Math.round(n.left-t.left+n.width/2),"px"),transform:"translateX(-50%)"};case"right":return{top:"".concat(Math.round(n.top-t.top+n.height/2),"px"),left:"".concat(Math.round(n.left-t.left+n.width),"px"),transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:"".concat(Math.round(n.top-t.top+n.height/2),"px"),left:"".concat(Math.round(n.left-t.left),"px"),transform:"translateY(-50%)"};case"bottom":default:return{top:"".concat(Math.round(n.top-t.top+n.height),"px"),left:"".concat(Math.round(n.left-t.left+n.width/2),"px"),transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:"".concat(Math.round(n.top-t.top+n.height+o),"px"),left:"".concat(Math.round(n.left-t.left+r),"px"),transform:""};case"bottom-end":return{top:"".concat(Math.round(n.top-t.top+n.height+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width+r),"px"),transform:"translateX(-100%)"};case"top-start":return{top:"".concat(Math.round(n.top-t.top+o),"px"),left:"".concat(Math.round(n.left-t.left+r),"px"),transform:"translateY(-100%)"};case"top-end":return{top:"".concat(Math.round(n.top-t.top+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width+r),"px"),transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:"".concat(Math.round(n.top-t.top+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width+r),"px"),transform:""};case"right-end":return{top:"".concat(Math.round(n.top-t.top+n.height+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width+r),"px"),transform:"translateY(-100%)"};case"left-start":return{top:"".concat(Math.round(n.top-t.top+o),"px"),left:"".concat(Math.round(n.left-t.left+r),"px"),transform:"translateX(-100%)"};case"left-end":return{top:"".concat(Math.round(n.top-t.top+n.height+o),"px"),left:"".concat(Math.round(n.left-t.left+r),"px"),transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:"".concat(Math.round(n.top-t.top+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width/2+r),"px"),transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:"".concat(Math.round(n.top-t.top+n.height/2+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width+r),"px"),transform:"translateY(-50%)"};case"left":return{top:"".concat(Math.round(n.top-t.top+n.height/2+o),"px"),left:"".concat(Math.round(n.left-t.left+r),"px"),transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:"".concat(Math.round(n.top-t.top+n.height+o),"px"),left:"".concat(Math.round(n.left-t.left+n.width/2+r),"px"),transform:"translateX(-50%)"}}}const Nd=Cn([Cn(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Cn(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Cn("> *",{pointerEvents:"all"})])]),bs=Se({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=Xe("VBinder"),n=Ye(()=>e.enabled!==void 0?e.enabled:e.show),o=Y(null),r=Y(null),i=()=>{const{syncTrigger:f}=e;f.includes("scroll")&&t.addScrollListener(s),f.includes("resize")&&t.addResizeListener(s)},l=()=>{t.removeScrollListener(s),t.removeResizeListener(s)};rt(()=>{n.value&&(s(),i())});const a=Zi();Nd.mount({id:"vueuc/binder",head:!0,anchorMetaName:ll,ssr:a}),fn(()=>{l()}),yd(()=>{n.value&&s()});const s=()=>{if(!n.value)return;const f=o.value;if(f===null)return;const h=t.targetRef,{x:v,y:p,overlap:y}=e,g=v!==void 0&&p!==void 0?wd(v,p):Wr(h);f.style.setProperty("--v-target-width","".concat(Math.round(g.width),"px")),f.style.setProperty("--v-target-height","".concat(Math.round(g.height),"px"));const{width:w,minWidth:m,placement:b,internalShift:M,flip:A}=e;f.setAttribute("v-placement",b),y?f.setAttribute("v-overlap",""):f.removeAttribute("v-overlap");const{style:P}=f;w==="target"?P.width="".concat(g.width,"px"):w!==void 0?P.width=w:P.width="",m==="target"?P.minWidth="".concat(g.width,"px"):m!==void 0?P.minWidth=m:P.minWidth="";const T=Wr(f),U=Wr(r.value),{left:R,top:K,placement:N}=Ed(b,g,T,M,A,y),D=$d(N,y),{left:C,top:E,transform:_}=Md(N,U,g,K,R,y);f.setAttribute("v-placement",N),f.style.setProperty("--v-offset-left","".concat(Math.round(R),"px")),f.style.setProperty("--v-offset-top","".concat(Math.round(K),"px")),f.style.transform="translateX(".concat(C,") translateY(").concat(E,") ").concat(_),f.style.setProperty("--v-transform-origin",D),f.style.transformOrigin=D};Ae(n,f=>{f?(i(),c()):l()});const c=()=>{et().then(s).catch(f=>console.error(f))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(f=>{Ae(ce(e,f),s)}),["teleportDisabled"].forEach(f=>{Ae(ce(e,f),c)}),Ae(ce(e,"syncTrigger"),f=>{f.includes("resize")?t.addResizeListener(s):t.removeResizeListener(s),f.includes("scroll")?t.addScrollListener(s):t.removeScrollListener(s)});const u=qi(),d=Ye(()=>{const{to:f}=e;if(f!==void 0)return f;u.value});return{VBinder:t,mergedEnabled:n,offsetContainerRef:r,followerRef:o,mergedTo:d,syncPosition:s}},render(){return x(Su,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const n=x("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[x("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))]);return this.zindexable?No(n,[[qa,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}});let Fo;function Pd(){return typeof document>"u"?!1:(Fo===void 0&&("matchMedia"in window?Fo=window.matchMedia("(pointer:coarse)").matches:Fo=!1),Fo)}let Gr;function Bl(){return typeof document>"u"?1:(Gr===void 0&&(Gr="chrome"in window?window.devicePixelRatio:1),Gr)}const ys="VVirtualListXScroll";function Td({columnsRef:e,renderColRef:t,renderItemWithColsRef:n}){const o=Y(0),r=Y(0),i=J(()=>{const c=e.value;if(c.length===0)return null;const u=new ms(c.length,0);return c.forEach((d,f)=>{u.add(f,d.width)}),u}),l=Ye(()=>{const c=i.value;return c!==null?Math.max(c.getBound(r.value)-1,0):0}),a=c=>{const u=i.value;return u!==null?u.sum(c):0},s=Ye(()=>{const c=i.value;return c!==null?Math.min(c.getBound(r.value+o.value)+1,e.value.length-1):0});return vt(ys,{startIndexRef:l,endIndexRef:s,columnsRef:e,renderColRef:t,renderItemWithColsRef:n,getLeft:a}),{listWidthRef:o,scrollLeftRef:r}}const Fl=Se({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:t,columnsRef:n,getLeft:o,renderColRef:r,renderItemWithColsRef:i}=Xe(ys);return{startIndex:e,endIndex:t,columns:n,renderCol:r,renderItemWithCols:i,getLeft:o}},render(){const{startIndex:e,endIndex:t,columns:n,renderCol:o,renderItemWithCols:r,getLeft:i,item:l}=this;if(r!=null)return r({itemIndex:this.index,startColIndex:e,endColIndex:t,allColumns:n,item:l,getLeft:i});if(o!=null){const a=[];for(let s=e;s<=t;++s){const c=n[s];a.push(o({column:c,left:i(s),item:l}))}return a}return null}}),zd=Cn(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Cn("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Cn("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),ws=Se({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=Zi();zd.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:ll,ssr:t}),rt(()=>{const{defaultScrollIndex:D,defaultScrollKey:C}=e;D!=null?y({index:D}):C!=null&&y({key:C})});let n=!1,o=!1;ku(()=>{if(n=!1,!o){o=!0;return}y({top:h.value,left:l.value})}),Eu(()=>{n=!0,o||(o=!0)});const r=Ye(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let D=0;return e.columns.forEach(C=>{D+=C.width}),D}),i=J(()=>{const D=new Map,{keyField:C}=e;return e.items.forEach((E,_)=>{D.set(E[C],_)}),D}),{scrollLeftRef:l,listWidthRef:a}=Td({columnsRef:ce(e,"columns"),renderColRef:ce(e,"renderCol"),renderItemWithColsRef:ce(e,"renderItemWithCols")}),s=Y(null),c=Y(void 0),u=new Map,d=J(()=>{const{items:D,itemSize:C,keyField:E}=e,_=new ms(D.length,C);return D.forEach((F,L)=>{const Q=F[E],j=u.get(Q);j!==void 0&&_.add(L,j)}),_}),f=Y(0),h=Y(0),v=Ye(()=>Math.max(d.value.getBound(h.value-ct(e.paddingTop))-1,0)),p=J(()=>{const{value:D}=c;if(D===void 0)return[];const{items:C,itemSize:E}=e,_=v.value,F=Math.min(_+Math.ceil(D/E+1),C.length-1),L=[];for(let Q=_;Q<=F;++Q)L.push(C[Q]);return L}),y=(D,C)=>{if(typeof D=="number"){b(D,C,"auto");return}const{left:E,top:_,index:F,key:L,position:Q,behavior:j,debounce:re=!0}=D;if(E!==void 0||_!==void 0)b(E,_,j);else if(F!==void 0)m(F,j,re);else if(L!==void 0){const V=i.value.get(L);V!==void 0&&m(V,j,re)}else Q==="bottom"?b(0,Number.MAX_SAFE_INTEGER,j):Q==="top"&&b(0,0,j)};let g,w=null;function m(D,C,E){const{value:_}=d,F=_.sum(D)+ct(e.paddingTop);if(!E)s.value.scrollTo({left:0,top:F,behavior:C});else{g=D,w!==null&&window.clearTimeout(w),w=window.setTimeout(()=>{g=void 0,w=null},16);const{scrollTop:L,offsetHeight:Q}=s.value;if(F>L){const j=_.get(D);F+j<=L+Q||s.value.scrollTo({left:0,top:F+j-Q,behavior:C})}else s.value.scrollTo({left:0,top:F,behavior:C})}}function b(D,C,E){s.value.scrollTo({left:D,top:C,behavior:E})}function M(D,C){var E,_,F;if(n||e.ignoreItemResize||N(C.target))return;const{value:L}=d,Q=i.value.get(D),j=L.get(Q),re=(F=(_=(E=C.borderBoxSize)===null||E===void 0?void 0:E[0])===null||_===void 0?void 0:_.blockSize)!==null&&F!==void 0?F:C.contentRect.height;if(re===j)return;re-e.itemSize===0?u.delete(D):u.set(D,re-e.itemSize);const O=re-j;if(O===0)return;L.add(Q,O);const H=s.value;if(H!=null){if(g===void 0){const ee=L.sum(Q);H.scrollTop>ee&&H.scrollBy(0,O)}else if(Q<g)H.scrollBy(0,O);else if(Q===g){const ee=L.sum(Q);re+ee>H.scrollTop+H.offsetHeight&&H.scrollBy(0,O)}K()}f.value++}const A=!Pd();let P=!1;function T(D){var C;(C=e.onScroll)===null||C===void 0||C.call(e,D),(!A||!P)&&K()}function U(D){var C;if((C=e.onWheel)===null||C===void 0||C.call(e,D),A){const E=s.value;if(E!=null){if(D.deltaX===0&&(E.scrollTop===0&&D.deltaY<=0||E.scrollTop+E.offsetHeight>=E.scrollHeight&&D.deltaY>=0))return;D.preventDefault(),E.scrollTop+=D.deltaY/Bl(),E.scrollLeft+=D.deltaX/Bl(),K(),P=!0,cs(()=>{P=!1})}}}function R(D){if(n||N(D.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(D.contentRect.height===c.value)return}else if(D.contentRect.height===c.value&&D.contentRect.width===a.value)return;c.value=D.contentRect.height,a.value=D.contentRect.width;const{onResize:C}=e;C!==void 0&&C(D)}function K(){const{value:D}=s;D!=null&&(h.value=D.scrollTop,l.value=D.scrollLeft)}function N(D){let C=D;for(;C!==null;){if(C.style.display==="none")return!0;C=C.parentElement}return!1}return{listHeight:c,listStyle:{overflow:"auto"},keyToIndex:i,itemsStyle:J(()=>{const{itemResizable:D}=e,C=Yt(d.value.sum());return f.value,[e.itemsStyle,{boxSizing:"content-box",width:Yt(r.value),height:D?"":C,minHeight:D?C:"",paddingTop:Yt(e.paddingTop),paddingBottom:Yt(e.paddingBottom)}]}),visibleItemsStyle:J(()=>(f.value,{transform:"translateY(".concat(Yt(d.value.sum(v.value)),")")})),viewportItems:p,listElRef:s,itemsElRef:Y(null),scrollTo:y,handleListResize:R,handleListScroll:T,handleListWheel:U,handleItemResize:M}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:o}=this;return x(yi,{onResize:this.handleListResize},{default:()=>{var r,i;return x("div",xr(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?x("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[x(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:l,renderItemWithCols:a}=this;return this.viewportItems.map(s=>{const c=s[t],u=n.get(c),d=l!=null?x(Fl,{index:u,item:s}):void 0,f=a!=null?x(Fl,{index:u,item:s}):void 0,h=this.$slots.default({item:s,renderedCols:d,renderedItemWithCols:f,index:u})[0];return e?x(yi,{key:c,onResize:v=>this.handleItemResize(c,v)},{default:()=>h}):(h.key=c,h)})}})]):(i=(r=this.$slots).empty)===null||i===void 0?void 0:i.call(r)])}})}}),tn="v-hidden",Id=Cn("[v-hidden]",{display:"none!important"}),Ll=Se({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const n=Y(null),o=Y(null);function r(l){const{value:a}=n,{getCounter:s,getTail:c}=e;let u;if(s!==void 0?u=s():u=o.value,!a||!u)return;u.hasAttribute(tn)&&u.removeAttribute(tn);const{children:d}=a;if(l.showAllItemsBeforeCalculate)for(const m of d)m.hasAttribute(tn)&&m.removeAttribute(tn);const f=a.offsetWidth,h=[],v=t.tail?c==null?void 0:c():null;let p=v?v.offsetWidth:0,y=!1;const g=a.children.length-(t.tail?1:0);for(let m=0;m<g-1;++m){if(m<0)continue;const b=d[m];if(y){b.hasAttribute(tn)||b.setAttribute(tn,"");continue}else b.hasAttribute(tn)&&b.removeAttribute(tn);const M=b.offsetWidth;if(p+=M,h[m]=M,p>f){const{updateCounter:A}=e;for(let P=m;P>=0;--P){const T=g-1-P;A!==void 0?A(T):u.textContent="".concat(T);const U=u.offsetWidth;if(p-=h[P],p+U<=f||P===0){y=!0,m=P-1,v&&(m===-1?(v.style.maxWidth="".concat(f-U,"px"),v.style.boxSizing="border-box"):v.style.maxWidth="");const{onUpdateCount:R}=e;R&&R(T);break}}}}const{onUpdateOverflow:w}=e;y?w!==void 0&&w(!0):(w!==void 0&&w(!1),u.setAttribute(tn,""))}const i=Zi();return Id.mount({id:"vueuc/overflow",head:!0,anchorMetaName:ll,ssr:i}),rt(()=>r({showAllItemsBeforeCalculate:!1})),{selfRef:n,counterRef:o,sync:r}},render(){const{$slots:e}=this;return et(()=>this.sync({showAllItemsBeforeCalculate:!1})),x("div",{class:"v-overflow",ref:"selfRef"},[Qe(e,"default"),e.counter?e.counter():x("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function xs(e,t){t&&(rt(()=>{const{value:n}=e;n&&Vr.registerHandler(n,t)}),Ae(e,(n,o)=>{o&&Vr.unregisterHandler(o)},{deep:!1}),fn(()=>{const{value:n}=e;n&&Vr.unregisterHandler(n)}))}let Yr;function Ad(){return Yr===void 0&&(Yr=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Yr}function Vl(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function Cs(e){return typeof e=="string"?"s-".concat(e):"n-".concat(e)}function jr(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(o=>{o&&o(n)})}}const Od={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:e=>"Please load all ".concat(e,"'s descendants before checking it.")},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"YYYY-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:e=>"Total ".concat(e," items"),selected:e=>"".concat(e," items selected")},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (←)",tipNext:"Next picture (→)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}},Dd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rd=(e,t,n)=>{let o;const r=Dd[e];return typeof r=="string"?o=r:t===1?o=r.one:o=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o},Bd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fd=(e,t,n,o)=>Bd[e],Ld={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vd={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ud={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gd=(e,t)=>{const n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yd={ordinalNumber:Gd,era:lo({values:Ld,defaultWidth:"wide"}),quarter:lo({values:Vd,defaultWidth:"wide",argumentCallback:e=>e-1}),month:lo({values:Hd,defaultWidth:"wide"}),day:lo({values:Kd,defaultWidth:"wide"}),dayPeriod:lo({values:Wd,defaultWidth:"wide",formattingValues:Ud,defaultFormattingWidth:"wide"})},jd=/^(\d+)(th|st|nd|rd)?/i,Xd=/\d+/i,Zd={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qd={any:[/^b/i,/^(a|c)/i]},Jd={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qd={any:[/1/i,/2/i,/3/i,/4/i]},ef={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tf={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nf={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},of={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},af={ordinalNumber:$u({matchPattern:jd,parsePattern:Xd,valueCallback:e=>parseInt(e,10)}),era:ao({matchPatterns:Zd,defaultMatchWidth:"wide",parsePatterns:qd,defaultParseWidth:"any"}),quarter:ao({matchPatterns:Jd,defaultMatchWidth:"wide",parsePatterns:Qd,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ao({matchPatterns:ef,defaultMatchWidth:"wide",parsePatterns:tf,defaultParseWidth:"any"}),day:ao({matchPatterns:nf,defaultMatchWidth:"wide",parsePatterns:of,defaultParseWidth:"any"}),dayPeriod:ao({matchPatterns:rf,defaultMatchWidth:"any",parsePatterns:lf,defaultParseWidth:"any"})},sf={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cf={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uf={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},df={date:Hr({formats:sf,defaultWidth:"full"}),time:Hr({formats:cf,defaultWidth:"full"}),dateTime:Hr({formats:uf,defaultWidth:"full"})},ff={code:"en-US",formatDistance:Rd,formatLong:df,formatRelative:Fd,localize:Yd,match:af,options:{weekStartsOn:0,firstWeekContainsDate:1}},hf={name:"en-US",locale:ff};var Si=Cr(_r,"WeakMap"),vf=Mu(Object.keys,Object),gf=Object.prototype,pf=gf.hasOwnProperty;function mf(e){if(!Nu(e))return vf(e);var t=[];for(var n in Object(e))pf.call(e,n)&&n!="constructor"&&t.push(n);return t}function al(e){return Ji(e)?Pu(e):mf(e)}var bf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yf=/^\w*$/;function sl(e,t){if(_n(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ja(e)?!0:yf.test(e)||!bf.test(e)||t!=null&&e in Object(t)}var wf="Expected a function";function cl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wf);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var l=e.apply(this,o);return n.cache=i.set(r,l)||i,l};return n.cache=new(cl.Cache||Qi),n}cl.Cache=Qi;var xf=500;function Cf(e){var t=cl(e,function(o){return n.size===xf&&n.clear(),o}),n=t.cache;return t}var _f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sf=/\\(\\)?/g,kf=Cf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_f,function(n,o,r,i){t.push(r?i.replace(Sf,"$1"):o||n)}),t});function _s(e,t){return _n(e)?e:sl(e,t)?[e]:kf(Tu(e))}function $r(e){if(typeof e=="string"||Ja(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ss(e,t){t=_s(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[$r(t[n++])];return n&&n==o?e:void 0}function Ef(e,t,n){var o=e==null?void 0:Ss(e,t);return o===void 0?n:o}function $f(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function Mf(e,t){for(var n=-1,o=e==null?0:e.length,r=0,i=[];++n<o;){var l=e[n];t(l,n,e)&&(i[r++]=l)}return i}function Nf(){return[]}var Pf=Object.prototype,Tf=Pf.propertyIsEnumerable,Hl=Object.getOwnPropertySymbols,zf=Hl?function(e){return e==null?[]:(e=Object(e),Mf(Hl(e),function(t){return Tf.call(e,t)}))}:Nf;function If(e,t,n){var o=t(e);return _n(e)?o:$f(o,n(e))}function Kl(e){return If(e,al,zf)}var ki=Cr(_r,"DataView"),Ei=Cr(_r,"Promise"),$i=Cr(_r,"Set"),Wl="[object Map]",Af="[object Object]",Ul="[object Promise]",Gl="[object Set]",Yl="[object WeakMap]",jl="[object DataView]",Of=Qn(ki),Df=Qn(wi),Rf=Qn(Ei),Bf=Qn($i),Ff=Qn(Si),yn=Qa;(ki&&yn(new ki(new ArrayBuffer(1)))!=jl||wi&&yn(new wi)!=Wl||Ei&&yn(Ei.resolve())!=Ul||$i&&yn(new $i)!=Gl||Si&&yn(new Si)!=Yl)&&(yn=function(e){var t=Qa(e),n=t==Af?e.constructor:void 0,o=n?Qn(n):"";if(o)switch(o){case Of:return jl;case Df:return Wl;case Rf:return Ul;case Bf:return Gl;case Ff:return Yl}return t});var Lf="__lodash_hash_undefined__";function Vf(e){return this.__data__.set(e,Lf),this}function Hf(e){return this.__data__.has(e)}function ar(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Qi;++t<n;)this.add(e[t])}ar.prototype.add=ar.prototype.push=Vf;ar.prototype.has=Hf;function Kf(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function Wf(e,t){return e.has(t)}var Uf=1,Gf=2;function ks(e,t,n,o,r,i){var l=n&Uf,a=e.length,s=t.length;if(a!=s&&!(l&&s>a))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,h=n&Gf?new ar:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var v=e[d],p=t[d];if(o)var y=l?o(p,v,d,t,e,i):o(v,p,d,e,t,i);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!Kf(t,function(g,w){if(!Wf(h,w)&&(v===g||r(v,g,n,o,i)))return h.push(w)})){f=!1;break}}else if(!(v===p||r(v,p,n,o,i))){f=!1;break}}return i.delete(e),i.delete(t),f}function Yf(e){var t=-1,n=Array(e.size);return e.forEach(function(o,r){n[++t]=[r,o]}),n}function jf(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var Xf=1,Zf=2,qf="[object Boolean]",Jf="[object Date]",Qf="[object Error]",eh="[object Map]",th="[object Number]",nh="[object RegExp]",oh="[object Set]",rh="[object String]",ih="[object Symbol]",lh="[object ArrayBuffer]",ah="[object DataView]",Xl=$l?$l.prototype:void 0,Xr=Xl?Xl.valueOf:void 0;function sh(e,t,n,o,r,i,l){switch(n){case ah:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lh:return!(e.byteLength!=t.byteLength||!i(new Ml(e),new Ml(t)));case qf:case Jf:case th:return zu(+e,+t);case Qf:return e.name==t.name&&e.message==t.message;case nh:case rh:return e==t+"";case eh:var a=Yf;case oh:var s=o&Xf;if(a||(a=jf),e.size!=t.size&&!s)return!1;var c=l.get(e);if(c)return c==t;o|=Zf,l.set(e,t);var u=ks(a(e),a(t),o,r,i,l);return l.delete(e),u;case ih:if(Xr)return Xr.call(e)==Xr.call(t)}return!1}var ch=1,uh=Object.prototype,dh=uh.hasOwnProperty;function fh(e,t,n,o,r,i){var l=n&ch,a=Kl(e),s=a.length,c=Kl(t),u=c.length;if(s!=u&&!l)return!1;for(var d=s;d--;){var f=a[d];if(!(l?f in t:dh.call(t,f)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var y=l;++d<s;){f=a[d];var g=e[f],w=t[f];if(o)var m=l?o(w,g,f,t,e,i):o(g,w,f,e,t,i);if(!(m===void 0?g===w||r(g,w,n,o,i):m)){p=!1;break}y||(y=f=="constructor")}if(p&&!y){var b=e.constructor,M=t.constructor;b!=M&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof M=="function"&&M instanceof M)&&(p=!1)}return i.delete(e),i.delete(t),p}var hh=1,Zl="[object Arguments]",ql="[object Array]",Lo="[object Object]",vh=Object.prototype,Jl=vh.hasOwnProperty;function gh(e,t,n,o,r,i){var l=_n(e),a=_n(t),s=l?ql:yn(e),c=a?ql:yn(t);s=s==Zl?Lo:s,c=c==Zl?Lo:c;var u=s==Lo,d=c==Lo,f=s==c;if(f&&Nl(e)){if(!Nl(t))return!1;l=!0,u=!1}if(f&&!u)return i||(i=new Jo),l||Iu(e)?ks(e,t,n,o,r,i):sh(e,t,s,n,o,r,i);if(!(n&hh)){var h=u&&Jl.call(e,"__wrapped__"),v=d&&Jl.call(t,"__wrapped__");if(h||v){var p=h?e.value():e,y=v?t.value():t;return i||(i=new Jo),r(p,y,n,o,i)}}return f?(i||(i=new Jo),fh(e,t,n,o,r,i)):!1}function ul(e,t,n,o,r){return e===t?!0:e==null||t==null||!Pl(e)&&!Pl(t)?e!==e&&t!==t:gh(e,t,n,o,ul,r)}var ph=1,mh=2;function bh(e,t,n,o){var r=n.length,i=r;if(e==null)return!i;for(e=Object(e);r--;){var l=n[r];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<i;){l=n[r];var a=l[0],s=e[a],c=l[1];if(l[2]){if(s===void 0&&!(a in e))return!1}else{var u=new Jo,d;if(!(d===void 0?ul(c,s,ph|mh,o,u):d))return!1}}return!0}function Es(e){return e===e&&!Au(e)}function yh(e){for(var t=al(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Es(r)]}return t}function $s(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function wh(e){var t=yh(e);return t.length==1&&t[0][2]?$s(t[0][0],t[0][1]):function(n){return n===e||bh(n,e,t)}}function xh(e,t){return e!=null&&t in Object(e)}function Ch(e,t,n){t=_s(t,e);for(var o=-1,r=t.length,i=!1;++o<r;){var l=$r(t[o]);if(!(i=e!=null&&n(e,l)))break;e=e[l]}return i||++o!=r?i:(r=e==null?0:e.length,!!r&&Ou(r)&&Du(l,r)&&(_n(e)||Ru(e)))}function _h(e,t){return e!=null&&Ch(e,t,xh)}var Sh=1,kh=2;function Eh(e,t){return sl(e)&&Es(t)?$s($r(e),t):function(n){var o=Ef(n,e);return o===void 0&&o===t?_h(n,e):ul(t,o,Sh|kh)}}function $h(e){return function(t){return t==null?void 0:t[e]}}function Mh(e){return function(t){return Ss(t,e)}}function Nh(e){return sl(e)?$h($r(e)):Mh(e)}function Ph(e){return typeof e=="function"?e:e==null?Bu:typeof e=="object"?_n(e)?Eh(e[0],e[1]):wh(e):Nh(e)}function Th(e,t){return e&&Fu(e,t,al)}function zh(e,t){return function(n,o){if(n==null)return n;if(!Ji(n))return e(n,o);for(var r=n.length,i=-1,l=Object(n);++i<r&&o(l[i],i,l)!==!1;);return n}}var Ih=zh(Th);function Ah(e,t){var n=-1,o=Ji(e)?Array(e.length):[];return Ih(e,function(r,i,l){o[++n]=t(r,i,l)}),o}function Oh(e,t){var n=_n(e)?Lu:Ah;return n(e,Ph(t))}function dl(e){const{mergedLocaleRef:t,mergedDateLocaleRef:n}=Xe(Vu,null)||{},o=J(()=>{var i,l;return(l=(i=t==null?void 0:t.value)===null||i===void 0?void 0:i[e])!==null&&l!==void 0?l:Od[e]});return{dateLocaleRef:J(()=>{var i;return(i=n==null?void 0:n.value)!==null&&i!==void 0?i:hf}),localeRef:o}}const Dh=Se({name:"Checkmark",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},x("g",{fill:"none"},x("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Rh=Se({name:"ChevronDown",render(){return x("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),Bh=Hu("clear",()=>x("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},x("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},x("g",{fill:"currentColor","fill-rule":"nonzero"},x("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),Fh=Se({name:"Empty",render(){return x("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),x("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Lh=Se({name:"Eye",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},x("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),x("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),Vh=Se({name:"EyeOff",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},x("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),x("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),x("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),x("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),x("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),Hh=Se({name:"Switcher",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},x("path",{d:"M12 8l10 8l-10 8z"}))}}),Kh=oe("base-clear","\n flex-shrink: 0;\n height: 1em;\n width: 1em;\n position: relative;\n",[Ee(">",[te("clear","\n font-size: var(--n-clear-size);\n height: 1em;\n width: 1em;\n cursor: pointer;\n color: var(--n-clear-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n ",[Ee("&:hover","\n color: var(--n-clear-color-hover)!important;\n "),Ee("&:active","\n color: var(--n-clear-color-pressed)!important;\n ")]),te("placeholder","\n display: flex;\n "),te("clear, placeholder","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n ",[xo({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Mi=Se({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return es("-base-clear",Kh,ce(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return x("div",{class:"".concat(e,"-base-clear")},x(Sr,null,{default:()=>{var t,n;return this.show?x("div",{key:"dismiss",class:"".concat(e,"-base-clear__clear"),onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},cn(this.$slots.icon,()=>[x(In,{clsPrefix:e},{default:()=>x(Bh,null)})])):x("div",{key:"icon",class:"".concat(e,"-base-clear__placeholder")},(n=(t=this.$slots).placeholder)===null||n===void 0?void 0:n.call(t))}}))}}),Wh=Se({props:{onFocus:Function,onBlur:Function},setup(e){return()=>x("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Ql(e){return Array.isArray(e)?e:[e]}const Ni={STOP:"STOP"};function Ms(e,t){const n=t(e);e.children!==void 0&&n!==Ni.STOP&&e.children.forEach(o=>Ms(o,t))}function Uh(e,t={}){const{preserveGroup:n=!1}=t,o=[],r=n?l=>{l.isLeaf||(o.push(l.key),i(l.children))}:l=>{l.isLeaf||(l.isGroup||o.push(l.key),i(l.children))};function i(l){l.forEach(r)}return i(e),o}function Gh(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function Yh(e){return e.children}function jh(e){return e.key}function Xh(){return!1}function Zh(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function qh(e){return e.disabled===!0}function Jh(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function Zr(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function qr(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function Qh(e,t){const n=new Set(e);return t.forEach(o=>{n.has(o)||n.add(o)}),Array.from(n)}function ev(e,t){const n=new Set(e);return t.forEach(o=>{n.has(o)&&n.delete(o)}),Array.from(n)}function tv(e){return(e==null?void 0:e.type)==="group"}function Ns(e){const t=new Map;return e.forEach((n,o)=>{t.set(n.key,o)}),n=>{var o;return(o=t.get(n))!==null&&o!==void 0?o:null}}class nv extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function ov(e,t,n,o){return sr(t.concat(e),n,o,!1)}function rv(e,t){const n=new Set;return e.forEach(o=>{const r=t.treeNodeMap.get(o);if(r!==void 0){let i=r.parent;for(;i!==null&&!(i.disabled||n.has(i.key));)n.add(i.key),i=i.parent}}),n}function iv(e,t,n,o){const r=sr(t,n,o,!1),i=sr(e,n,o,!0),l=rv(e,n),a=[];return r.forEach(s=>{(i.has(s)||l.has(s))&&a.push(s)}),a.forEach(s=>r.delete(s)),r}function Jr(e,t){const{checkedKeys:n,keysToCheck:o,keysToUncheck:r,indeterminateKeys:i,cascade:l,leafOnly:a,checkStrategy:s,allowNotLoaded:c}=e;if(!l)return o!==void 0?{checkedKeys:Qh(n,o),indeterminateKeys:Array.from(i)}:r!==void 0?{checkedKeys:ev(n,r),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:u}=t;let d;r!==void 0?d=iv(r,n,t,c):o!==void 0?d=ov(o,n,t,c):d=sr(n,t,c,!1);const f=s==="parent",h=s==="child"||a,v=d,p=new Set,y=Math.max.apply(null,Array.from(u.keys()));for(let g=y;g>=0;g-=1){const w=g===0,m=u.get(g);for(const b of m){if(b.isLeaf)continue;const{key:M,shallowLoaded:A}=b;if(h&&A&&b.children.forEach(R=>{!R.disabled&&!R.isLeaf&&R.shallowLoaded&&v.has(R.key)&&v.delete(R.key)}),b.disabled||!A)continue;let P=!0,T=!1,U=!0;for(const R of b.children){const K=R.key;if(!R.disabled){if(U&&(U=!1),v.has(K))T=!0;else if(p.has(K)){T=!0,P=!1;break}else if(P=!1,T)break}}P&&!U?(f&&b.children.forEach(R=>{!R.disabled&&v.has(R.key)&&v.delete(R.key)}),v.add(M)):T&&p.add(M),w&&h&&v.has(M)&&v.delete(M)}}return{checkedKeys:Array.from(v),indeterminateKeys:Array.from(p)}}function sr(e,t,n,o){const{treeNodeMap:r,getChildren:i}=t,l=new Set,a=new Set(e);return e.forEach(s=>{const c=r.get(s);c!==void 0&&Ms(c,u=>{if(u.disabled)return Ni.STOP;const{key:d}=u;if(!l.has(d)&&(l.add(d),a.add(d),Jh(u.rawNode,i))){if(o)return Ni.STOP;if(!n)throw new nv}})}),a}function lv(e,{includeGroup:t=!1,includeSelf:n=!0},o){var r;const i=o.treeNodeMap;let l=e==null?null:(r=i.get(e))!==null&&r!==void 0?r:null;const a={keyPath:[],treeNodePath:[],treeNode:l};if(l!=null&&l.ignored)return a.treeNode=null,a;for(;l;)!l.ignored&&(t||!l.isGroup)&&a.treeNodePath.push(l),l=l.parent;return a.treeNodePath.reverse(),n||a.treeNodePath.pop(),a.keyPath=a.treeNodePath.map(s=>s.key),a}function av(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function sv(e,t){const n=e.siblings,o=n.length,{index:r}=e;return t?n[(r+1)%o]:r===n.length-1?null:n[r+1]}function ea(e,t,{loop:n=!1,includeDisabled:o=!1}={}){const r=t==="prev"?cv:sv,i={reverse:t==="prev"};let l=!1,a=null;function s(c){if(c!==null){if(c===e){if(!l)l=!0;else if(!e.disabled&&!e.isGroup){a=e;return}}else if((!c.disabled||o)&&!c.ignored&&!c.isGroup){a=c;return}if(c.isGroup){const u=fl(c,i);u!==null?a=u:s(r(c,n))}else{const u=r(c,!1);if(u!==null)s(u);else{const d=uv(c);d!=null&&d.isGroup?s(r(d,n)):n&&s(r(c,!0))}}}}return s(e),a}function cv(e,t){const n=e.siblings,o=n.length,{index:r}=e;return t?n[(r-1+o)%o]:r===0?null:n[r-1]}function uv(e){return e.parent}function fl(e,t={}){const{reverse:n=!1}=t,{children:o}=e;if(o){const{length:r}=o,i=n?r-1:0,l=n?-1:r,a=n?-1:1;for(let s=i;s!==l;s+=a){const c=o[s];if(!c.disabled&&!c.ignored)if(c.isGroup){const u=fl(c,t);if(u!==null)return u}else return c}}return null}const dv={getChild(){return this.ignored?null:fl(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return ea(this,"next",e)},getPrev(e={}){return ea(this,"prev",e)}};function Pi(e,t){const n=t?new Set(t):void 0,o=[];function r(i){i.forEach(l=>{o.push(l),!(l.isLeaf||!l.children||l.ignored)&&(l.isGroup||n===void 0||n.has(l.key))&&r(l.children)})}return r(e),o}function fv(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function Ps(e,t,n,o,r,i=null,l=0){const a=[];return e.forEach((s,c)=>{var u;const d=Object.create(o);if(d.rawNode=s,d.siblings=a,d.level=l,d.index=c,d.isFirstChild=c===0,d.isLastChild=c+1===e.length,d.parent=i,!d.ignored){const f=r(s);Array.isArray(f)&&(d.children=Ps(f,t,n,o,r,d,l+1))}a.push(d),t.set(d.key,d),n.has(l)||n.set(l,[]),(u=n.get(l))===null||u===void 0||u.push(d)}),a}function Ti(e,t={}){var n;const o=new Map,r=new Map,{getDisabled:i=qh,getIgnored:l=Xh,getIsGroup:a=tv,getKey:s=jh}=t,c=(n=t.getChildren)!==null&&n!==void 0?n:Yh,u=t.ignoreEmptyChildren?b=>{const M=c(b);return Array.isArray(M)?M.length?M:null:M}:c,d=Object.assign({get key(){return s(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return a(this.rawNode)},get isLeaf(){return Gh(this.rawNode,u)},get shallowLoaded(){return Zh(this.rawNode,u)},get ignored(){return l(this.rawNode)},contains(b){return fv(this,b)}},dv),f=Ps(e,o,r,d,u);function h(b){if(b==null)return null;const M=o.get(b);return M&&!M.isGroup&&!M.ignored?M:null}function v(b){if(b==null)return null;const M=o.get(b);return M&&!M.ignored?M:null}function p(b,M){const A=v(b);return A?A.getPrev(M):null}function y(b,M){const A=v(b);return A?A.getNext(M):null}function g(b){const M=v(b);return M?M.getParent():null}function w(b){const M=v(b);return M?M.getChild():null}const m={treeNodes:f,treeNodeMap:o,levelTreeNodeMap:r,maxLevel:Math.max(...r.keys()),getChildren:u,getFlattenedNodes(b){return Pi(f,b)},getNode:h,getPrev:p,getNext:y,getParent:g,getChild:w,getFirstAvailableNode(){return av(f)},getPath(b,M={}){return lv(b,M,m)},getCheckedKeys(b,M={}){const{cascade:A=!0,leafOnly:P=!1,checkStrategy:T="all",allowNotLoaded:U=!1}=M;return Jr({checkedKeys:Zr(b),indeterminateKeys:qr(b),cascade:A,leafOnly:P,checkStrategy:T,allowNotLoaded:U},m)},check(b,M,A={}){const{cascade:P=!0,leafOnly:T=!1,checkStrategy:U="all",allowNotLoaded:R=!1}=A;return Jr({checkedKeys:Zr(M),indeterminateKeys:qr(M),keysToCheck:b==null?[]:Ql(b),cascade:P,leafOnly:T,checkStrategy:U,allowNotLoaded:R},m)},uncheck(b,M,A={}){const{cascade:P=!0,leafOnly:T=!1,checkStrategy:U="all",allowNotLoaded:R=!1}=A;return Jr({checkedKeys:Zr(M),indeterminateKeys:qr(M),keysToUncheck:b==null?[]:Ql(b),cascade:P,leafOnly:T,checkStrategy:U,allowNotLoaded:R},m)},getNonLeafKeys(b={}){return Uh(f,b)}};return m}const hv={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function vv(e){const{textColorDisabled:t,iconColor:n,textColor2:o,fontSizeTiny:r,fontSizeSmall:i,fontSizeMedium:l,fontSizeLarge:a,fontSizeHuge:s}=e;return Object.assign(Object.assign({},hv),{fontSizeTiny:r,fontSizeSmall:i,fontSizeMedium:l,fontSizeLarge:a,fontSizeHuge:s,textColor:t,iconColor:n,extraTextColor:o})}const hl={name:"Empty",common:Tt,self:vv},gv=oe("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[te("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[Ee("+",[te("description","\n margin-top: 8px;\n ")])]),te("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),te("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),pv=Object.assign(Object.assign({},Ze.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),zi=Se({name:"Empty",props:pv,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedComponentPropsRef:o}=zt(e),r=Ze("Empty","-empty",gv,hl,e,t),{localeRef:i}=dl("Empty"),l=J(()=>{var u,d,f;return(u=e.description)!==null&&u!==void 0?u:(f=(d=o==null?void 0:o.value)===null||d===void 0?void 0:d.Empty)===null||f===void 0?void 0:f.description}),a=J(()=>{var u,d;return((d=(u=o==null?void 0:o.value)===null||u===void 0?void 0:u.Empty)===null||d===void 0?void 0:d.renderIcon)||(()=>x(Fh,null))}),s=J(()=>{const{size:u}=e,{common:{cubicBezierEaseInOut:d},self:{[Ke("iconSize",u)]:f,[Ke("fontSize",u)]:h,textColor:v,iconColor:p,extraTextColor:y}}=r.value;return{"--n-icon-size":f,"--n-font-size":h,"--n-bezier":d,"--n-text-color":v,"--n-icon-color":p,"--n-extra-text-color":y}}),c=n?Ft("empty",J(()=>{let u="";const{size:d}=e;return u+=d[0],u}),s,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:a,localizedDescription:J(()=>l.value||i.value.description),cssVars:n?void 0:s,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),x("div",{class:["".concat(t,"-empty"),this.themeClass],style:this.cssVars},this.showIcon?x("div",{class:"".concat(t,"-empty__icon")},e.icon?e.icon():x(In,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?x("div",{class:"".concat(t,"-empty__description")},e.default?e.default():this.localizedDescription):null,e.extra?x("div",{class:"".concat(t,"-empty__extra")},e.extra()):null)}}),mv={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function bv(e){const{borderRadius:t,popoverColor:n,textColor3:o,dividerColor:r,textColor2:i,primaryColorPressed:l,textColorDisabled:a,primaryColor:s,opacityDisabled:c,hoverColor:u,fontSizeTiny:d,fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:v,fontSizeHuge:p,heightTiny:y,heightSmall:g,heightMedium:w,heightLarge:m,heightHuge:b}=e;return Object.assign(Object.assign({},mv),{optionFontSizeTiny:d,optionFontSizeSmall:f,optionFontSizeMedium:h,optionFontSizeLarge:v,optionFontSizeHuge:p,optionHeightTiny:y,optionHeightSmall:g,optionHeightMedium:w,optionHeightLarge:m,optionHeightHuge:b,borderRadius:t,color:n,groupHeaderTextColor:o,actionDividerColor:r,optionTextColor:i,optionTextColorPressed:l,optionTextColorDisabled:a,optionTextColorActive:s,optionOpacityDisabled:c,optionCheckColor:s,optionColorPending:u,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:u,actionTextColor:i,loadingColor:s})}const Ts=Po({name:"InternalSelectMenu",common:Tt,peers:{Scrollbar:ts,Empty:hl},self:bv}),ta=Se({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:o}=Xe(il);return{labelField:n,nodeProps:o,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:o,tmNode:{rawNode:r}}=this,i=o==null?void 0:o(r),l=t?t(r,!1):ln(r[this.labelField],r,!1),a=x("div",Object.assign({},i,{class:["".concat(e,"-base-select-group-header"),i==null?void 0:i.class]}),l);return r.render?r.render({node:a,option:r}):n?n({node:a,option:r,selected:!1}):a}});function yv(e,t){return x(el,{name:"fade-in-scale-up-transition"},{default:()=>e?x(In,{clsPrefix:t,class:"".concat(t,"-base-select-option__check")},{default:()=>x(Dh)}):null})}const na=Se({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:o,valueSetRef:r,renderLabelRef:i,renderOptionRef:l,labelFieldRef:a,valueFieldRef:s,showCheckmarkRef:c,nodePropsRef:u,handleOptionClick:d,handleOptionMouseEnter:f}=Xe(il),h=Ye(()=>{const{value:g}=n;return g?e.tmNode.key===g.key:!1});function v(g){const{tmNode:w}=e;w.disabled||d(g,w)}function p(g){const{tmNode:w}=e;w.disabled||f(g,w)}function y(g){const{tmNode:w}=e,{value:m}=h;w.disabled||m||f(g,w)}return{multiple:o,isGrouped:Ye(()=>{const{tmNode:g}=e,{parent:w}=g;return w&&w.rawNode.type==="group"}),showCheckmark:c,nodeProps:u,isPending:h,isSelected:Ye(()=>{const{value:g}=t,{value:w}=o;if(g===null)return!1;const m=e.tmNode.rawNode[s.value];if(w){const{value:b}=r;return b.has(m)}else return g===m}),labelField:a,renderLabel:i,renderOption:l,handleMouseMove:y,handleMouseEnter:p,handleClick:v}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:o,isGrouped:r,showCheckmark:i,nodeProps:l,renderOption:a,renderLabel:s,handleClick:c,handleMouseEnter:u,handleMouseMove:d}=this,f=yv(n,e),h=s?[s(t,n),i&&f]:[ln(t[this.labelField],t,n),i&&f],v=l==null?void 0:l(t),p=x("div",Object.assign({},v,{class:["".concat(e,"-base-select-option"),t.class,v==null?void 0:v.class,{["".concat(e,"-base-select-option--disabled")]:t.disabled,["".concat(e,"-base-select-option--selected")]:n,["".concat(e,"-base-select-option--grouped")]:r,["".concat(e,"-base-select-option--pending")]:o,["".concat(e,"-base-select-option--show-checkmark")]:i}],style:[(v==null?void 0:v.style)||"",t.style||""],onClick:jr([c,v==null?void 0:v.onClick]),onMouseenter:jr([u,v==null?void 0:v.onMouseenter]),onMousemove:jr([d,v==null?void 0:v.onMousemove])}),x("div",{class:"".concat(e,"-base-select-option__content")},h));return t.render?t.render({node:p,option:t,selected:n}):a?a({node:p,option:t,selected:n}):p}}),wv=oe("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[oe("scrollbar","\n max-height: var(--n-height);\n "),oe("virtual-list","\n max-height: var(--n-height);\n "),oe("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[te("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),oe("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),oe("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),te("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),te("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),te("header","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),te("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),oe("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),oe("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[ve("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),Ee("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),Ee("&:active","\n color: var(--n-option-text-color-pressed);\n "),ve("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),ve("pending",[Ee("&::before","\n background-color: var(--n-option-color-pending);\n ")]),ve("selected","\n color: var(--n-option-text-color-active);\n ",[Ee("&::before","\n background-color: var(--n-option-color-active);\n "),ve("pending",[Ee("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),ve("disabled","\n cursor: not-allowed;\n ",[nt("selected","\n color: var(--n-option-text-color-disabled);\n "),ve("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),te("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[ns({enterScale:"0.5"})])])]),xv=Se({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Ze.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=zt(e),o=eo("InternalSelectMenu",n,t),r=Ze("InternalSelectMenu","-internal-select-menu",wv,Ts,e,ce(e,"clsPrefix")),i=Y(null),l=Y(null),a=Y(null),s=J(()=>e.treeMate.getFlattenedNodes()),c=J(()=>Ns(s.value)),u=Y(null);function d(){const{treeMate:V}=e;let O=null;const{value:H}=e;H===null?O=V.getFirstAvailableNode():(e.multiple?O=V.getNode((H||[])[(H||[]).length-1]):O=V.getNode(H),(!O||O.disabled)&&(O=V.getFirstAvailableNode())),C(O||null)}function f(){const{value:V}=u;V&&!e.treeMate.getNode(V.key)&&(u.value=null)}let h;Ae(()=>e.show,V=>{V?h=Ae(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?d():f(),et(E)):f()},{immediate:!0}):h==null||h()},{immediate:!0}),fn(()=>{h==null||h()});const v=J(()=>ct(r.value.self[Ke("optionHeight",e.size)])),p=J(()=>Xt(r.value.self[Ke("padding",e.size)])),y=J(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),g=J(()=>{const V=s.value;return V&&V.length===0});function w(V){const{onToggle:O}=e;O&&O(V)}function m(V){const{onScroll:O}=e;O&&O(V)}function b(V){var O;(O=a.value)===null||O===void 0||O.sync(),m(V)}function M(){var V;(V=a.value)===null||V===void 0||V.sync()}function A(){const{value:V}=u;return V||null}function P(V,O){O.disabled||C(O,!1)}function T(V,O){O.disabled||w(O)}function U(V){var O;an(V,"action")||(O=e.onKeyup)===null||O===void 0||O.call(e,V)}function R(V){var O;an(V,"action")||(O=e.onKeydown)===null||O===void 0||O.call(e,V)}function K(V){var O;(O=e.onMousedown)===null||O===void 0||O.call(e,V),!e.focusable&&V.preventDefault()}function N(){const{value:V}=u;V&&C(V.getNext({loop:!0}),!0)}function D(){const{value:V}=u;V&&C(V.getPrev({loop:!0}),!0)}function C(V,O=!1){u.value=V,O&&E()}function E(){var V,O;const H=u.value;if(!H)return;const ee=c.value(H.key);ee!==null&&(e.virtualScroll?(V=l.value)===null||V===void 0||V.scrollTo({index:ee}):(O=a.value)===null||O===void 0||O.scrollTo({index:ee,elSize:v.value}))}function _(V){var O,H;!((O=i.value)===null||O===void 0)&&O.contains(V.target)&&((H=e.onFocus)===null||H===void 0||H.call(e,V))}function F(V){var O,H;!((O=i.value)===null||O===void 0)&&O.contains(V.relatedTarget)||(H=e.onBlur)===null||H===void 0||H.call(e,V)}vt(il,{handleOptionMouseEnter:P,handleOptionClick:T,valueSetRef:y,pendingTmNodeRef:u,nodePropsRef:ce(e,"nodeProps"),showCheckmarkRef:ce(e,"showCheckmark"),multipleRef:ce(e,"multiple"),valueRef:ce(e,"value"),renderLabelRef:ce(e,"renderLabel"),renderOptionRef:ce(e,"renderOption"),labelFieldRef:ce(e,"labelField"),valueFieldRef:ce(e,"valueField")}),vt(ds,i),rt(()=>{const{value:V}=a;V&&V.sync()});const L=J(()=>{const{size:V}=e,{common:{cubicBezierEaseInOut:O},self:{height:H,borderRadius:ee,color:ae,groupHeaderTextColor:fe,actionDividerColor:xe,optionTextColorPressed:be,optionTextColor:ze,optionTextColorDisabled:me,optionTextColorActive:Ne,optionOpacityDisabled:Ie,optionCheckColor:$,actionTextColor:S,optionColorPending:k,optionColorActive:B,loadingColor:q,loadingSize:ge,optionColorActivePending:X,[Ke("optionFontSize",V)]:ue,[Ke("optionHeight",V)]:Ce,[Ke("optionPadding",V)]:he}}=r.value;return{"--n-height":H,"--n-action-divider-color":xe,"--n-action-text-color":S,"--n-bezier":O,"--n-border-radius":ee,"--n-color":ae,"--n-option-font-size":ue,"--n-group-header-text-color":fe,"--n-option-check-color":$,"--n-option-color-pending":k,"--n-option-color-active":B,"--n-option-color-active-pending":X,"--n-option-height":Ce,"--n-option-opacity-disabled":Ie,"--n-option-text-color":ze,"--n-option-text-color-active":Ne,"--n-option-text-color-disabled":me,"--n-option-text-color-pressed":be,"--n-option-padding":he,"--n-option-padding-left":Xt(he,"left"),"--n-option-padding-right":Xt(he,"right"),"--n-loading-color":q,"--n-loading-size":ge}}),{inlineThemeDisabled:Q}=e,j=Q?Ft("internal-select-menu",J(()=>e.size[0]),L,e):void 0,re={selfRef:i,next:N,prev:D,getPendingTmNode:A};return xs(i,e.onResize),Object.assign({mergedTheme:r,mergedClsPrefix:t,rtlEnabled:o,virtualListRef:l,scrollbarRef:a,itemSize:v,padding:p,flattenedNodes:s,empty:g,virtualListContainer(){const{value:V}=l;return V==null?void 0:V.listElRef},virtualListContent(){const{value:V}=l;return V==null?void 0:V.itemsElRef},doScroll:m,handleFocusin:_,handleFocusout:F,handleKeyUp:U,handleKeyDown:R,handleMouseDown:K,handleVirtualListResize:M,handleVirtualListScroll:b,cssVars:Q?void 0:L,themeClass:j==null?void 0:j.themeClass,onRender:j==null?void 0:j.onRender},re)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:o,themeClass:r,onRender:i}=this;return i==null||i(),x("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:["".concat(n,"-base-select-menu"),this.rtlEnabled&&"".concat(n,"-base-select-menu--rtl"),r,this.multiple&&"".concat(n,"-base-select-menu--multiple")],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},ut(e.header,l=>l&&x("div",{class:"".concat(n,"-base-select-menu__header"),"data-header":!0,key:"header"},l)),this.loading?x("div",{class:"".concat(n,"-base-select-menu__loading")},x(kr,{clsPrefix:n,strokeWidth:20})):this.empty?x("div",{class:"".concat(n,"-base-select-menu__empty"),"data-empty":!0},cn(e.empty,()=>[x(zi,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty,size:this.size})])):x(os,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?x(ws,{ref:"virtualListRef",class:"".concat(n,"-virtual-list"),items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:l})=>l.isGroup?x(ta,{key:l.key,clsPrefix:n,tmNode:l}):l.ignored?null:x(na,{clsPrefix:n,key:l.key,tmNode:l})}):x("div",{class:"".concat(n,"-base-select-menu-option-wrapper"),style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(l=>l.isGroup?x(ta,{key:l.key,clsPrefix:n,tmNode:l}):x(na,{clsPrefix:n,key:l.key,tmNode:l})))}),ut(e.action,l=>l&&[x("div",{class:"".concat(n,"-base-select-menu__action"),"data-action":!0,key:"action"},l),x(Wh,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Cv={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function _v(e){const{boxShadow2:t,popoverColor:n,textColor2:o,borderRadius:r,fontSize:i,dividerColor:l}=e;return Object.assign(Object.assign({},Cv),{fontSize:i,borderRadius:r,color:n,dividerColor:l,textColor:o,boxShadow:t})}const vl={name:"Popover",common:Tt,self:_v},Qr={top:"bottom",bottom:"top",left:"right",right:"left"},st="var(--n-arrow-height) * 1.414",Sv=Ee([oe("popover","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n ",[Ee(">",[oe("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),nt("raw","\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n ",[nt("scrollable",[nt("show-header-or-footer","padding: var(--n-padding);")])]),te("header","\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),te("footer","\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),ve("scrollable, show-header-or-footer",[te("content","\n padding: var(--n-padding);\n ")])]),oe("popover-shared","\n transform-origin: inherit;\n ",[oe("popover-arrow-wrapper","\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n ",[oe("popover-arrow","\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(".concat(st,");\n height: calc(").concat(st,");\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n "))]),Ee("&.popover-transition-enter-from, &.popover-transition-leave-to","\n opacity: 0;\n transform: scale(.85);\n "),Ee("&.popover-transition-enter-to, &.popover-transition-leave-from","\n transform: scale(1);\n opacity: 1;\n "),Ee("&.popover-transition-enter-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n "),Ee("&.popover-transition-leave-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n ")]),Pt("top-start","\n top: calc(".concat(st," / -2);\n left: calc(").concat(nn("top-start")," - var(--v-offset-left));\n ")),Pt("top","\n top: calc(".concat(st," / -2);\n transform: translateX(calc(").concat(st," / -2)) rotate(45deg);\n left: 50%;\n ")),Pt("top-end","\n top: calc(".concat(st," / -2);\n right: calc(").concat(nn("top-end")," + var(--v-offset-left));\n ")),Pt("bottom-start","\n bottom: calc(".concat(st," / -2);\n left: calc(").concat(nn("bottom-start")," - var(--v-offset-left));\n ")),Pt("bottom","\n bottom: calc(".concat(st," / -2);\n transform: translateX(calc(").concat(st," / -2)) rotate(45deg);\n left: 50%;\n ")),Pt("bottom-end","\n bottom: calc(".concat(st," / -2);\n right: calc(").concat(nn("bottom-end")," + var(--v-offset-left));\n ")),Pt("left-start","\n left: calc(".concat(st," / -2);\n top: calc(").concat(nn("left-start")," - var(--v-offset-top));\n ")),Pt("left","\n left: calc(".concat(st," / -2);\n transform: translateY(calc(").concat(st," / -2)) rotate(45deg);\n top: 50%;\n ")),Pt("left-end","\n left: calc(".concat(st," / -2);\n bottom: calc(").concat(nn("left-end")," + var(--v-offset-top));\n ")),Pt("right-start","\n right: calc(".concat(st," / -2);\n top: calc(").concat(nn("right-start")," - var(--v-offset-top));\n ")),Pt("right","\n right: calc(".concat(st," / -2);\n transform: translateY(calc(").concat(st," / -2)) rotate(45deg);\n top: 50%;\n ")),Pt("right-end","\n right: calc(".concat(st," / -2);\n bottom: calc(").concat(nn("right-end")," + var(--v-offset-top));\n ")),...Oh({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const n=["right","left"].includes(t),o=n?"width":"height";return e.map(r=>{const i=r.split("-")[1]==="end",l="var(--v-target-".concat(o,", 0px)"),a="calc((".concat(l," - ").concat(st,") / 2)"),s=nn(r);return Ee('[v-placement="'.concat(r,'"] >'),[oe("popover-shared",[ve("center-arrow",[oe("popover-arrow","".concat(t,": calc(max(").concat(a,", ").concat(s,") ").concat(i?"+":"-"," var(--v-offset-").concat(n?"left":"top","));"))])])])})})]);function nn(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function Pt(e,t){const n=e.split("-")[0],o=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return Ee('[v-placement="'.concat(e,'"] >'),[oe("popover-shared","\n margin-".concat(Qr[n],": var(--n-space);\n "),[ve("show-arrow","\n margin-".concat(Qr[n],": var(--n-space-arrow);\n ")),ve("overlap","\n margin: 0;\n "),Ku("popover-arrow-wrapper","\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ".concat(n,": 100%;\n ").concat(Qr[n],": auto;\n ").concat(o,"\n "),[oe("popover-arrow",t)])])])}const zs=Object.assign(Object.assign({},Ze.props),{to:un.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function kv({arrowClass:e,arrowStyle:t,arrowWrapperClass:n,arrowWrapperStyle:o,clsPrefix:r}){return x("div",{key:"__popover-arrow__",style:o,class:["".concat(r,"-popover-arrow-wrapper"),n]},x("div",{class:["".concat(r,"-popover-arrow"),e],style:t}))}const Ev=Se({name:"PopoverBody",inheritAttrs:!1,props:zs,setup(e,{slots:t,attrs:n}){const{namespaceRef:o,mergedClsPrefixRef:r,inlineThemeDisabled:i}=zt(e),l=Ze("Popover","-popover",Sv,vl,e,r),a=Y(null),s=Xe("NPopover"),c=Y(null),u=Y(e.show),d=Y(!1);It(()=>{const{show:P}=e;P&&!Ad()&&!e.internalDeactivateImmediately&&(d.value=!0)});const f=J(()=>{const{trigger:P,onClickoutside:T}=e,U=[],{positionManuallyRef:{value:R}}=s;return R||(P==="click"&&!T&&U.push([ir,b,void 0,{capture:!0}]),P==="hover"&&U.push([Cd,m])),T&&U.push([ir,b,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&d.value)&&U.push([rs,e.show]),U}),h=J(()=>{const{common:{cubicBezierEaseInOut:P,cubicBezierEaseIn:T,cubicBezierEaseOut:U},self:{space:R,spaceArrow:K,padding:N,fontSize:D,textColor:C,dividerColor:E,color:_,boxShadow:F,borderRadius:L,arrowHeight:Q,arrowOffset:j,arrowOffsetVertical:re}}=l.value;return{"--n-box-shadow":F,"--n-bezier":P,"--n-bezier-ease-in":T,"--n-bezier-ease-out":U,"--n-font-size":D,"--n-text-color":C,"--n-color":_,"--n-divider-color":E,"--n-border-radius":L,"--n-arrow-height":Q,"--n-arrow-offset":j,"--n-arrow-offset-vertical":re,"--n-padding":N,"--n-space":R,"--n-space-arrow":K}}),v=J(()=>{const P=e.width==="trigger"?void 0:Kr(e.width),T=[];P&&T.push({width:P});const{maxWidth:U,minWidth:R}=e;return U&&T.push({maxWidth:Kr(U)}),R&&T.push({maxWidth:Kr(R)}),i||T.push(h.value),T}),p=i?Ft("popover",void 0,h,e):void 0;s.setBodyInstance({syncPosition:y}),fn(()=>{s.setBodyInstance(null)}),Ae(ce(e,"show"),P=>{e.animated||(P?u.value=!0:u.value=!1)});function y(){var P;(P=a.value)===null||P===void 0||P.syncPosition()}function g(P){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&s.handleMouseEnter(P)}function w(P){e.trigger==="hover"&&e.keepAliveOnHover&&s.handleMouseLeave(P)}function m(P){e.trigger==="hover"&&!M().contains(xi(P))&&s.handleMouseMoveOutside(P)}function b(P){(e.trigger==="click"&&!M().contains(xi(P))||e.onClickoutside)&&s.handleClickOutside(P)}function M(){return s.getTriggerElement()}vt(Za,c),vt(Xa,null),vt(ja,null);function A(){if(p==null||p.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&d.value))return null;let T;const U=s.internalRenderBodyRef.value,{value:R}=r;if(U)T=U(["".concat(R,"-popover-shared"),p==null?void 0:p.themeClass.value,e.overlap&&"".concat(R,"-popover-shared--overlap"),e.showArrow&&"".concat(R,"-popover-shared--show-arrow"),e.arrowPointToCenter&&"".concat(R,"-popover-shared--center-arrow")],c,v.value,g,w);else{const{value:K}=s.extraClassRef,{internalTrapFocus:N}=e,D=!go(t.header)||!go(t.footer),C=()=>{var E,_;const F=D?x(xt,null,ut(t.header,j=>j?x("div",{class:["".concat(R,"-popover__header"),e.headerClass],style:e.headerStyle},j):null),ut(t.default,j=>j?x("div",{class:["".concat(R,"-popover__content"),e.contentClass],style:e.contentStyle},t):null),ut(t.footer,j=>j?x("div",{class:["".concat(R,"-popover__footer"),e.footerClass],style:e.footerStyle},j):null)):e.scrollable?(E=t.default)===null||E===void 0?void 0:E.call(t):x("div",{class:["".concat(R,"-popover__content"),e.contentClass],style:e.contentStyle},t),L=e.scrollable?x(Ci,{contentClass:D?void 0:"".concat(R,"-popover__content ").concat((_=e.contentClass)!==null&&_!==void 0?_:""),contentStyle:D?void 0:e.contentStyle},{default:()=>F}):F,Q=e.showArrow?kv({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:R}):null;return[L,Q]};T=x("div",xr({class:["".concat(R,"-popover"),"".concat(R,"-popover-shared"),p==null?void 0:p.themeClass.value,K.map(E=>"".concat(R,"-").concat(E)),{["".concat(R,"-popover--scrollable")]:e.scrollable,["".concat(R,"-popover--show-header-or-footer")]:D,["".concat(R,"-popover--raw")]:e.raw,["".concat(R,"-popover-shared--overlap")]:e.overlap,["".concat(R,"-popover-shared--show-arrow")]:e.showArrow,["".concat(R,"-popover-shared--center-arrow")]:e.arrowPointToCenter}],ref:c,style:v.value,onKeydown:s.handleKeydown,onMouseenter:g,onMouseleave:w},n),N?x(Wu,{active:e.show,autoFocus:!0},{default:C}):C())}return No(T,f.value)}return{displayed:d,namespace:o,isMounted:s.isMountedRef,zIndex:s.zIndexRef,followerRef:a,adjustedTo:un(e),followerEnabled:u,renderContentNode:A}},render(){return x(bs,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===un.tdkey},{default:()=>this.animated?x(el,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),$v=Object.keys(zs),Mv={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Nv(e,t,n){Mv[t].forEach(o=>{e.props?e.props=Object.assign({},e.props):e.props={};const r=e.props[o],i=n[o];r?e.props[o]=(...l)=>{r(...l),i(...l)}:e.props[o]=i})}const Is={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:un.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Pv=Object.assign(Object.assign(Object.assign({},Ze.props),Is),{internalOnAfterLeave:Function,internalRenderBody:Function}),As=Se({name:"Popover",inheritAttrs:!1,props:Pv,slots:Object,__popover__:!0,setup(e){const t=qi(),n=Y(null),o=J(()=>e.show),r=Y(e.defaultShow),i=Dt(o,r),l=Ye(()=>e.disabled?!1:i.value),a=()=>{if(e.disabled)return!0;const{getDisabled:E}=e;return!!(E!=null&&E())},s=()=>a()?!1:i.value,c=us(e,["arrow","showArrow"]),u=J(()=>e.overlap?!1:c.value);let d=null;const f=Y(null),h=Y(null),v=Ye(()=>e.x!==void 0&&e.y!==void 0);function p(E){const{"onUpdate:show":_,onUpdateShow:F,onShow:L,onHide:Q}=e;r.value=E,_&&Te(_,E),F&&Te(F,E),E&&L&&Te(L,!0),E&&Q&&Te(Q,!1)}function y(){d&&d.syncPosition()}function g(){const{value:E}=f;E&&(window.clearTimeout(E),f.value=null)}function w(){const{value:E}=h;E&&(window.clearTimeout(E),h.value=null)}function m(){const E=a();if(e.trigger==="focus"&&!E){if(s())return;p(!0)}}function b(){const E=a();if(e.trigger==="focus"&&!E){if(!s())return;p(!1)}}function M(){const E=a();if(e.trigger==="hover"&&!E){if(w(),f.value!==null||s())return;const _=()=>{p(!0),f.value=null},{delay:F}=e;F===0?_():f.value=window.setTimeout(_,F)}}function A(){const E=a();if(e.trigger==="hover"&&!E){if(g(),h.value!==null||!s())return;const _=()=>{p(!1),h.value=null},{duration:F}=e;F===0?_():h.value=window.setTimeout(_,F)}}function P(){A()}function T(E){var _;s()&&(e.trigger==="click"&&(g(),w(),p(!1)),(_=e.onClickoutside)===null||_===void 0||_.call(e,E))}function U(){if(e.trigger==="click"&&!a()){g(),w();const E=!s();p(E)}}function R(E){e.internalTrapFocus&&E.key==="Escape"&&(g(),w(),p(!1))}function K(E){r.value=E}function N(){var E;return(E=n.value)===null||E===void 0?void 0:E.targetRef}function D(E){d=E}return vt("NPopover",{getTriggerElement:N,handleKeydown:R,handleMouseEnter:M,handleMouseLeave:A,handleClickOutside:T,handleMouseMoveOutside:P,setBodyInstance:D,positionManuallyRef:v,isMountedRef:t,zIndexRef:ce(e,"zIndex"),extraClassRef:ce(e,"internalExtraClass"),internalRenderBodyRef:ce(e,"internalRenderBody")}),It(()=>{i.value&&a()&&p(!1)}),{binderInstRef:n,positionManually:v,mergedShowConsideringDisabledProp:l,uncontrolledShow:r,mergedShowArrow:u,getMergedShow:s,setShow:K,handleClick:U,handleMouseEnter:M,handleMouseLeave:A,handleFocus:m,handleBlur:b,syncPosition:y}},render(){var e;const{positionManually:t,$slots:n}=this;let o,r=!1;if(!t&&(o=Uu(n,"trigger"),o)){o=Gu(o),o=o.type===Yu?x("span",[o]):o;const i={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=o.type)===null||e===void 0)&&e.__popover__)r=!0,o.props||(o.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),o.props.internalSyncTargetWithParent=!0,o.props.internalInheritedEventHandlers?o.props.internalInheritedEventHandlers=[i,...o.props.internalInheritedEventHandlers]:o.props.internalInheritedEventHandlers=[i];else{const{internalInheritedEventHandlers:l}=this,a=[i,...l],s={onBlur:c=>{a.forEach(u=>{u.onBlur(c)})},onFocus:c=>{a.forEach(u=>{u.onFocus(c)})},onClick:c=>{a.forEach(u=>{u.onClick(c)})},onMouseenter:c=>{a.forEach(u=>{u.onMouseenter(c)})},onMouseleave:c=>{a.forEach(u=>{u.onMouseleave(c)})}};Nv(o,l?"nested":t?"manual":this.trigger,s)}}return x(gs,{ref:"binderInstRef",syncTarget:!r,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const i=this.getMergedShow();return[this.internalTrapFocus&&i?No(x("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[qa,{enabled:i,zIndex:this.zIndex}]]):null,t?null:x(ps,null,{default:()=>o}),x(Ev,ju(this.$props,$v,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:i})),{default:()=>{var l,a;return(a=(l=this.$slots).default)===null||a===void 0?void 0:a.call(l)},header:()=>{var l,a;return(a=(l=this.$slots).header)===null||a===void 0?void 0:a.call(l)},footer:()=>{var l,a;return(a=(l=this.$slots).footer)===null||a===void 0?void 0:a.call(l)}})]}})}}),Tv={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"};function zv(e){const{textColor2:t,primaryColorHover:n,primaryColorPressed:o,primaryColor:r,infoColor:i,successColor:l,warningColor:a,errorColor:s,baseColor:c,borderColor:u,opacityDisabled:d,tagColor:f,closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:p,borderRadiusSmall:y,fontSizeMini:g,fontSizeTiny:w,fontSizeSmall:m,fontSizeMedium:b,heightMini:M,heightTiny:A,heightSmall:P,heightMedium:T,closeColorHover:U,closeColorPressed:R,buttonColor2Hover:K,buttonColor2Pressed:N,fontWeightStrong:D}=e;return Object.assign(Object.assign({},Tv),{closeBorderRadius:y,heightTiny:M,heightSmall:A,heightMedium:P,heightLarge:T,borderRadius:y,opacityDisabled:d,fontSizeTiny:g,fontSizeSmall:w,fontSizeMedium:m,fontSizeLarge:b,fontWeightStrong:D,textColorCheckable:t,textColorHoverCheckable:t,textColorPressedCheckable:t,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:K,colorPressedCheckable:N,colorChecked:r,colorCheckedHover:n,colorCheckedPressed:o,border:"1px solid ".concat(u),textColor:t,color:f,colorBordered:"rgb(250, 250, 252)",closeIconColor:h,closeIconColorHover:v,closeIconColorPressed:p,closeColorHover:U,closeColorPressed:R,borderPrimary:"1px solid ".concat(Fe(r,{alpha:.3})),textColorPrimary:r,colorPrimary:Fe(r,{alpha:.12}),colorBorderedPrimary:Fe(r,{alpha:.1}),closeIconColorPrimary:r,closeIconColorHoverPrimary:r,closeIconColorPressedPrimary:r,closeColorHoverPrimary:Fe(r,{alpha:.12}),closeColorPressedPrimary:Fe(r,{alpha:.18}),borderInfo:"1px solid ".concat(Fe(i,{alpha:.3})),textColorInfo:i,colorInfo:Fe(i,{alpha:.12}),colorBorderedInfo:Fe(i,{alpha:.1}),closeIconColorInfo:i,closeIconColorHoverInfo:i,closeIconColorPressedInfo:i,closeColorHoverInfo:Fe(i,{alpha:.12}),closeColorPressedInfo:Fe(i,{alpha:.18}),borderSuccess:"1px solid ".concat(Fe(l,{alpha:.3})),textColorSuccess:l,colorSuccess:Fe(l,{alpha:.12}),colorBorderedSuccess:Fe(l,{alpha:.1}),closeIconColorSuccess:l,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:l,closeColorHoverSuccess:Fe(l,{alpha:.12}),closeColorPressedSuccess:Fe(l,{alpha:.18}),borderWarning:"1px solid ".concat(Fe(a,{alpha:.35})),textColorWarning:a,colorWarning:Fe(a,{alpha:.15}),colorBorderedWarning:Fe(a,{alpha:.12}),closeIconColorWarning:a,closeIconColorHoverWarning:a,closeIconColorPressedWarning:a,closeColorHoverWarning:Fe(a,{alpha:.12}),closeColorPressedWarning:Fe(a,{alpha:.18}),borderError:"1px solid ".concat(Fe(s,{alpha:.23})),textColorError:s,colorError:Fe(s,{alpha:.1}),colorBorderedError:Fe(s,{alpha:.08}),closeIconColorError:s,closeIconColorHoverError:s,closeIconColorPressedError:s,closeColorHoverError:Fe(s,{alpha:.12}),closeColorPressedError:Fe(s,{alpha:.18})})}const Iv={common:Tt,self:zv},Av={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Ov=oe("tag","\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n",[ve("strong","\n font-weight: var(--n-font-weight-strong);\n "),te("border","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n "),te("icon","\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n "),te("avatar","\n display: flex;\n margin: 0 6px 0 0;\n "),te("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),ve("round","\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n ",[te("icon","\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n "),te("avatar","\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n "),ve("closable","\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n ")]),ve("icon, avatar",[ve("round","\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n ")]),ve("disabled","\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n "),ve("checkable","\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n ",[nt("disabled",[Ee("&:hover","background-color: var(--n-color-hover-checkable);",[nt("checked","color: var(--n-text-color-hover-checkable);")]),Ee("&:active","background-color: var(--n-color-pressed-checkable);",[nt("checked","color: var(--n-text-color-pressed-checkable);")])]),ve("checked","\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n ",[nt("disabled",[Ee("&:hover","background-color: var(--n-color-checked-hover);"),Ee("&:active","background-color: var(--n-color-checked-pressed);")])])])]),Dv=Object.assign(Object.assign(Object.assign({},Ze.props),Av),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),Rv=Bn("n-tag"),ei=Se({name:"Tag",props:Dv,slots:Object,setup(e){const t=Y(null),{mergedBorderedRef:n,mergedClsPrefixRef:o,inlineThemeDisabled:r,mergedRtlRef:i}=zt(e),l=Ze("Tag","-tag",Ov,Iv,e,o);vt(Rv,{roundRef:ce(e,"round")});function a(){if(!e.disabled&&e.checkable){const{checked:h,onCheckedChange:v,onUpdateChecked:p,"onUpdate:checked":y}=e;p&&p(!h),y&&y(!h),v&&v(!h)}}function s(h){if(e.triggerClickOnClose||h.stopPropagation(),!e.disabled){const{onClose:v}=e;v&&Te(v,h)}}const c={setTextContent(h){const{value:v}=t;v&&(v.textContent=h)}},u=eo("Tag",i,o),d=J(()=>{const{type:h,size:v,color:{color:p,textColor:y}={}}=e,{common:{cubicBezierEaseInOut:g},self:{padding:w,closeMargin:m,borderRadius:b,opacityDisabled:M,textColorCheckable:A,textColorHoverCheckable:P,textColorPressedCheckable:T,textColorChecked:U,colorCheckable:R,colorHoverCheckable:K,colorPressedCheckable:N,colorChecked:D,colorCheckedHover:C,colorCheckedPressed:E,closeBorderRadius:_,fontWeightStrong:F,[Ke("colorBordered",h)]:L,[Ke("closeSize",v)]:Q,[Ke("closeIconSize",v)]:j,[Ke("fontSize",v)]:re,[Ke("height",v)]:V,[Ke("color",h)]:O,[Ke("textColor",h)]:H,[Ke("border",h)]:ee,[Ke("closeIconColor",h)]:ae,[Ke("closeIconColorHover",h)]:fe,[Ke("closeIconColorPressed",h)]:xe,[Ke("closeColorHover",h)]:be,[Ke("closeColorPressed",h)]:ze}}=l.value,me=Xt(m);return{"--n-font-weight-strong":F,"--n-avatar-size-override":"calc(".concat(V," - 8px)"),"--n-bezier":g,"--n-border-radius":b,"--n-border":ee,"--n-close-icon-size":j,"--n-close-color-pressed":ze,"--n-close-color-hover":be,"--n-close-border-radius":_,"--n-close-icon-color":ae,"--n-close-icon-color-hover":fe,"--n-close-icon-color-pressed":xe,"--n-close-icon-color-disabled":ae,"--n-close-margin-top":me.top,"--n-close-margin-right":me.right,"--n-close-margin-bottom":me.bottom,"--n-close-margin-left":me.left,"--n-close-size":Q,"--n-color":p||(n.value?L:O),"--n-color-checkable":R,"--n-color-checked":D,"--n-color-checked-hover":C,"--n-color-checked-pressed":E,"--n-color-hover-checkable":K,"--n-color-pressed-checkable":N,"--n-font-size":re,"--n-height":V,"--n-opacity-disabled":M,"--n-padding":w,"--n-text-color":y||H,"--n-text-color-checkable":A,"--n-text-color-checked":U,"--n-text-color-hover-checkable":P,"--n-text-color-pressed-checkable":T}}),f=r?Ft("tag",J(()=>{let h="";const{type:v,size:p,color:{color:y,textColor:g}={}}=e;return h+=v[0],h+=p[0],y&&(h+="a".concat(Tl(y))),g&&(h+="b".concat(Tl(g))),n.value&&(h+="c"),h}),d,e):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:u,mergedClsPrefix:o,contentRef:t,mergedBordered:n,handleClick:a,handleCloseClick:s,cssVars:r?void 0:d,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender})},render(){var e,t;const{mergedClsPrefix:n,rtlEnabled:o,closable:r,color:{borderColor:i}={},round:l,onRender:a,$slots:s}=this;a==null||a();const c=ut(s.avatar,d=>d&&x("div",{class:"".concat(n,"-tag__avatar")},d)),u=ut(s.icon,d=>d&&x("div",{class:"".concat(n,"-tag__icon")},d));return x("div",{class:["".concat(n,"-tag"),this.themeClass,{["".concat(n,"-tag--rtl")]:o,["".concat(n,"-tag--strong")]:this.strong,["".concat(n,"-tag--disabled")]:this.disabled,["".concat(n,"-tag--checkable")]:this.checkable,["".concat(n,"-tag--checked")]:this.checkable&&this.checked,["".concat(n,"-tag--round")]:l,["".concat(n,"-tag--avatar")]:c,["".concat(n,"-tag--icon")]:u,["".concat(n,"-tag--closable")]:r}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},u||c,x("span",{class:"".concat(n,"-tag__content"),ref:"contentRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)),!this.checkable&&r?x(Xu,{clsPrefix:n,class:"".concat(n,"-tag__close"),disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:l,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?x("div",{class:"".concat(n,"-tag__border"),style:{borderColor:i}}):null)}}),Os=Se({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:n}=e;return x(kr,{clsPrefix:n,class:"".concat(n,"-base-suffix"),strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?x(Mi,{clsPrefix:n,show:e.showClear,onClear:e.onClear},{placeholder:()=>x(In,{clsPrefix:n,class:"".concat(n,"-base-suffix__arrow")},{default:()=>cn(t.default,()=>[x(Rh,null)])})}):null})}}}),Bv={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};function Fv(e){const{borderRadius:t,textColor2:n,textColorDisabled:o,inputColor:r,inputColorDisabled:i,primaryColor:l,primaryColorHover:a,warningColor:s,warningColorHover:c,errorColor:u,errorColorHover:d,borderColor:f,iconColor:h,iconColorDisabled:v,clearColor:p,clearColorHover:y,clearColorPressed:g,placeholderColor:w,placeholderColorDisabled:m,fontSizeTiny:b,fontSizeSmall:M,fontSizeMedium:A,fontSizeLarge:P,heightTiny:T,heightSmall:U,heightMedium:R,heightLarge:K,fontWeight:N}=e;return Object.assign(Object.assign({},Bv),{fontSizeTiny:b,fontSizeSmall:M,fontSizeMedium:A,fontSizeLarge:P,heightTiny:T,heightSmall:U,heightMedium:R,heightLarge:K,borderRadius:t,fontWeight:N,textColor:n,textColorDisabled:o,placeholderColor:w,placeholderColorDisabled:m,color:r,colorDisabled:i,colorActive:r,border:"1px solid ".concat(f),borderHover:"1px solid ".concat(a),borderActive:"1px solid ".concat(l),borderFocus:"1px solid ".concat(a),boxShadowHover:"none",boxShadowActive:"0 0 0 2px ".concat(Fe(l,{alpha:.2})),boxShadowFocus:"0 0 0 2px ".concat(Fe(l,{alpha:.2})),caretColor:l,arrowColor:h,arrowColorDisabled:v,loadingColor:l,borderWarning:"1px solid ".concat(s),borderHoverWarning:"1px solid ".concat(c),borderActiveWarning:"1px solid ".concat(s),borderFocusWarning:"1px solid ".concat(c),boxShadowHoverWarning:"none",boxShadowActiveWarning:"0 0 0 2px ".concat(Fe(s,{alpha:.2})),boxShadowFocusWarning:"0 0 0 2px ".concat(Fe(s,{alpha:.2})),colorActiveWarning:r,caretColorWarning:s,borderError:"1px solid ".concat(u),borderHoverError:"1px solid ".concat(d),borderActiveError:"1px solid ".concat(u),borderFocusError:"1px solid ".concat(d),boxShadowHoverError:"none",boxShadowActiveError:"0 0 0 2px ".concat(Fe(u,{alpha:.2})),boxShadowFocusError:"0 0 0 2px ".concat(Fe(u,{alpha:.2})),colorActiveError:r,caretColorError:u,clearColor:p,clearColorHover:y,clearColorPressed:g})}const Ds=Po({name:"InternalSelection",common:Tt,peers:{Popover:vl},self:Fv}),Lv=Ee([oe("base-selection","\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[oe("base-loading","\n color: var(--n-loading-color);\n "),oe("base-selection-tags","min-height: var(--n-height);"),te("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),te("state-border","\n z-index: 1;\n border-color: #0000;\n "),oe("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[te("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),oe("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[te("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),oe("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[te("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),oe("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),oe("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[oe("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[te("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),te("render-label","\n color: var(--n-text-color);\n ")]),nt("disabled",[Ee("&:hover",[te("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),ve("focus",[te("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),ve("active",[te("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),oe("base-selection-label","background-color: var(--n-color-active);"),oe("base-selection-tags","background-color: var(--n-color-active);")])]),ve("disabled","cursor: not-allowed;",[te("arrow","\n color: var(--n-arrow-color-disabled);\n "),oe("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[oe("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),te("render-label","\n color: var(--n-text-color-disabled);\n ")]),oe("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),oe("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),oe("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[te("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),te("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map(e=>ve("".concat(e,"-status"),[te("state-border","border: var(--n-border-".concat(e,");")),nt("disabled",[Ee("&:hover",[te("state-border","\n box-shadow: var(--n-box-shadow-hover-".concat(e,");\n border: var(--n-border-hover-").concat(e,");\n "))]),ve("active",[te("state-border","\n box-shadow: var(--n-box-shadow-active-".concat(e,");\n border: var(--n-border-active-").concat(e,");\n ")),oe("base-selection-label","background-color: var(--n-color-active-".concat(e,");")),oe("base-selection-tags","background-color: var(--n-color-active-".concat(e,");"))]),ve("focus",[te("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(e,");\n border: var(--n-border-focus-").concat(e,");\n "))])])]))]),oe("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),oe("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[Ee("&:last-child","padding-right: 0;"),oe("tag","\n font-size: 14px;\n max-width: 100%;\n ",[te("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),Vv=Se({name:"InternalSelection",props:Object.assign(Object.assign({},Ze.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=zt(e),o=eo("InternalSelection",n,t),r=Y(null),i=Y(null),l=Y(null),a=Y(null),s=Y(null),c=Y(null),u=Y(null),d=Y(null),f=Y(null),h=Y(null),v=Y(!1),p=Y(!1),y=Y(!1),g=Ze("InternalSelection","-internal-selection",Lv,Ds,e,ce(e,"clsPrefix")),w=J(()=>e.clearable&&!e.disabled&&(y.value||e.active)),m=J(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):ln(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),b=J(()=>{const W=e.selectedOption;if(W)return W[e.labelField]}),M=J(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function A(){var W;const{value:se}=r;if(se){const{value:Ue}=i;Ue&&(Ue.style.width="".concat(se.offsetWidth,"px"),e.maxTagCount!=="responsive"&&((W=f.value)===null||W===void 0||W.sync({showAllItemsBeforeCalculate:!1})))}}function P(){const{value:W}=h;W&&(W.style.display="none")}function T(){const{value:W}=h;W&&(W.style.display="inline-block")}Ae(ce(e,"active"),W=>{W||P()}),Ae(ce(e,"pattern"),()=>{e.multiple&&et(A)});function U(W){const{onFocus:se}=e;se&&se(W)}function R(W){const{onBlur:se}=e;se&&se(W)}function K(W){const{onDeleteOption:se}=e;se&&se(W)}function N(W){const{onClear:se}=e;se&&se(W)}function D(W){const{onPatternInput:se}=e;se&&se(W)}function C(W){var se;(!W.relatedTarget||!(!((se=l.value)===null||se===void 0)&&se.contains(W.relatedTarget)))&&U(W)}function E(W){var se;!((se=l.value)===null||se===void 0)&&se.contains(W.relatedTarget)||R(W)}function _(W){N(W)}function F(){y.value=!0}function L(){y.value=!1}function Q(W){!e.active||!e.filterable||W.target!==i.value&&W.preventDefault()}function j(W){K(W)}const re=Y(!1);function V(W){if(W.key==="Backspace"&&!re.value&&!e.pattern.length){const{selectedOptions:se}=e;se!=null&&se.length&&j(se[se.length-1])}}let O=null;function H(W){const{value:se}=r;if(se){const Ue=W.target.value;se.textContent=Ue,A()}e.ignoreComposition&&re.value?O=W:D(W)}function ee(){re.value=!0}function ae(){re.value=!1,e.ignoreComposition&&D(O),O=null}function fe(W){var se;p.value=!0,(se=e.onPatternFocus)===null||se===void 0||se.call(e,W)}function xe(W){var se;p.value=!1,(se=e.onPatternBlur)===null||se===void 0||se.call(e,W)}function be(){var W,se;if(e.filterable)p.value=!1,(W=c.value)===null||W===void 0||W.blur(),(se=i.value)===null||se===void 0||se.blur();else if(e.multiple){const{value:Ue}=a;Ue==null||Ue.blur()}else{const{value:Ue}=s;Ue==null||Ue.blur()}}function ze(){var W,se,Ue;e.filterable?(p.value=!1,(W=c.value)===null||W===void 0||W.focus()):e.multiple?(se=a.value)===null||se===void 0||se.focus():(Ue=s.value)===null||Ue===void 0||Ue.focus()}function me(){const{value:W}=i;W&&(T(),W.focus())}function Ne(){const{value:W}=i;W&&W.blur()}function Ie(W){const{value:se}=u;se&&se.setTextContent("+".concat(W))}function $(){const{value:W}=d;return W}function S(){return i.value}let k=null;function B(){k!==null&&window.clearTimeout(k)}function q(){e.active||(B(),k=window.setTimeout(()=>{M.value&&(v.value=!0)},100))}function ge(){B()}function X(W){W||(B(),v.value=!1)}Ae(M,W=>{W||(v.value=!1)}),rt(()=>{It(()=>{const W=c.value;W&&(e.disabled?W.removeAttribute("tabindex"):W.tabIndex=p.value?-1:0)})}),xs(l,e.onResize);const{inlineThemeDisabled:ue}=e,Ce=J(()=>{const{size:W}=e,{common:{cubicBezierEaseInOut:se},self:{fontWeight:Ue,borderRadius:ht,color:gt,placeholderColor:Ct,textColor:Vt,paddingSingle:Ht,paddingMultiple:Qt,caretColor:$n,colorDisabled:$t,textColorDisabled:Mt,placeholderColorDisabled:G,colorActive:de,boxShadowFocus:Oe,boxShadowActive:Le,boxShadowHover:Re,border:De,borderFocus:Be,borderHover:tt,borderActive:pt,arrowColor:to,arrowColorDisabled:Ln,loadingColor:no,colorActiveWarning:en,boxShadowFocusWarning:hn,boxShadowActiveWarning:oo,boxShadowHoverWarning:ro,borderWarning:Vn,borderFocusWarning:Kt,borderHoverWarning:I,borderActiveWarning:ne,colorActiveError:$e,boxShadowFocusError:z,boxShadowActiveError:Z,boxShadowHoverError:ie,borderError:_e,borderFocusError:ke,borderHoverError:We,borderActiveError:ot,clearColor:it,clearColorHover:Nt,clearColorPressed:Wt,clearSize:mt,arrowSize:Ge,[Ke("height",W)]:bt,[Ke("fontSize",W)]:_t}}=g.value,He=Xt(Ht),Je=Xt(Qt);return{"--n-bezier":se,"--n-border":De,"--n-border-active":pt,"--n-border-focus":Be,"--n-border-hover":tt,"--n-border-radius":ht,"--n-box-shadow-active":Le,"--n-box-shadow-focus":Oe,"--n-box-shadow-hover":Re,"--n-caret-color":$n,"--n-color":gt,"--n-color-active":de,"--n-color-disabled":$t,"--n-font-size":_t,"--n-height":bt,"--n-padding-single-top":He.top,"--n-padding-multiple-top":Je.top,"--n-padding-single-right":He.right,"--n-padding-multiple-right":Je.right,"--n-padding-single-left":He.left,"--n-padding-multiple-left":Je.left,"--n-padding-single-bottom":He.bottom,"--n-padding-multiple-bottom":Je.bottom,"--n-placeholder-color":Ct,"--n-placeholder-color-disabled":G,"--n-text-color":Vt,"--n-text-color-disabled":Mt,"--n-arrow-color":to,"--n-arrow-color-disabled":Ln,"--n-loading-color":no,"--n-color-active-warning":en,"--n-box-shadow-focus-warning":hn,"--n-box-shadow-active-warning":oo,"--n-box-shadow-hover-warning":ro,"--n-border-warning":Vn,"--n-border-focus-warning":Kt,"--n-border-hover-warning":I,"--n-border-active-warning":ne,"--n-color-active-error":$e,"--n-box-shadow-focus-error":z,"--n-box-shadow-active-error":Z,"--n-box-shadow-hover-error":ie,"--n-border-error":_e,"--n-border-focus-error":ke,"--n-border-hover-error":We,"--n-border-active-error":ot,"--n-clear-size":mt,"--n-clear-color":it,"--n-clear-color-hover":Nt,"--n-clear-color-pressed":Wt,"--n-arrow-size":Ge,"--n-font-weight":Ue}}),he=ue?Ft("internal-selection",J(()=>e.size[0]),Ce,e):void 0;return{mergedTheme:g,mergedClearable:w,mergedClsPrefix:t,rtlEnabled:o,patternInputFocused:p,filterablePlaceholder:m,label:b,selected:M,showTagsPanel:v,isComposing:re,counterRef:u,counterWrapperRef:d,patternInputMirrorRef:r,patternInputRef:i,selfRef:l,multipleElRef:a,singleElRef:s,patternInputWrapperRef:c,overflowRef:f,inputTagElRef:h,handleMouseDown:Q,handleFocusin:C,handleClear:_,handleMouseEnter:F,handleMouseLeave:L,handleDeleteOption:j,handlePatternKeyDown:V,handlePatternInputInput:H,handlePatternInputBlur:xe,handlePatternInputFocus:fe,handleMouseEnterCounter:q,handleMouseLeaveCounter:ge,handleFocusout:E,handleCompositionEnd:ae,handleCompositionStart:ee,onPopoverUpdateShow:X,focus:ze,focusInput:me,blur:be,blurInput:Ne,updateCounter:Ie,getCounter:$,getTail:S,renderLabel:e.renderLabel,cssVars:ue?void 0:Ce,themeClass:he==null?void 0:he.themeClass,onRender:he==null?void 0:he.onRender}},render(){const{status:e,multiple:t,size:n,disabled:o,filterable:r,maxTagCount:i,bordered:l,clsPrefix:a,ellipsisTagPopoverProps:s,onRender:c,renderTag:u,renderLabel:d}=this;c==null||c();const f=i==="responsive",h=typeof i=="number",v=f||h,p=x(Zu,null,{default:()=>x(Os,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var g,w;return(w=(g=this.$slots).arrow)===null||w===void 0?void 0:w.call(g)}})});let y;if(t){const{labelField:g}=this,w=D=>x("div",{class:"".concat(a,"-base-selection-tag-wrapper"),key:D.value},u?u({option:D,handleClose:()=>{this.handleDeleteOption(D)}}):x(ei,{size:n,closable:!D.disabled,disabled:o,onClose:()=>{this.handleDeleteOption(D)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>d?d(D,!0):ln(D[g],D,!0)})),m=()=>(h?this.selectedOptions.slice(0,i):this.selectedOptions).map(w),b=r?x("div",{class:"".concat(a,"-base-selection-input-tag"),ref:"inputTagElRef",key:"__input-tag__"},x("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:"".concat(a,"-base-selection-input-tag__input"),onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),x("span",{ref:"patternInputMirrorRef",class:"".concat(a,"-base-selection-input-tag__mirror")},this.pattern)):null,M=f?()=>x("div",{class:"".concat(a,"-base-selection-tag-wrapper"),ref:"counterWrapperRef"},x(ei,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let A;if(h){const D=this.selectedOptions.length-i;D>0&&(A=x("div",{class:"".concat(a,"-base-selection-tag-wrapper"),key:"__counter__"},x(ei,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>"+".concat(D)})))}const P=f?r?x(Ll,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:m,counter:M,tail:()=>b}):x(Ll,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:m,counter:M}):h&&A?m().concat(A):m(),T=v?()=>x("div",{class:"".concat(a,"-base-selection-popover")},f?m():this.selectedOptions.map(w)):void 0,U=v?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},s):null,K=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?x("div",{class:"".concat(a,"-base-selection-placeholder ").concat(a,"-base-selection-overlay")},x("div",{class:"".concat(a,"-base-selection-placeholder__inner")},this.placeholder)):null,N=r?x("div",{ref:"patternInputWrapperRef",class:"".concat(a,"-base-selection-tags")},P,f?null:b,p):x("div",{ref:"multipleElRef",class:"".concat(a,"-base-selection-tags"),tabindex:o?void 0:0},P,p);y=x(xt,null,v?x(As,Object.assign({},U,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>N,default:T}):N,K)}else if(r){const g=this.pattern||this.isComposing,w=this.active?!g:!this.selected,m=this.active?!1:this.selected;y=x("div",{ref:"patternInputWrapperRef",class:"".concat(a,"-base-selection-label"),title:this.patternInputFocused?void 0:Vl(this.label)},x("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:"".concat(a,"-base-selection-input"),value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),m?x("div",{class:"".concat(a,"-base-selection-label__render-label ").concat(a,"-base-selection-overlay"),key:"input"},x("div",{class:"".concat(a,"-base-selection-overlay__wrapper")},u?u({option:this.selectedOption,handleClose:()=>{}}):d?d(this.selectedOption,!0):ln(this.label,this.selectedOption,!0))):null,w?x("div",{class:"".concat(a,"-base-selection-placeholder ").concat(a,"-base-selection-overlay"),key:"placeholder"},x("div",{class:"".concat(a,"-base-selection-overlay__wrapper")},this.filterablePlaceholder)):null,p)}else y=x("div",{ref:"singleElRef",class:"".concat(a,"-base-selection-label"),tabindex:this.disabled?void 0:0},this.label!==void 0?x("div",{class:"".concat(a,"-base-selection-input"),title:Vl(this.label),key:"input"},x("div",{class:"".concat(a,"-base-selection-input__content")},u?u({option:this.selectedOption,handleClose:()=>{}}):d?d(this.selectedOption,!0):ln(this.label,this.selectedOption,!0))):x("div",{class:"".concat(a,"-base-selection-placeholder ").concat(a,"-base-selection-overlay"),key:"placeholder"},x("div",{class:"".concat(a,"-base-selection-placeholder__inner")},this.placeholder)),p);return x("div",{ref:"selfRef",class:["".concat(a,"-base-selection"),this.rtlEnabled&&"".concat(a,"-base-selection--rtl"),this.themeClass,e&&"".concat(a,"-base-selection--").concat(e,"-status"),{["".concat(a,"-base-selection--active")]:this.active,["".concat(a,"-base-selection--selected")]:this.selected||this.active&&this.pattern,["".concat(a,"-base-selection--disabled")]:this.disabled,["".concat(a,"-base-selection--multiple")]:this.multiple,["".concat(a,"-base-selection--focus")]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},y,l?x("div",{class:"".concat(a,"-base-selection__border")}):null,l?x("div",{class:"".concat(a,"-base-selection__state-border")}):null)}}),Hv={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};function Kv(e){const{textColor2:t,textColor3:n,textColorDisabled:o,primaryColor:r,primaryColorHover:i,inputColor:l,inputColorDisabled:a,borderColor:s,warningColor:c,warningColorHover:u,errorColor:d,errorColorHover:f,borderRadius:h,lineHeight:v,fontSizeTiny:p,fontSizeSmall:y,fontSizeMedium:g,fontSizeLarge:w,heightTiny:m,heightSmall:b,heightMedium:M,heightLarge:A,actionColor:P,clearColor:T,clearColorHover:U,clearColorPressed:R,placeholderColor:K,placeholderColorDisabled:N,iconColor:D,iconColorDisabled:C,iconColorHover:E,iconColorPressed:_,fontWeight:F}=e;return Object.assign(Object.assign({},Hv),{fontWeight:F,countTextColorDisabled:o,countTextColor:n,heightTiny:m,heightSmall:b,heightMedium:M,heightLarge:A,fontSizeTiny:p,fontSizeSmall:y,fontSizeMedium:g,fontSizeLarge:w,lineHeight:v,lineHeightTextarea:v,borderRadius:h,iconSize:"16px",groupLabelColor:P,groupLabelTextColor:t,textColor:t,textColorDisabled:o,textDecorationColor:t,caretColor:r,placeholderColor:K,placeholderColorDisabled:N,color:l,colorDisabled:a,colorFocus:l,groupLabelBorder:"1px solid ".concat(s),border:"1px solid ".concat(s),borderHover:"1px solid ".concat(i),borderDisabled:"1px solid ".concat(s),borderFocus:"1px solid ".concat(i),boxShadowFocus:"0 0 0 2px ".concat(Fe(r,{alpha:.2})),loadingColor:r,loadingColorWarning:c,borderWarning:"1px solid ".concat(c),borderHoverWarning:"1px solid ".concat(u),colorFocusWarning:l,borderFocusWarning:"1px solid ".concat(u),boxShadowFocusWarning:"0 0 0 2px ".concat(Fe(c,{alpha:.2})),caretColorWarning:c,loadingColorError:d,borderError:"1px solid ".concat(d),borderHoverError:"1px solid ".concat(f),colorFocusError:l,borderFocusError:"1px solid ".concat(f),boxShadowFocusError:"0 0 0 2px ".concat(Fe(d,{alpha:.2})),caretColorError:d,clearColor:T,clearColorHover:U,clearColorPressed:R,iconColor:D,iconColorDisabled:C,iconColorHover:E,iconColorPressed:_,suffixTextColor:t})}const Wv={common:Tt,self:Kv},Rs=Bn("n-input"),Uv=oe("input","\n max-width: 100%;\n cursor: text;\n line-height: 1.5;\n z-index: auto;\n outline: none;\n box-sizing: border-box;\n position: relative;\n display: inline-flex;\n border-radius: var(--n-border-radius);\n background-color: var(--n-color);\n transition: background-color .3s var(--n-bezier);\n font-size: var(--n-font-size);\n font-weight: var(--n-font-weight);\n --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);\n",[te("input, textarea","\n overflow: hidden;\n flex-grow: 1;\n position: relative;\n "),te("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder","\n box-sizing: border-box;\n font-size: inherit;\n line-height: 1.5;\n font-family: inherit;\n border: none;\n outline: none;\n background-color: #0000;\n text-align: inherit;\n transition:\n -webkit-text-fill-color .3s var(--n-bezier),\n caret-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier);\n "),te("input-el, textarea-el","\n -webkit-appearance: none;\n scrollbar-width: none;\n width: 100%;\n min-width: 0;\n text-decoration-color: var(--n-text-decoration-color);\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n background-color: transparent;\n ",[Ee("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n "),Ee("&::placeholder","\n color: #0000;\n -webkit-text-fill-color: transparent !important;\n "),Ee("&:-webkit-autofill ~",[te("placeholder","display: none;")])]),ve("round",[nt("textarea","border-radius: calc(var(--n-height) / 2);")]),te("placeholder","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n overflow: hidden;\n color: var(--n-placeholder-color);\n ",[Ee("span","\n width: 100%;\n display: inline-block;\n ")]),ve("textarea",[te("placeholder","overflow: visible;")]),nt("autosize","width: 100%;"),ve("autosize",[te("textarea-el, input-el","\n position: absolute;\n top: 0;\n left: 0;\n height: 100%;\n ")]),oe("input-wrapper","\n overflow: hidden;\n display: inline-flex;\n flex-grow: 1;\n position: relative;\n padding-left: var(--n-padding-left);\n padding-right: var(--n-padding-right);\n "),te("input-mirror","\n padding: 0;\n height: var(--n-height);\n line-height: var(--n-height);\n overflow: hidden;\n visibility: hidden;\n position: static;\n white-space: pre;\n pointer-events: none;\n "),te("input-el","\n padding: 0;\n height: var(--n-height);\n line-height: var(--n-height);\n ",[Ee("&[type=password]::-ms-reveal","display: none;"),Ee("+",[te("placeholder","\n display: flex;\n align-items: center; \n ")])]),nt("textarea",[te("placeholder","white-space: nowrap;")]),te("eye","\n display: flex;\n align-items: center;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n "),ve("textarea","width: 100%;",[oe("input-word-count","\n position: absolute;\n right: var(--n-padding-right);\n bottom: var(--n-padding-vertical);\n "),ve("resizable",[oe("input-wrapper","\n resize: vertical;\n min-height: var(--n-height);\n ")]),te("textarea-el, textarea-mirror, placeholder","\n height: 100%;\n padding-left: 0;\n padding-right: 0;\n padding-top: var(--n-padding-vertical);\n padding-bottom: var(--n-padding-vertical);\n word-break: break-word;\n display: inline-block;\n vertical-align: bottom;\n box-sizing: border-box;\n line-height: var(--n-line-height-textarea);\n margin: 0;\n resize: none;\n white-space: pre-wrap;\n scroll-padding-block-end: var(--n-padding-vertical);\n "),te("textarea-mirror","\n width: 100%;\n pointer-events: none;\n overflow: hidden;\n visibility: hidden;\n position: static;\n white-space: pre-wrap;\n overflow-wrap: break-word;\n ")]),ve("pair",[te("input-el, placeholder","text-align: center;"),te("separator","\n display: flex;\n align-items: center;\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n white-space: nowrap;\n ",[oe("icon","\n color: var(--n-icon-color);\n "),oe("base-icon","\n color: var(--n-icon-color);\n ")])]),ve("disabled","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[te("border","border: var(--n-border-disabled);"),te("input-el, textarea-el","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n text-decoration-color: var(--n-text-color-disabled);\n "),te("placeholder","color: var(--n-placeholder-color-disabled);"),te("separator","color: var(--n-text-color-disabled);",[oe("icon","\n color: var(--n-icon-color-disabled);\n "),oe("base-icon","\n color: var(--n-icon-color-disabled);\n ")]),oe("input-word-count","\n color: var(--n-count-text-color-disabled);\n "),te("suffix, prefix","color: var(--n-text-color-disabled);",[oe("icon","\n color: var(--n-icon-color-disabled);\n "),oe("internal-icon","\n color: var(--n-icon-color-disabled);\n ")])]),nt("disabled",[te("eye","\n color: var(--n-icon-color);\n cursor: pointer;\n ",[Ee("&:hover","\n color: var(--n-icon-color-hover);\n "),Ee("&:active","\n color: var(--n-icon-color-pressed);\n ")]),Ee("&:hover",[te("state-border","border: var(--n-border-hover);")]),ve("focus","background-color: var(--n-color-focus);",[te("state-border","\n border: var(--n-border-focus);\n box-shadow: var(--n-box-shadow-focus);\n ")])]),te("border, state-border","\n box-sizing: border-box;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border-radius: inherit;\n border: var(--n-border);\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),te("state-border","\n border-color: #0000;\n z-index: 1;\n "),te("prefix","margin-right: 4px;"),te("suffix","\n margin-left: 4px;\n "),te("suffix, prefix","\n transition: color .3s var(--n-bezier);\n flex-wrap: nowrap;\n flex-shrink: 0;\n line-height: var(--n-height);\n white-space: nowrap;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n color: var(--n-suffix-text-color);\n ",[oe("base-loading","\n font-size: var(--n-icon-size);\n margin: 0 2px;\n color: var(--n-loading-color);\n "),oe("base-clear","\n font-size: var(--n-icon-size);\n ",[te("placeholder",[oe("base-icon","\n transition: color .3s var(--n-bezier);\n color: var(--n-icon-color);\n font-size: var(--n-icon-size);\n ")])]),Ee(">",[oe("icon","\n transition: color .3s var(--n-bezier);\n color: var(--n-icon-color);\n font-size: var(--n-icon-size);\n ")]),oe("base-icon","\n font-size: var(--n-icon-size);\n ")]),oe("input-word-count","\n pointer-events: none;\n line-height: 1.5;\n font-size: .85em;\n color: var(--n-count-text-color);\n transition: color .3s var(--n-bezier);\n margin-left: 4px;\n font-variant: tabular-nums;\n "),["warning","error"].map(e=>ve("".concat(e,"-status"),[nt("disabled",[oe("base-loading","\n color: var(--n-loading-color-".concat(e,")\n ")),te("input-el, textarea-el","\n caret-color: var(--n-caret-color-".concat(e,");\n ")),te("state-border","\n border: var(--n-border-".concat(e,");\n ")),Ee("&:hover",[te("state-border","\n border: var(--n-border-hover-".concat(e,");\n "))]),Ee("&:focus","\n background-color: var(--n-color-focus-".concat(e,");\n "),[te("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(e,");\n border: var(--n-border-focus-").concat(e,");\n "))]),ve("focus","\n background-color: var(--n-color-focus-".concat(e,");\n "),[te("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(e,");\n border: var(--n-border-focus-").concat(e,");\n "))])])]))]),Gv=oe("input",[ve("disabled",[te("input-el, textarea-el","\n -webkit-text-fill-color: var(--n-text-color-disabled);\n ")])]);function Yv(e){let t=0;for(const n of e)t++;return t}function Vo(e){return e===""||e==null}function jv(e){const t=Y(null);function n(){const{value:i}=e;if(!(i!=null&&i.focus)){r();return}const{selectionStart:l,selectionEnd:a,value:s}=i;if(l==null||a==null){r();return}t.value={start:l,end:a,beforeText:s.slice(0,l),afterText:s.slice(a)}}function o(){var i;const{value:l}=t,{value:a}=e;if(!l||!a)return;const{value:s}=a,{start:c,beforeText:u,afterText:d}=l;let f=s.length;if(s.endsWith(d))f=s.length-d.length;else if(s.startsWith(u))f=u.length;else{const h=u[c-1],v=s.indexOf(h,c-1);v!==-1&&(f=v+1)}(i=a.setSelectionRange)===null||i===void 0||i.call(a,f,f)}function r(){t.value=null}return Ae(e,r),{recordCursor:n,restoreCursor:o}}const oa=Se({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:n,maxlengthRef:o,mergedClsPrefixRef:r,countGraphemesRef:i}=Xe(Rs),l=J(()=>{const{value:a}=n;return a===null||Array.isArray(a)?0:(i.value||Yv)(a)});return()=>{const{value:a}=o,{value:s}=n;return x("span",{class:"".concat(r.value,"-input-word-count")},qu(t.default,{value:s===null||Array.isArray(s)?"":s},()=>[a===void 0?l.value:"".concat(l.value," / ").concat(a)]))}}}),Xv=Object.assign(Object.assign({},Ze.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),Ii=Se({name:"Input",props:Xv,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,inlineThemeDisabled:o,mergedRtlRef:r}=zt(e),i=Ze("Input","-input",Uv,Wv,e,t);Ju&&es("-input-safari",Gv,t);const l=Y(null),a=Y(null),s=Y(null),c=Y(null),u=Y(null),d=Y(null),f=Y(null),h=jv(f),v=Y(null),{localeRef:p}=dl("Input"),y=Y(e.defaultValue),g=ce(e,"value"),w=Dt(g,y),m=Er(e),{mergedSizeRef:b,mergedDisabledRef:M,mergedStatusRef:A}=m,P=Y(!1),T=Y(!1),U=Y(!1),R=Y(!1);let K=null;const N=J(()=>{const{placeholder:I,pair:ne}=e;return ne?Array.isArray(I)?I:I===void 0?["",""]:[I,I]:I===void 0?[p.value.placeholder]:[I]}),D=J(()=>{const{value:I}=U,{value:ne}=w,{value:$e}=N;return!I&&(Vo(ne)||Array.isArray(ne)&&Vo(ne[0]))&&$e[0]}),C=J(()=>{const{value:I}=U,{value:ne}=w,{value:$e}=N;return!I&&$e[1]&&(Vo(ne)||Array.isArray(ne)&&Vo(ne[1]))}),E=Ye(()=>e.internalForceFocus||P.value),_=Ye(()=>{if(M.value||e.readonly||!e.clearable||!E.value&&!T.value)return!1;const{value:I}=w,{value:ne}=E;return e.pair?!!(Array.isArray(I)&&(I[0]||I[1]))&&(T.value||ne):!!I&&(T.value||ne)}),F=J(()=>{const{showPasswordOn:I}=e;if(I)return I;if(e.showPasswordToggle)return"click"}),L=Y(!1),Q=J(()=>{const{textDecoration:I}=e;return I?Array.isArray(I)?I.map(ne=>({textDecoration:ne})):[{textDecoration:I}]:["",""]}),j=Y(void 0),re=()=>{var I,ne;if(e.type==="textarea"){const{autosize:$e}=e;if($e&&(j.value=(ne=(I=v.value)===null||I===void 0?void 0:I.$el)===null||ne===void 0?void 0:ne.offsetWidth),!a.value||typeof $e=="boolean")return;const{paddingTop:z,paddingBottom:Z,lineHeight:ie}=window.getComputedStyle(a.value),_e=Number(z.slice(0,-2)),ke=Number(Z.slice(0,-2)),We=Number(ie.slice(0,-2)),{value:ot}=s;if(!ot)return;if($e.minRows){const it=Math.max($e.minRows,1),Nt="".concat(_e+ke+We*it,"px");ot.style.minHeight=Nt}if($e.maxRows){const it="".concat(_e+ke+We*$e.maxRows,"px");ot.style.maxHeight=it}}},V=J(()=>{const{maxlength:I}=e;return I===void 0?void 0:Number(I)});rt(()=>{const{value:I}=w;Array.isArray(I)||pt(I)});const O=Fn().proxy;function H(I,ne){const{onUpdateValue:$e,"onUpdate:value":z,onInput:Z}=e,{nTriggerFormInput:ie}=m;$e&&Te($e,I,ne),z&&Te(z,I,ne),Z&&Te(Z,I,ne),y.value=I,ie()}function ee(I,ne){const{onChange:$e}=e,{nTriggerFormChange:z}=m;$e&&Te($e,I,ne),y.value=I,z()}function ae(I){const{onBlur:ne}=e,{nTriggerFormBlur:$e}=m;ne&&Te(ne,I),$e()}function fe(I){const{onFocus:ne}=e,{nTriggerFormFocus:$e}=m;ne&&Te(ne,I),$e()}function xe(I){const{onClear:ne}=e;ne&&Te(ne,I)}function be(I){const{onInputBlur:ne}=e;ne&&Te(ne,I)}function ze(I){const{onInputFocus:ne}=e;ne&&Te(ne,I)}function me(){const{onDeactivate:I}=e;I&&Te(I)}function Ne(){const{onActivate:I}=e;I&&Te(I)}function Ie(I){const{onClick:ne}=e;ne&&Te(ne,I)}function $(I){const{onWrapperFocus:ne}=e;ne&&Te(ne,I)}function S(I){const{onWrapperBlur:ne}=e;ne&&Te(ne,I)}function k(){U.value=!0}function B(I){U.value=!1,I.target===d.value?q(I,1):q(I,0)}function q(I,ne=0,$e="input"){const z=I.target.value;if(pt(z),I instanceof InputEvent&&!I.isComposing&&(U.value=!1),e.type==="textarea"){const{value:ie}=v;ie&&ie.syncUnifiedContainer()}if(K=z,U.value)return;h.recordCursor();const Z=ge(z);if(Z)if(!e.pair)$e==="input"?H(z,{source:ne}):ee(z,{source:ne});else{let{value:ie}=w;Array.isArray(ie)?ie=[ie[0],ie[1]]:ie=["",""],ie[ne]=z,$e==="input"?H(ie,{source:ne}):ee(ie,{source:ne})}O.$forceUpdate(),Z||et(h.restoreCursor)}function ge(I){const{countGraphemes:ne,maxlength:$e,minlength:z}=e;if(ne){let ie;if($e!==void 0&&(ie===void 0&&(ie=ne(I)),ie>Number($e))||z!==void 0&&(ie===void 0&&(ie=ne(I)),ie<Number($e)))return!1}const{allowInput:Z}=e;return typeof Z=="function"?Z(I):!0}function X(I){be(I),I.relatedTarget===l.value&&me(),I.relatedTarget!==null&&(I.relatedTarget===u.value||I.relatedTarget===d.value||I.relatedTarget===a.value)||(R.value=!1),W(I,"blur"),f.value=null}function ue(I,ne){ze(I),P.value=!0,R.value=!0,Ne(),W(I,"focus"),ne===0?f.value=u.value:ne===1?f.value=d.value:ne===2&&(f.value=a.value)}function Ce(I){e.passivelyActivated&&(S(I),W(I,"blur"))}function he(I){e.passivelyActivated&&(P.value=!0,$(I),W(I,"focus"))}function W(I,ne){I.relatedTarget!==null&&(I.relatedTarget===u.value||I.relatedTarget===d.value||I.relatedTarget===a.value||I.relatedTarget===l.value)||(ne==="focus"?(fe(I),P.value=!0):ne==="blur"&&(ae(I),P.value=!1))}function se(I,ne){q(I,ne,"change")}function Ue(I){Ie(I)}function ht(I){xe(I),gt()}function gt(){e.pair?(H(["",""],{source:"clear"}),ee(["",""],{source:"clear"})):(H("",{source:"clear"}),ee("",{source:"clear"}))}function Ct(I){const{onMousedown:ne}=e;ne&&ne(I);const{tagName:$e}=I.target;if($e!=="INPUT"&&$e!=="TEXTAREA"){if(e.resizable){const{value:z}=l;if(z){const{left:Z,top:ie,width:_e,height:ke}=z.getBoundingClientRect(),We=14;if(Z+_e-We<I.clientX&&I.clientX<Z+_e&&ie+ke-We<I.clientY&&I.clientY<ie+ke)return}}I.preventDefault(),P.value||Oe()}}function Vt(){var I;T.value=!0,e.type==="textarea"&&((I=v.value)===null||I===void 0||I.handleMouseEnterWrapper())}function Ht(){var I;T.value=!1,e.type==="textarea"&&((I=v.value)===null||I===void 0||I.handleMouseLeaveWrapper())}function Qt(){M.value||F.value==="click"&&(L.value=!L.value)}function $n(I){if(M.value)return;I.preventDefault();const ne=z=>{z.preventDefault(),Bt("mouseup",document,ne)};if(Rt("mouseup",document,ne),F.value!=="mousedown")return;L.value=!0;const $e=()=>{L.value=!1,Bt("mouseup",document,$e)};Rt("mouseup",document,$e)}function $t(I){e.onKeyup&&Te(e.onKeyup,I)}function Mt(I){switch(e.onKeydown&&Te(e.onKeydown,I),I.key){case"Escape":de();break;case"Enter":G(I);break}}function G(I){var ne,$e;if(e.passivelyActivated){const{value:z}=R;if(z){e.internalDeactivateOnEnter&&de();return}I.preventDefault(),e.type==="textarea"?(ne=a.value)===null||ne===void 0||ne.focus():($e=u.value)===null||$e===void 0||$e.focus()}}function de(){e.passivelyActivated&&(R.value=!1,et(()=>{var I;(I=l.value)===null||I===void 0||I.focus()}))}function Oe(){var I,ne,$e;M.value||(e.passivelyActivated?(I=l.value)===null||I===void 0||I.focus():((ne=a.value)===null||ne===void 0||ne.focus(),($e=u.value)===null||$e===void 0||$e.focus()))}function Le(){var I;!((I=l.value)===null||I===void 0)&&I.contains(document.activeElement)&&document.activeElement.blur()}function Re(){var I,ne;(I=a.value)===null||I===void 0||I.select(),(ne=u.value)===null||ne===void 0||ne.select()}function De(){M.value||(a.value?a.value.focus():u.value&&u.value.focus())}function Be(){const{value:I}=l;I!=null&&I.contains(document.activeElement)&&I!==document.activeElement&&de()}function tt(I){if(e.type==="textarea"){const{value:ne}=a;ne==null||ne.scrollTo(I)}else{const{value:ne}=u;ne==null||ne.scrollTo(I)}}function pt(I){const{type:ne,pair:$e,autosize:z}=e;if(!$e&&z)if(ne==="textarea"){const{value:Z}=s;Z&&(Z.textContent="".concat(I!=null?I:"","\r\n"))}else{const{value:Z}=c;Z&&(I?Z.textContent=I:Z.innerHTML="&nbsp;")}}function to(){re()}const Ln=Y({top:"0"});function no(I){var ne;const{scrollTop:$e}=I.target;Ln.value.top="".concat(-$e,"px"),(ne=v.value)===null||ne===void 0||ne.syncUnifiedContainer()}let en=null;It(()=>{const{autosize:I,type:ne}=e;I&&ne==="textarea"?en=Ae(w,$e=>{!Array.isArray($e)&&$e!==K&&pt($e)}):en==null||en()});let hn=null;It(()=>{e.type==="textarea"?hn=Ae(w,I=>{var ne;!Array.isArray(I)&&I!==K&&((ne=v.value)===null||ne===void 0||ne.syncUnifiedContainer())}):hn==null||hn()}),vt(Rs,{mergedValueRef:w,maxlengthRef:V,mergedClsPrefixRef:t,countGraphemesRef:ce(e,"countGraphemes")});const oo={wrapperElRef:l,inputElRef:u,textareaElRef:a,isCompositing:U,clear:gt,focus:Oe,blur:Le,select:Re,deactivate:Be,activate:De,scrollTo:tt},ro=eo("Input",r,t),Vn=J(()=>{const{value:I}=b,{common:{cubicBezierEaseInOut:ne},self:{color:$e,borderRadius:z,textColor:Z,caretColor:ie,caretColorError:_e,caretColorWarning:ke,textDecorationColor:We,border:ot,borderDisabled:it,borderHover:Nt,borderFocus:Wt,placeholderColor:mt,placeholderColorDisabled:Ge,lineHeightTextarea:bt,colorDisabled:_t,colorFocus:He,textColorDisabled:Je,boxShadowFocus:vn,iconSize:Hn,colorFocusWarning:Do,boxShadowFocusWarning:Ro,borderWarning:io,borderFocusWarning:jc,borderHoverWarning:Xc,colorFocusError:Zc,boxShadowFocusError:qc,borderError:Jc,borderFocusError:Qc,borderHoverError:eu,clearSize:tu,clearColor:nu,clearColorHover:ou,clearColorPressed:ru,iconColor:iu,iconColorDisabled:lu,suffixTextColor:au,countTextColor:su,countTextColorDisabled:cu,iconColorHover:uu,iconColorPressed:du,loadingColor:fu,loadingColorError:hu,loadingColorWarning:vu,fontWeight:gu,[Ke("padding",I)]:pu,[Ke("fontSize",I)]:mu,[Ke("height",I)]:bu}}=i.value,{left:yu,right:wu}=Xt(pu);return{"--n-bezier":ne,"--n-count-text-color":su,"--n-count-text-color-disabled":cu,"--n-color":$e,"--n-font-size":mu,"--n-font-weight":gu,"--n-border-radius":z,"--n-height":bu,"--n-padding-left":yu,"--n-padding-right":wu,"--n-text-color":Z,"--n-caret-color":ie,"--n-text-decoration-color":We,"--n-border":ot,"--n-border-disabled":it,"--n-border-hover":Nt,"--n-border-focus":Wt,"--n-placeholder-color":mt,"--n-placeholder-color-disabled":Ge,"--n-icon-size":Hn,"--n-line-height-textarea":bt,"--n-color-disabled":_t,"--n-color-focus":He,"--n-text-color-disabled":Je,"--n-box-shadow-focus":vn,"--n-loading-color":fu,"--n-caret-color-warning":ke,"--n-color-focus-warning":Do,"--n-box-shadow-focus-warning":Ro,"--n-border-warning":io,"--n-border-focus-warning":jc,"--n-border-hover-warning":Xc,"--n-loading-color-warning":vu,"--n-caret-color-error":_e,"--n-color-focus-error":Zc,"--n-box-shadow-focus-error":qc,"--n-border-error":Jc,"--n-border-focus-error":Qc,"--n-border-hover-error":eu,"--n-loading-color-error":hu,"--n-clear-color":nu,"--n-clear-size":tu,"--n-clear-color-hover":ou,"--n-clear-color-pressed":ru,"--n-icon-color":iu,"--n-icon-color-hover":uu,"--n-icon-color-pressed":du,"--n-icon-color-disabled":lu,"--n-suffix-text-color":au}}),Kt=o?Ft("input",J(()=>{const{value:I}=b;return I[0]}),Vn,e):void 0;return Object.assign(Object.assign({},oo),{wrapperElRef:l,inputElRef:u,inputMirrorElRef:c,inputEl2Ref:d,textareaElRef:a,textareaMirrorElRef:s,textareaScrollbarInstRef:v,rtlEnabled:ro,uncontrolledValue:y,mergedValue:w,passwordVisible:L,mergedPlaceholder:N,showPlaceholder1:D,showPlaceholder2:C,mergedFocus:E,isComposing:U,activated:R,showClearButton:_,mergedSize:b,mergedDisabled:M,textDecorationStyle:Q,mergedClsPrefix:t,mergedBordered:n,mergedShowPasswordOn:F,placeholderStyle:Ln,mergedStatus:A,textAreaScrollContainerWidth:j,handleTextAreaScroll:no,handleCompositionStart:k,handleCompositionEnd:B,handleInput:q,handleInputBlur:X,handleInputFocus:ue,handleWrapperBlur:Ce,handleWrapperFocus:he,handleMouseEnter:Vt,handleMouseLeave:Ht,handleMouseDown:Ct,handleChange:se,handleClick:Ue,handleClear:ht,handlePasswordToggleClick:Qt,handlePasswordToggleMousedown:$n,handleWrapperKeydown:Mt,handleWrapperKeyup:$t,handleTextAreaMirrorResize:to,getTextareaScrollContainer:()=>a.value,mergedTheme:i,cssVars:o?void 0:Vn,themeClass:Kt==null?void 0:Kt.themeClass,onRender:Kt==null?void 0:Kt.onRender})},render(){var e,t;const{mergedClsPrefix:n,mergedStatus:o,themeClass:r,type:i,countGraphemes:l,onRender:a}=this,s=this.$slots;return a==null||a(),x("div",{ref:"wrapperElRef",class:["".concat(n,"-input"),r,o&&"".concat(n,"-input--").concat(o,"-status"),{["".concat(n,"-input--rtl")]:this.rtlEnabled,["".concat(n,"-input--disabled")]:this.mergedDisabled,["".concat(n,"-input--textarea")]:i==="textarea",["".concat(n,"-input--resizable")]:this.resizable&&!this.autosize,["".concat(n,"-input--autosize")]:this.autosize,["".concat(n,"-input--round")]:this.round&&i!=="textarea",["".concat(n,"-input--pair")]:this.pair,["".concat(n,"-input--focus")]:this.mergedFocus,["".concat(n,"-input--stateful")]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},x("div",{class:"".concat(n,"-input-wrapper")},ut(s.prefix,c=>c&&x("div",{class:"".concat(n,"-input__prefix")},c)),i==="textarea"?x(os,{ref:"textareaScrollbarInstRef",class:"".concat(n,"-input__textarea"),container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var c,u;const{textAreaScrollContainerWidth:d}=this,f={width:this.autosize&&d&&"".concat(d,"px")};return x(xt,null,x("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:["".concat(n,"-input__textarea-el"),(c=this.inputProps)===null||c===void 0?void 0:c.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:l?void 0:this.maxlength,minlength:l?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(u=this.inputProps)===null||u===void 0?void 0:u.style,f],onBlur:this.handleInputBlur,onFocus:h=>{this.handleInputFocus(h,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?x("div",{class:"".concat(n,"-input__placeholder"),style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?x(yi,{onResize:this.handleTextAreaMirrorResize},{default:()=>x("div",{ref:"textareaMirrorElRef",class:"".concat(n,"-input__textarea-mirror"),key:"mirror"})}):null)}}):x("div",{class:"".concat(n,"-input__input")},x("input",Object.assign({type:i==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":i},this.inputProps,{ref:"inputElRef",class:["".concat(n,"-input__input-el"),(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:l?void 0:this.maxlength,minlength:l?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:c=>{this.handleInputFocus(c,0)},onInput:c=>{this.handleInput(c,0)},onChange:c=>{this.handleChange(c,0)}})),this.showPlaceholder1?x("div",{class:"".concat(n,"-input__placeholder")},x("span",null,this.mergedPlaceholder[0])):null,this.autosize?x("div",{class:"".concat(n,"-input__input-mirror"),key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&ut(s.suffix,c=>c||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?x("div",{class:"".concat(n,"-input__suffix")},[ut(s["clear-icon-placeholder"],u=>(this.clearable||u)&&x(Mi,{clsPrefix:n,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>u,icon:()=>{var d,f;return(f=(d=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(d)}})),this.internalLoadingBeforeSuffix?null:c,this.loading!==void 0?x(Os,{clsPrefix:n,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?c:null,this.showCount&&this.type!=="textarea"?x(oa,null,{default:u=>{var d;const{renderCount:f}=this;return f?f(u):(d=s.count)===null||d===void 0?void 0:d.call(s,u)}}):null,this.mergedShowPasswordOn&&this.type==="password"?x("div",{class:"".concat(n,"-input__eye"),onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?cn(s["password-visible-icon"],()=>[x(In,{clsPrefix:n},{default:()=>x(Lh,null)})]):cn(s["password-invisible-icon"],()=>[x(In,{clsPrefix:n},{default:()=>x(Vh,null)})])):null]):null)),this.pair?x("span",{class:"".concat(n,"-input__separator")},cn(s.separator,()=>[this.separator])):null,this.pair?x("div",{class:"".concat(n,"-input-wrapper")},x("div",{class:"".concat(n,"-input__input")},x("input",{ref:"inputEl2Ref",type:this.type,class:"".concat(n,"-input__input-el"),tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:l?void 0:this.maxlength,minlength:l?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:c=>{this.handleInputFocus(c,1)},onInput:c=>{this.handleInput(c,1)},onChange:c=>{this.handleChange(c,1)}}),this.showPlaceholder2?x("div",{class:"".concat(n,"-input__placeholder")},x("span",null,this.mergedPlaceholder[1])):null),ut(s.suffix,c=>(this.clearable||c)&&x("div",{class:"".concat(n,"-input__suffix")},[this.clearable&&x(Mi,{clsPrefix:n,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var u;return(u=s["clear-icon"])===null||u===void 0?void 0:u.call(s)},placeholder:()=>{var u;return(u=s["clear-icon-placeholder"])===null||u===void 0?void 0:u.call(s)}}),c]))):null,this.mergedBordered?x("div",{class:"".concat(n,"-input__border")}):null,this.mergedBordered?x("div",{class:"".concat(n,"-input__state-border")}):null,this.showCount&&i==="textarea"?x(oa,null,{default:c=>{var u;const{renderCount:d}=this;return d?d(c):(u=s.count)===null||u===void 0?void 0:u.call(s,c)}}):null)}});function cr(e){return e.type==="group"}function Bs(e){return e.type==="ignored"}function ti(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(n){return!1}}function Zv(e,t){return{getIsGroup:cr,getIgnored:Bs,getKey(o){return cr(o)?o.name||o.key||"key-required":o[e]},getChildren(o){return o[t]}}}function qv(e,t,n,o){if(!t)return e;function r(i){if(!Array.isArray(i))return[];const l=[];for(const a of i)if(cr(a)){const s=r(a[o]);s.length&&l.push(Object.assign({},a,{[o]:s}))}else{if(Bs(a))continue;t(n,a)&&l.push(a)}return l}return r(e)}function Jv(e,t,n){const o=new Map;return e.forEach(r=>{cr(r)?r[n].forEach(i=>{o.set(i[t],i)}):o.set(r[t],r)}),o}const Qv={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"};function eg(e){const{baseColor:t,inputColorDisabled:n,cardColor:o,modalColor:r,popoverColor:i,textColorDisabled:l,borderColor:a,primaryColor:s,textColor2:c,fontSizeSmall:u,fontSizeMedium:d,fontSizeLarge:f,borderRadiusSmall:h,lineHeight:v}=e;return Object.assign(Object.assign({},Qv),{labelLineHeight:v,fontSizeSmall:u,fontSizeMedium:d,fontSizeLarge:f,borderRadius:h,color:t,colorChecked:s,colorDisabled:n,colorDisabledChecked:n,colorTableHeader:o,colorTableHeaderModal:r,colorTableHeaderPopover:i,checkMarkColor:t,checkMarkColorDisabled:l,checkMarkColorDisabledChecked:l,border:"1px solid ".concat(a),borderDisabled:"1px solid ".concat(a),borderDisabledChecked:"1px solid ".concat(a),borderChecked:"1px solid ".concat(s),borderFocus:"1px solid ".concat(s),boxShadowFocus:"0 0 0 2px ".concat(Fe(s,{alpha:.3})),textColor:c,textColorDisabled:l})}const Fs={name:"Checkbox",common:Tt,self:eg},tg=Bn("n-checkbox-group"),ng=()=>x("svg",{viewBox:"0 0 64 64",class:"check-icon"},x("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),og=()=>x("svg",{viewBox:"0 0 100 100",class:"line-icon"},x("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"})),rg=Ee([oe("checkbox","\n font-size: var(--n-font-size);\n outline: none;\n cursor: pointer;\n display: inline-flex;\n flex-wrap: nowrap;\n align-items: flex-start;\n word-break: break-word;\n line-height: var(--n-size);\n --n-merged-color-table: var(--n-color-table);\n ",[ve("show-label","line-height: var(--n-label-line-height);"),Ee("&:hover",[oe("checkbox-box",[te("border","border: var(--n-border-checked);")])]),Ee("&:focus:not(:active)",[oe("checkbox-box",[te("border","\n border: var(--n-border-focus);\n box-shadow: var(--n-box-shadow-focus);\n ")])]),ve("inside-table",[oe("checkbox-box","\n background-color: var(--n-merged-color-table);\n ")]),ve("checked",[oe("checkbox-box","\n background-color: var(--n-color-checked);\n ",[oe("checkbox-icon",[Ee(".check-icon","\n opacity: 1;\n transform: scale(1);\n ")])])]),ve("indeterminate",[oe("checkbox-box",[oe("checkbox-icon",[Ee(".check-icon","\n opacity: 0;\n transform: scale(.5);\n "),Ee(".line-icon","\n opacity: 1;\n transform: scale(1);\n ")])])]),ve("checked, indeterminate",[Ee("&:focus:not(:active)",[oe("checkbox-box",[te("border","\n border: var(--n-border-checked);\n box-shadow: var(--n-box-shadow-focus);\n ")])]),oe("checkbox-box","\n background-color: var(--n-color-checked);\n border-left: 0;\n border-top: 0;\n ",[te("border",{border:"var(--n-border-checked)"})])]),ve("disabled",{cursor:"not-allowed"},[ve("checked",[oe("checkbox-box","\n background-color: var(--n-color-disabled-checked);\n ",[te("border",{border:"var(--n-border-disabled-checked)"}),oe("checkbox-icon",[Ee(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),oe("checkbox-box","\n background-color: var(--n-color-disabled);\n ",[te("border","\n border: var(--n-border-disabled);\n "),oe("checkbox-icon",[Ee(".check-icon, .line-icon","\n fill: var(--n-check-mark-color-disabled);\n ")])]),te("label","\n color: var(--n-text-color-disabled);\n ")]),oe("checkbox-box-wrapper","\n position: relative;\n width: var(--n-size);\n flex-shrink: 0;\n flex-grow: 0;\n user-select: none;\n -webkit-user-select: none;\n "),oe("checkbox-box","\n position: absolute;\n left: 0;\n top: 50%;\n transform: translateY(-50%);\n height: var(--n-size);\n width: var(--n-size);\n display: inline-block;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n background-color: var(--n-color);\n transition: background-color 0.3s var(--n-bezier);\n ",[te("border","\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n border-radius: inherit;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border: var(--n-border);\n "),oe("checkbox-icon","\n display: flex;\n align-items: center;\n justify-content: center;\n position: absolute;\n left: 1px;\n right: 1px;\n top: 1px;\n bottom: 1px;\n ",[Ee(".check-icon, .line-icon","\n width: 100%;\n fill: var(--n-check-mark-color);\n opacity: 0;\n transform: scale(0.5);\n transform-origin: center;\n transition:\n fill 0.3s var(--n-bezier),\n transform 0.3s var(--n-bezier),\n opacity 0.3s var(--n-bezier),\n border-color 0.3s var(--n-bezier);\n "),xo({left:"1px",top:"1px"})])]),te("label","\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n user-select: none;\n -webkit-user-select: none;\n padding: var(--n-label-padding);\n font-weight: var(--n-label-font-weight);\n ",[Ee("&:empty",{display:"none"})])]),Qu(oe("checkbox","\n --n-merged-color-table: var(--n-color-table-modal);\n ")),ed(oe("checkbox","\n --n-merged-color-table: var(--n-color-table-popover);\n "))]),ig=Object.assign(Object.assign({},Ze.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]}),lg=Se({name:"Checkbox",props:ig,setup(e){const t=Xe(tg,null),n=Y(null),{mergedClsPrefixRef:o,inlineThemeDisabled:r,mergedRtlRef:i}=zt(e),l=Y(e.defaultChecked),a=ce(e,"checked"),s=Dt(a,l),c=Ye(()=>{if(t){const A=t.valueSetRef.value;return A&&e.value!==void 0?A.has(e.value):!1}else return s.value===e.checkedValue}),u=Er(e,{mergedSize(A){const{size:P}=e;if(P!==void 0)return P;if(t){const{value:T}=t.mergedSizeRef;if(T!==void 0)return T}if(A){const{mergedSize:T}=A;if(T!==void 0)return T.value}return"medium"},mergedDisabled(A){const{disabled:P}=e;if(P!==void 0)return P;if(t){if(t.disabledRef.value)return!0;const{maxRef:{value:T},checkedCountRef:U}=t;if(T!==void 0&&U.value>=T&&!c.value)return!0;const{minRef:{value:R}}=t;if(R!==void 0&&U.value<=R&&c.value)return!0}return A?A.disabled.value:!1}}),{mergedDisabledRef:d,mergedSizeRef:f}=u,h=Ze("Checkbox","-checkbox",rg,Fs,e,o);function v(A){if(t&&e.value!==void 0)t.toggleCheckbox(!c.value,e.value);else{const{onChange:P,"onUpdate:checked":T,onUpdateChecked:U}=e,{nTriggerFormInput:R,nTriggerFormChange:K}=u,N=c.value?e.uncheckedValue:e.checkedValue;T&&Te(T,N,A),U&&Te(U,N,A),P&&Te(P,N,A),R(),K(),l.value=N}}function p(A){d.value||v(A)}function y(A){if(!d.value)switch(A.key){case" ":case"Enter":v(A)}}function g(A){switch(A.key){case" ":A.preventDefault()}}const w={focus:()=>{var A;(A=n.value)===null||A===void 0||A.focus()},blur:()=>{var A;(A=n.value)===null||A===void 0||A.blur()}},m=eo("Checkbox",i,o),b=J(()=>{const{value:A}=f,{common:{cubicBezierEaseInOut:P},self:{borderRadius:T,color:U,colorChecked:R,colorDisabled:K,colorTableHeader:N,colorTableHeaderModal:D,colorTableHeaderPopover:C,checkMarkColor:E,checkMarkColorDisabled:_,border:F,borderFocus:L,borderDisabled:Q,borderChecked:j,boxShadowFocus:re,textColor:V,textColorDisabled:O,checkMarkColorDisabledChecked:H,colorDisabledChecked:ee,borderDisabledChecked:ae,labelPadding:fe,labelLineHeight:xe,labelFontWeight:be,[Ke("fontSize",A)]:ze,[Ke("size",A)]:me}}=h.value;return{"--n-label-line-height":xe,"--n-label-font-weight":be,"--n-size":me,"--n-bezier":P,"--n-border-radius":T,"--n-border":F,"--n-border-checked":j,"--n-border-focus":L,"--n-border-disabled":Q,"--n-border-disabled-checked":ae,"--n-box-shadow-focus":re,"--n-color":U,"--n-color-checked":R,"--n-color-table":N,"--n-color-table-modal":D,"--n-color-table-popover":C,"--n-color-disabled":K,"--n-color-disabled-checked":ee,"--n-text-color":V,"--n-text-color-disabled":O,"--n-check-mark-color":E,"--n-check-mark-color-disabled":_,"--n-check-mark-color-disabled-checked":H,"--n-font-size":ze,"--n-label-padding":fe}}),M=r?Ft("checkbox",J(()=>f.value[0]),b,e):void 0;return Object.assign(u,w,{rtlEnabled:m,selfRef:n,mergedClsPrefix:o,mergedDisabled:d,renderedChecked:c,mergedTheme:h,labelId:td(),handleClick:p,handleKeyUp:y,handleKeyDown:g,cssVars:r?void 0:b,themeClass:M==null?void 0:M.themeClass,onRender:M==null?void 0:M.onRender})},render(){var e;const{$slots:t,renderedChecked:n,mergedDisabled:o,indeterminate:r,privateInsideTable:i,cssVars:l,labelId:a,label:s,mergedClsPrefix:c,focusable:u,handleKeyUp:d,handleKeyDown:f,handleClick:h}=this;(e=this.onRender)===null||e===void 0||e.call(this);const v=ut(t.default,p=>s||p?x("span",{class:"".concat(c,"-checkbox__label"),id:a},s||p):null);return x("div",{ref:"selfRef",class:["".concat(c,"-checkbox"),this.themeClass,this.rtlEnabled&&"".concat(c,"-checkbox--rtl"),n&&"".concat(c,"-checkbox--checked"),o&&"".concat(c,"-checkbox--disabled"),r&&"".concat(c,"-checkbox--indeterminate"),i&&"".concat(c,"-checkbox--inside-table"),v&&"".concat(c,"-checkbox--show-label")],tabindex:o||!u?void 0:0,role:"checkbox","aria-checked":r?"mixed":n,"aria-labelledby":a,style:l,onKeyup:d,onKeydown:f,onClick:h,onMousedown:()=>{Rt("selectstart",window,p=>{p.preventDefault()},{once:!0})}},x("div",{class:"".concat(c,"-checkbox-box-wrapper")}," ",x("div",{class:"".concat(c,"-checkbox-box")},x(Sr,null,{default:()=>this.indeterminate?x("div",{key:"indeterminate",class:"".concat(c,"-checkbox-icon")},og()):x("div",{key:"check",class:"".concat(c,"-checkbox-icon")},ng())}),x("div",{class:"".concat(c,"-checkbox-box__border")}))),v)}});function ag(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const sg=Po({name:"Select",common:Tt,peers:{InternalSelection:Ds,InternalSelectMenu:Ts},self:ag}),cg=Ee([oe("select","\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n "),oe("select-menu","\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n ",[ns({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),ug=Object.assign(Object.assign({},Ze.props),{to:un.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),ni=Se({name:"Select",props:ug,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,namespaceRef:o,inlineThemeDisabled:r}=zt(e),i=Ze("Select","-select",cg,sg,e,t),l=Y(e.defaultValue),a=ce(e,"value"),s=Dt(a,l),c=Y(!1),u=Y(""),d=us(e,["items","options"]),f=Y([]),h=Y([]),v=J(()=>h.value.concat(f.value).concat(d.value)),p=J(()=>{const{filter:G}=e;if(G)return G;const{labelField:de,valueField:Oe}=e;return(Le,Re)=>{if(!Re)return!1;const De=Re[de];if(typeof De=="string")return ti(Le,De);const Be=Re[Oe];return typeof Be=="string"?ti(Le,Be):typeof Be=="number"?ti(Le,String(Be)):!1}}),y=J(()=>{if(e.remote)return d.value;{const{value:G}=v,{value:de}=u;return!de.length||!e.filterable?G:qv(G,p.value,de,e.childrenField)}}),g=J(()=>{const{valueField:G,childrenField:de}=e,Oe=Zv(G,de);return Ti(y.value,Oe)}),w=J(()=>Jv(v.value,e.valueField,e.childrenField)),m=Y(!1),b=Dt(ce(e,"show"),m),M=Y(null),A=Y(null),P=Y(null),{localeRef:T}=dl("Select"),U=J(()=>{var G;return(G=e.placeholder)!==null&&G!==void 0?G:T.value.placeholder}),R=[],K=Y(new Map),N=J(()=>{const{fallbackOption:G}=e;if(G===void 0){const{labelField:de,valueField:Oe}=e;return Le=>({[de]:String(Le),[Oe]:Le})}return G===!1?!1:de=>Object.assign(G(de),{value:de})});function D(G){const de=e.remote,{value:Oe}=K,{value:Le}=w,{value:Re}=N,De=[];return G.forEach(Be=>{if(Le.has(Be))De.push(Le.get(Be));else if(de&&Oe.has(Be))De.push(Oe.get(Be));else if(Re){const tt=Re(Be);tt&&De.push(tt)}}),De}const C=J(()=>{if(e.multiple){const{value:G}=s;return Array.isArray(G)?D(G):[]}return null}),E=J(()=>{const{value:G}=s;return!e.multiple&&!Array.isArray(G)?G===null?null:D([G])[0]||null:null}),_=Er(e),{mergedSizeRef:F,mergedDisabledRef:L,mergedStatusRef:Q}=_;function j(G,de){const{onChange:Oe,"onUpdate:value":Le,onUpdateValue:Re}=e,{nTriggerFormChange:De,nTriggerFormInput:Be}=_;Oe&&Te(Oe,G,de),Re&&Te(Re,G,de),Le&&Te(Le,G,de),l.value=G,De(),Be()}function re(G){const{onBlur:de}=e,{nTriggerFormBlur:Oe}=_;de&&Te(de,G),Oe()}function V(){const{onClear:G}=e;G&&Te(G)}function O(G){const{onFocus:de,showOnFocus:Oe}=e,{nTriggerFormFocus:Le}=_;de&&Te(de,G),Le(),Oe&&xe()}function H(G){const{onSearch:de}=e;de&&Te(de,G)}function ee(G){const{onScroll:de}=e;de&&Te(de,G)}function ae(){var G;const{remote:de,multiple:Oe}=e;if(de){const{value:Le}=K;if(Oe){const{valueField:Re}=e;(G=C.value)===null||G===void 0||G.forEach(De=>{Le.set(De[Re],De)})}else{const Re=E.value;Re&&Le.set(Re[e.valueField],Re)}}}function fe(G){const{onUpdateShow:de,"onUpdate:show":Oe}=e;de&&Te(de,G),Oe&&Te(Oe,G),m.value=G}function xe(){L.value||(fe(!0),m.value=!0,e.filterable&&Ht())}function be(){fe(!1)}function ze(){u.value="",h.value=R}const me=Y(!1);function Ne(){e.filterable&&(me.value=!0)}function Ie(){e.filterable&&(me.value=!1,b.value||ze())}function $(){L.value||(b.value?e.filterable?Ht():be():xe())}function S(G){var de,Oe;!((Oe=(de=P.value)===null||de===void 0?void 0:de.selfRef)===null||Oe===void 0)&&Oe.contains(G.relatedTarget)||(c.value=!1,re(G),be())}function k(G){O(G),c.value=!0}function B(){c.value=!0}function q(G){var de;!((de=M.value)===null||de===void 0)&&de.$el.contains(G.relatedTarget)||(c.value=!1,re(G),be())}function ge(){var G;(G=M.value)===null||G===void 0||G.focus(),be()}function X(G){var de;b.value&&(!((de=M.value)===null||de===void 0)&&de.$el.contains(xi(G))||be())}function ue(G){if(!Array.isArray(G))return[];if(N.value)return Array.from(G);{const{remote:de}=e,{value:Oe}=w;if(de){const{value:Le}=K;return G.filter(Re=>Oe.has(Re)||Le.has(Re))}else return G.filter(Le=>Oe.has(Le))}}function Ce(G){he(G.rawNode)}function he(G){if(L.value)return;const{tag:de,remote:Oe,clearFilterAfterSelect:Le,valueField:Re}=e;if(de&&!Oe){const{value:De}=h,Be=De[0]||null;if(Be){const tt=f.value;tt.length?tt.push(Be):f.value=[Be],h.value=R}}if(Oe&&K.value.set(G[Re],G),e.multiple){const De=ue(s.value),Be=De.findIndex(tt=>tt===G[Re]);if(~Be){if(De.splice(Be,1),de&&!Oe){const tt=W(G[Re]);~tt&&(f.value.splice(tt,1),Le&&(u.value=""))}}else De.push(G[Re]),Le&&(u.value="");j(De,D(De))}else{if(de&&!Oe){const De=W(G[Re]);~De?f.value=[f.value[De]]:f.value=R}Vt(),be(),j(G[Re],G)}}function W(G){return f.value.findIndex(Oe=>Oe[e.valueField]===G)}function se(G){b.value||xe();const{value:de}=G.target;u.value=de;const{tag:Oe,remote:Le}=e;if(H(de),Oe&&!Le){if(!de){h.value=R;return}const{onCreate:Re}=e,De=Re?Re(de):{[e.labelField]:de,[e.valueField]:de},{valueField:Be,labelField:tt}=e;d.value.some(pt=>pt[Be]===De[Be]||pt[tt]===De[tt])||f.value.some(pt=>pt[Be]===De[Be]||pt[tt]===De[tt])?h.value=R:h.value=[De]}}function Ue(G){G.stopPropagation();const{multiple:de}=e;!de&&e.filterable&&be(),V(),de?j([],[]):j(null,null)}function ht(G){!an(G,"action")&&!an(G,"empty")&&!an(G,"header")&&G.preventDefault()}function gt(G){ee(G)}function Ct(G){var de,Oe,Le,Re,De;if(!e.keyboard){G.preventDefault();return}switch(G.key){case" ":if(e.filterable)break;G.preventDefault();case"Enter":if(!(!((de=M.value)===null||de===void 0)&&de.isComposing)){if(b.value){const Be=(Oe=P.value)===null||Oe===void 0?void 0:Oe.getPendingTmNode();Be?Ce(Be):e.filterable||(be(),Vt())}else if(xe(),e.tag&&me.value){const Be=h.value[0];if(Be){const tt=Be[e.valueField],{value:pt}=s;e.multiple&&Array.isArray(pt)&&pt.includes(tt)||he(Be)}}}G.preventDefault();break;case"ArrowUp":if(G.preventDefault(),e.loading)return;b.value&&((Le=P.value)===null||Le===void 0||Le.prev());break;case"ArrowDown":if(G.preventDefault(),e.loading)return;b.value?(Re=P.value)===null||Re===void 0||Re.next():xe();break;case"Escape":b.value&&(nd(G),be()),(De=M.value)===null||De===void 0||De.focus();break}}function Vt(){var G;(G=M.value)===null||G===void 0||G.focus()}function Ht(){var G;(G=M.value)===null||G===void 0||G.focusInput()}function Qt(){var G;b.value&&((G=A.value)===null||G===void 0||G.syncPosition())}ae(),Ae(ce(e,"options"),ae);const $n={focus:()=>{var G;(G=M.value)===null||G===void 0||G.focus()},focusInput:()=>{var G;(G=M.value)===null||G===void 0||G.focusInput()},blur:()=>{var G;(G=M.value)===null||G===void 0||G.blur()},blurInput:()=>{var G;(G=M.value)===null||G===void 0||G.blurInput()}},$t=J(()=>{const{self:{menuBoxShadow:G}}=i.value;return{"--n-menu-box-shadow":G}}),Mt=r?Ft("select",void 0,$t,e):void 0;return Object.assign(Object.assign({},$n),{mergedStatus:Q,mergedClsPrefix:t,mergedBordered:n,namespace:o,treeMate:g,isMounted:qi(),triggerRef:M,menuRef:P,pattern:u,uncontrolledShow:m,mergedShow:b,adjustedTo:un(e),uncontrolledValue:l,mergedValue:s,followerRef:A,localizedPlaceholder:U,selectedOption:E,selectedOptions:C,mergedSize:F,mergedDisabled:L,focused:c,activeWithoutMenuOpen:me,inlineThemeDisabled:r,onTriggerInputFocus:Ne,onTriggerInputBlur:Ie,handleTriggerOrMenuResize:Qt,handleMenuFocus:B,handleMenuBlur:q,handleMenuTabOut:ge,handleTriggerClick:$,handleToggle:Ce,handleDeleteOption:he,handlePatternInput:se,handleClear:Ue,handleTriggerBlur:S,handleTriggerFocus:k,handleKeydown:Ct,handleMenuAfterLeave:ze,handleMenuClickOutside:X,handleMenuScroll:gt,handleMenuKeydown:Ct,handleMenuMousedown:ht,mergedTheme:i,cssVars:r?void 0:$t,themeClass:Mt==null?void 0:Mt.themeClass,onRender:Mt==null?void 0:Mt.onRender})},render(){return x("div",{class:"".concat(this.mergedClsPrefix,"-select")},x(gs,null,{default:()=>[x(ps,null,{default:()=>x(Vv,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),x(bs,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===un.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>x(el,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,n;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),No(x(xv,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:["".concat(this.mergedClsPrefix,"-select-menu"),this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var o,r;return[(r=(o=this.$slots).empty)===null||r===void 0?void 0:r.call(o)]},header:()=>{var o,r;return[(r=(o=this.$slots).header)===null||r===void 0?void 0:r.call(o)]},action:()=>{var o,r;return[(r=(o=this.$slots).action)===null||r===void 0?void 0:r.call(o)]}}),this.displayDirective==="show"?[[rs,this.mergedShow],[ir,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[ir,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),dg={padding:"8px 14px"};function fg(e){const{borderRadius:t,boxShadow2:n,baseColor:o}=e;return Object.assign(Object.assign({},dg),{borderRadius:t,boxShadow:n,color:od(o,"rgba(0, 0, 0, .85)"),textColor:o})}const hg=Po({name:"Tooltip",common:Tt,peers:{Popover:vl},self:fg}),vg=Object.assign(Object.assign({},Is),Ze.props),gg=Se({name:"Tooltip",props:vg,slots:Object,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=zt(e),n=Ze("Tooltip","-tooltip",void 0,hg,e,t),o=Y(null);return Object.assign(Object.assign({},{syncPosition(){o.value.syncPosition()},setShow(i){o.value.setShow(i)}}),{popoverRef:o,mergedTheme:n,popoverThemeOverrides:J(()=>n.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return x(As,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),pg={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"};function mg(e){const{primaryColor:t,opacityDisabled:n,borderRadius:o,textColor3:r}=e;return Object.assign(Object.assign({},pg),{iconColor:r,textColor:"white",loadingColor:t,opacityDisabled:n,railColor:"rgba(0, 0, 0, .14)",railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:o,railBorderRadiusMedium:o,railBorderRadiusLarge:o,buttonBorderRadiusSmall:o,buttonBorderRadiusMedium:o,buttonBorderRadiusLarge:o,boxShadowFocus:"0 0 0 2px ".concat(Fe(t,{alpha:.2}))})}const bg={common:Tt,self:mg};function yg(e){const{borderRadiusSmall:t,dividerColor:n,hoverColor:o,pressedColor:r,primaryColor:i,textColor3:l,textColor2:a,textColorDisabled:s,fontSize:c}=e;return{fontSize:c,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:t,nodeColorHover:o,nodeColorPressed:r,nodeColorActive:Fe(i,{alpha:.1}),arrowColor:l,nodeTextColor:a,nodeTextColorDisabled:s,loadingColor:i,dropMarkColor:i,lineColor:n}}const wg=Po({name:"Tree",common:Tt,peers:{Checkbox:Fs,Scrollbar:ts,Empty:hl},self:yg});function xg(e){const{primaryColorHover:t,borderColor:n}=e;return{resizableTriggerColorHover:t,resizableTriggerColor:n}}const Cg={common:Tt,self:xg},_g=oe("split","\n display: flex;\n width: 100%;\n height: 100%;\n",[ve("horizontal","\n flex-direction: row;\n "),ve("vertical","\n flex-direction: column;\n "),oe("split-pane-1","\n overflow: hidden;\n "),oe("split-pane-2","\n overflow: hidden;\n flex: 1;\n "),te("resize-trigger","\n background-color: var(--n-resize-trigger-color);\n transition: background-color .3s var(--n-bezier);\n ",[ve("hover","\n background-color: var(--n-resize-trigger-color-hover);\n "),Ee("&:hover","\n background-color: var(--n-resize-trigger-color-hover);\n ")])]),Sg=Object.assign(Object.assign({},Ze.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),kg=Se({name:"Split",props:Sg,slots:Object,setup(e){var t;const{mergedClsPrefixRef:n,inlineThemeDisabled:o}=zt(e),r=Ze("Split","-split",_g,Cg,e,n),i=J(()=>{const{common:{cubicBezierEaseInOut:m},self:{resizableTriggerColor:b,resizableTriggerColorHover:M}}=r.value;return{"--n-bezier":m,"--n-resize-trigger-color":b,"--n-resize-trigger-color-hover":M}}),l=Y(null),a=Y(!1),s=ce(e,"size"),c=Y(e.defaultSize);!((t=e.watchProps)===null||t===void 0)&&t.includes("defaultSize")&&It(()=>c.value=e.defaultSize);const u=m=>{const b=e["onUpdate:size"];e.onUpdateSize&&Te(e.onUpdateSize,m),b&&Te(b,m),c.value=m},d=Dt(s,c),f=J(()=>{const m=d.value;if(typeof m=="string")return{flex:"0 0 ".concat(m)};if(typeof m=="number"){const b=m*100;return{flex:"0 0 calc(".concat(b,"% - ").concat(e.resizeTriggerSize*b/100,"px)")}}}),h=J(()=>e.direction==="horizontal"?{width:"".concat(e.resizeTriggerSize,"px"),height:"100%"}:{width:"100%",height:"".concat(e.resizeTriggerSize,"px")}),v=J(()=>{const m=e.direction==="horizontal";return{width:m?"".concat(e.resizeTriggerSize,"px"):"",height:m?"":"".concat(e.resizeTriggerSize,"px"),cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let p=0;const y=m=>{m.preventDefault(),a.value=!0,e.onDragStart&&e.onDragStart(m);const b="mousemove",M="mouseup",A=U=>{g(U),e.onDragMove&&e.onDragMove(U)},P=()=>{Bt(b,document,A),Bt(M,document,P),a.value=!1,e.onDragEnd&&e.onDragEnd(m),document.body.style.cursor=""};document.body.style.cursor=v.value.cursor,Rt(b,document,A),Rt(M,document,P);const T=l.value;if(T){const U=T.getBoundingClientRect();e.direction==="horizontal"?p=m.clientX-U.left:p=U.top-m.clientY}g(m)};function g(m){var b,M;const A=(M=(b=l.value)===null||b===void 0?void 0:b.parentElement)===null||M===void 0?void 0:M.getBoundingClientRect();if(!A)return;const{direction:P}=e,T=A.width-e.resizeTriggerSize,U=A.height-e.resizeTriggerSize,R=P==="horizontal"?T:U,K=P==="horizontal"?m.clientX-A.left-p:m.clientY-A.top+p,{min:N,max:D}=e,C=typeof N=="string"?ct(N):N*R,E=typeof D=="string"?ct(D):D*R;let _=K;_=Math.max(_,C),_=Math.min(_,E,R),typeof d.value=="string"?u("".concat(_,"px")):u(_/R)}const w=o?Ft("split",void 0,i,e):void 0;return{themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender,cssVars:o?void 0:i,resizeTriggerElRef:l,isDragging:a,mergedClsPrefix:n,resizeTriggerWrapperStyle:v,resizeTriggerStyle:h,handleMouseDown:y,firstPaneStyle:f}},render(){var e,t,n,o,r;return(e=this.onRender)===null||e===void 0||e.call(this),x("div",{class:["".concat(this.mergedClsPrefix,"-split"),"".concat(this.mergedClsPrefix,"-split--").concat(this.direction),this.themeClass],style:this.cssVars},x("div",{class:["".concat(this.mergedClsPrefix,"-split-pane-1"),this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(n=(t=this.$slots)[1])===null||n===void 0?void 0:n.call(t)),!this.disabled&&x("div",{ref:"resizeTriggerElRef",class:"".concat(this.mergedClsPrefix,"-split__resize-trigger-wrapper"),style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},cn(this.$slots["resize-trigger"],()=>[x("div",{style:this.resizeTriggerStyle,class:["".concat(this.mergedClsPrefix,"-split__resize-trigger"),this.isDragging&&"".concat(this.mergedClsPrefix,"-split__resize-trigger--hover")]})])),x("div",{class:["".concat(this.mergedClsPrefix,"-split-pane-2"),this.pane2Class],style:this.pane2Style},(r=(o=this.$slots)[2])===null||r===void 0?void 0:r.call(o)))}}),Eg=oe("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[te("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),te("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),te("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),oe("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[xo({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),te("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),te("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),te("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),Ee("&:focus",[te("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),ve("round",[te("rail","border-radius: calc(var(--n-rail-height) / 2);",[te("button","border-radius: calc(var(--n-button-height) / 2);")])]),nt("disabled",[nt("icon",[ve("rubber-band",[ve("pressed",[te("rail",[te("button","max-width: var(--n-button-width-pressed);")])]),te("rail",[Ee("&:active",[te("button","max-width: var(--n-button-width-pressed);")])]),ve("active",[ve("pressed",[te("rail",[te("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),te("rail",[Ee("&:active",[te("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),ve("active",[te("rail",[te("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),te("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[te("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[xo()]),te("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),ve("active",[te("rail","background-color: var(--n-rail-color-active);")]),ve("loading",[te("rail","\n cursor: wait;\n ")]),ve("disabled",[te("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),$g=Object.assign(Object.assign({},Ze.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let so;const Mg=Se({name:"Switch",props:$g,slots:Object,setup(e){so===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?so=CSS.supports("width","max(1px)"):so=!1:so=!0);const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=zt(e),o=Ze("Switch","-switch",Eg,bg,e,t),r=Er(e),{mergedSizeRef:i,mergedDisabledRef:l}=r,a=Y(e.defaultValue),s=ce(e,"value"),c=Dt(s,a),u=J(()=>c.value===e.checkedValue),d=Y(!1),f=Y(!1),h=J(()=>{const{railStyle:T}=e;if(T)return T({focused:f.value,checked:u.value})});function v(T){const{"onUpdate:value":U,onChange:R,onUpdateValue:K}=e,{nTriggerFormInput:N,nTriggerFormChange:D}=r;U&&Te(U,T),K&&Te(K,T),R&&Te(R,T),a.value=T,N(),D()}function p(){const{nTriggerFormFocus:T}=r;T()}function y(){const{nTriggerFormBlur:T}=r;T()}function g(){e.loading||l.value||(c.value!==e.checkedValue?v(e.checkedValue):v(e.uncheckedValue))}function w(){f.value=!0,p()}function m(){f.value=!1,y(),d.value=!1}function b(T){e.loading||l.value||T.key===" "&&(c.value!==e.checkedValue?v(e.checkedValue):v(e.uncheckedValue),d.value=!1)}function M(T){e.loading||l.value||T.key===" "&&(T.preventDefault(),d.value=!0)}const A=J(()=>{const{value:T}=i,{self:{opacityDisabled:U,railColor:R,railColorActive:K,buttonBoxShadow:N,buttonColor:D,boxShadowFocus:C,loadingColor:E,textColor:_,iconColor:F,[Ke("buttonHeight",T)]:L,[Ke("buttonWidth",T)]:Q,[Ke("buttonWidthPressed",T)]:j,[Ke("railHeight",T)]:re,[Ke("railWidth",T)]:V,[Ke("railBorderRadius",T)]:O,[Ke("buttonBorderRadius",T)]:H},common:{cubicBezierEaseInOut:ee}}=o.value;let ae,fe,xe;return so?(ae="calc((".concat(re," - ").concat(L,") / 2)"),fe="max(".concat(re,", ").concat(L,")"),xe="max(".concat(V,", calc(").concat(V," + ").concat(L," - ").concat(re,"))")):(ae=Yt((ct(re)-ct(L))/2),fe=Yt(Math.max(ct(re),ct(L))),xe=ct(re)>ct(L)?V:Yt(ct(V)+ct(L)-ct(re))),{"--n-bezier":ee,"--n-button-border-radius":H,"--n-button-box-shadow":N,"--n-button-color":D,"--n-button-width":Q,"--n-button-width-pressed":j,"--n-button-height":L,"--n-height":fe,"--n-offset":ae,"--n-opacity-disabled":U,"--n-rail-border-radius":O,"--n-rail-color":R,"--n-rail-color-active":K,"--n-rail-height":re,"--n-rail-width":V,"--n-width":xe,"--n-box-shadow-focus":C,"--n-loading-color":E,"--n-text-color":_,"--n-icon-color":F}}),P=n?Ft("switch",J(()=>i.value[0]),A,e):void 0;return{handleClick:g,handleBlur:m,handleFocus:w,handleKeyup:b,handleKeydown:M,mergedRailStyle:h,pressed:d,mergedClsPrefix:t,mergedValue:c,checked:u,mergedDisabled:l,cssVars:n?void 0:A,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:n,mergedRailStyle:o,onRender:r,$slots:i}=this;r==null||r();const{checked:l,unchecked:a,icon:s,"checked-icon":c,"unchecked-icon":u}=i,d=!(go(s)&&go(c)&&go(u));return x("div",{role:"switch","aria-checked":n,class:["".concat(e,"-switch"),this.themeClass,d&&"".concat(e,"-switch--icon"),n&&"".concat(e,"-switch--active"),t&&"".concat(e,"-switch--disabled"),this.round&&"".concat(e,"-switch--round"),this.loading&&"".concat(e,"-switch--loading"),this.pressed&&"".concat(e,"-switch--pressed"),this.rubberBand&&"".concat(e,"-switch--rubber-band")],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},x("div",{class:"".concat(e,"-switch__rail"),"aria-hidden":"true",style:o},ut(l,f=>ut(a,h=>f||h?x("div",{"aria-hidden":!0,class:"".concat(e,"-switch__children-placeholder")},x("div",{class:"".concat(e,"-switch__rail-placeholder")},x("div",{class:"".concat(e,"-switch__button-placeholder")}),f),x("div",{class:"".concat(e,"-switch__rail-placeholder")},x("div",{class:"".concat(e,"-switch__button-placeholder")}),h)):null)),x("div",{class:"".concat(e,"-switch__button")},ut(s,f=>ut(c,h=>ut(u,v=>x(Sr,null,{default:()=>this.loading?x(kr,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(h||f)?x("div",{class:"".concat(e,"-switch__button-icon"),key:h?"checked-icon":"icon"},h||f):!this.checked&&(v||f)?x("div",{class:"".concat(e,"-switch__button-icon"),key:v?"unchecked-icon":"icon"},v||f):null})))),ut(l,f=>f&&x("div",{key:"checked",class:"".concat(e,"-switch__checked")},f)),ut(a,f=>f&&x("div",{key:"unchecked",class:"".concat(e,"-switch__unchecked")},f)))))}}),Ls=Bn("n-tree-select");function ra({position:e,offsetLevel:t,indent:n,el:o}){const r={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")r.left=0,r.top=0,r.bottom=0,r.borderRadius="inherit",r.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const i=e==="before"?"top":"bottom";r[i]=0,r.left="".concat(o.offsetLeft+6-t*n,"px"),r.height="2px",r.backgroundColor="var(--n-drop-mark-color)",r.transformOrigin=i,r.borderRadius="1px",r.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return x("div",{style:r})}function Ng({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}const Io=Bn("n-tree");function Pg({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:o,mergedCheckedKeysRef:r,handleCheck:i,handleSelect:l,handleSwitcherClick:a}){const{value:s}=o,c=Xe(Ls,null),u=c?c.pendingNodeKeyRef:Y(s.length?s[s.length-1]:null);function d(f){var h;if(!e.keyboard)return{enterBehavior:null};const{value:v}=u;let p=null;if(v===null){if((f.key==="ArrowDown"||f.key==="ArrowUp")&&f.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(f.key)&&v===null){const{value:y}=t;let g=0;for(;g<y.length;){if(!y[g].disabled){u.value=y[g].key;break}g+=1}}}else{const{value:y}=t;let g=y.findIndex(w=>w.key===v);if(!~g)return{enterBehavior:null};if(f.key==="Enter"){const w=y[g];switch(p=((h=e.overrideDefaultNodeClickBehavior)===null||h===void 0?void 0:h.call(e,{option:w.rawNode}))||null,p){case"toggleCheck":i(w,!r.value.includes(w.key));break;case"toggleSelect":l(w);break;case"toggleExpand":a(w);break;case"none":break;case"default":default:p="default",l(w)}}else if(f.key==="ArrowDown")for(f.preventDefault(),g+=1;g<y.length;){if(!y[g].disabled){u.value=y[g].key;break}g+=1}else if(f.key==="ArrowUp")for(f.preventDefault(),g-=1;g>=0;){if(!y[g].disabled){u.value=y[g].key;break}g-=1}else if(f.key==="ArrowLeft"){const w=y[g];if(w.isLeaf||!n.value.includes(v)){const m=w.getParent();m&&(u.value=m.key)}else a(w)}else if(f.key==="ArrowRight"){const w=y[g];if(w.isLeaf)return{enterBehavior:null};if(!n.value.includes(v))a(w);else for(g+=1;g<y.length;){if(!y[g].disabled){u.value=y[g].key;break}g+=1}}}return{enterBehavior:p}}return{pendingNodeKeyRef:u,handleKeydown:d}}const Tg=Se({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=Xe(Io);function n(r){const{onCheck:i}=e;i&&i(r)}function o(r){n(r)}return{handleUpdateValue:o,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:o,disabled:r,focusable:i,indent:l,handleUpdateValue:a}=this;return x("span",{class:["".concat(e,"-tree-node-checkbox"),this.right&&"".concat(e,"-tree-node-checkbox--right")],style:{width:"".concat(l,"px")},"data-checkbox":!0},x(lg,{focusable:i,disabled:r,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:o,onUpdateChecked:a}))}}),zg=Se({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:o,labelFieldRef:r}=Xe(Io),i=Y(null);function l(s){const{onClick:c}=e;c&&c(s)}function a(s){l(s)}return{selfRef:i,renderLabel:t,renderPrefix:n,renderSuffix:o,labelField:r,handleClick:a}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:o=!1,selected:r=!1,renderLabel:i,renderPrefix:l,renderSuffix:a,handleClick:s,onDragstart:c,tmNode:{rawNode:u,rawNode:{prefix:d,suffix:f,[t]:h}}}=this;return x("span",Object.assign({},n,{ref:"selfRef",class:["".concat(e,"-tree-node-content"),n==null?void 0:n.class],onClick:s,draggable:c===void 0?void 0:!0,onDragstart:c}),l||d?x("div",{class:"".concat(e,"-tree-node-content__prefix")},l?l({option:u,selected:r,checked:o}):ln(d)):null,x("div",{class:"".concat(e,"-tree-node-content__text")},i?i({option:u,selected:r,checked:o}):ln(h)),a||f?x("div",{class:"".concat(e,"-tree-node-content__suffix")},a?a({option:u,selected:r,checked:o}):ln(f)):null)}}),Ig=Se({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function,tmNode:{type:Object,required:!0}},setup(e){const{renderSwitcherIconRef:t}=Xe(Io,null);return()=>{const{clsPrefix:n,expanded:o,hide:r,indent:i,onClick:l}=e;return x("span",{"data-switcher":!0,class:["".concat(n,"-tree-node-switcher"),o&&"".concat(n,"-tree-node-switcher--expanded"),r&&"".concat(n,"-tree-node-switcher--hide")],style:{width:"".concat(i,"px")},onClick:l},x("div",{class:"".concat(n,"-tree-node-switcher__icon")},x(Sr,null,{default:()=>{if(e.loading)return x(kr,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:a}=t;return a?a({expanded:e.expanded,selected:e.selected,option:e.tmNode.rawNode}):x(In,{clsPrefix:n,key:"switcher"},{default:()=>x(Hh,null)})}})))}}});function Ag(e){return J(()=>e.leafOnly?"child":e.checkStrategy)}function mn(e,t){return!!e.rawNode[t]}function Vs(e,t,n,o){e==null||e.forEach(r=>{n(r),Vs(r[t],t,n,o),o(r)})}function Og(e,t,n,o,r){const i=new Set,l=new Set,a=[];return Vs(e,o,s=>{if(a.push(s),r(t,s)){l.add(s[n]);for(let c=a.length-2;c>=0;--c)if(!i.has(a[c][n]))i.add(a[c][n]);else return}},()=>{a.pop()}),{expandedKeys:Array.from(i),highlightKeySet:l}}if(rd&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Dg(e,t,n,o,r){const i=new Set,l=new Set,a=new Set,s=[],c=[],u=[];function d(h){h.forEach(v=>{if(u.push(v),t(n,v)){i.add(v[o]),a.add(v[o]);for(let y=u.length-2;y>=0;--y){const g=u[y][o];if(!l.has(g))l.add(g),i.has(g)&&i.delete(g);else break}}const p=v[r];p&&d(p),u.pop()})}d(e);function f(h,v){h.forEach(p=>{const y=p[o],g=i.has(y),w=l.has(y);if(!g&&!w)return;const m=p[r];if(m)if(g)v.push(p);else{s.push(y);const b=Object.assign(Object.assign({},p),{[r]:[]});v.push(b),f(m,b[r])}else v.push(p)})}return f(e,c),{filteredTree:c,highlightKeySet:a,expandedKeys:s}}const Hs=Se({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=Xe(Io),{droppingNodeParentRef:n,droppingMouseNodeRef:o,draggingNodeRef:r,droppingPositionRef:i,droppingOffsetLevelRef:l,nodePropsRef:a,indentRef:s,blockLineRef:c,checkboxPlacementRef:u,checkOnClickRef:d,disabledFieldRef:f,showLineRef:h,renderSwitcherIconRef:v,overrideDefaultNodeClickBehaviorRef:p}=t,y=Ye(()=>!!e.tmNode.rawNode.checkboxDisabled),g=Ye(()=>mn(e.tmNode,f.value)),w=Ye(()=>t.disabledRef.value||g.value),m=J(()=>{const{value:O}=a;if(O)return O({option:e.tmNode.rawNode})}),b=Y(null),M={value:null};rt(()=>{M.value=b.value.$el});function A(){const O=()=>{const{tmNode:H}=e;if(!H.isLeaf&&!H.shallowLoaded){if(!t.loadingKeysRef.value.has(H.key))t.loadingKeysRef.value.add(H.key);else return;const{onLoadRef:{value:ee}}=t;ee&&ee(H.rawNode).then(ae=>{ae!==!1&&t.handleSwitcherClick(H)}).finally(()=>{t.loadingKeysRef.value.delete(H.key)})}else t.handleSwitcherClick(H)};v.value?setTimeout(O,0):O()}const P=Ye(()=>!g.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),T=Ye(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),U=Ye(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),R=Ye(()=>{const{value:O}=T;if(!O)return!1;const{value:H}=d,{tmNode:ee}=e;return typeof H=="boolean"?!ee.disabled&&H:H(e.tmNode.rawNode)});function K(O){const{value:H}=t.expandOnClickRef,{value:ee}=P,{value:ae}=R;if(!ee&&!H&&!ae||an(O,"checkbox")||an(O,"switcher"))return;const{tmNode:fe}=e;ee&&t.handleSelect(fe),H&&!fe.isLeaf&&A(),ae&&E(!U.value)}function N(O){var H,ee;if(!(an(O,"checkbox")||an(O,"switcher"))){if(!w.value){const ae=p.value;let fe=!1;if(ae)switch(ae({option:e.tmNode.rawNode})){case"toggleCheck":fe=!0,E(!U.value);break;case"toggleSelect":fe=!0,t.handleSelect(e.tmNode);break;case"toggleExpand":fe=!0,A(),fe=!0;break;case"none":fe=!0,fe=!0;return}fe||K(O)}(ee=(H=m.value)===null||H===void 0?void 0:H.onClick)===null||ee===void 0||ee.call(H,O)}}function D(O){c.value||N(O)}function C(O){c.value&&N(O)}function E(O){t.handleCheck(e.tmNode,O)}function _(O){t.handleDragStart({event:O,node:e.tmNode})}function F(O){O.currentTarget===O.target&&t.handleDragEnter({event:O,node:e.tmNode})}function L(O){O.preventDefault(),t.handleDragOver({event:O,node:e.tmNode})}function Q(O){t.handleDragEnd({event:O,node:e.tmNode})}function j(O){O.currentTarget===O.target&&t.handleDragLeave({event:O,node:e.tmNode})}function re(O){O.preventDefault(),i.value!==null&&t.handleDrop({event:O,node:e.tmNode,dropPosition:i.value})}const V=J(()=>{const{clsPrefix:O}=e,{value:H}=s;if(h.value){const ee=[];let ae=e.tmNode.parent;for(;ae;)ae.isLastChild?ee.push(x("div",{class:"".concat(O,"-tree-node-indent")},x("div",{style:{width:"".concat(H,"px")}}))):ee.push(x("div",{class:["".concat(O,"-tree-node-indent"),"".concat(O,"-tree-node-indent--show-line")]},x("div",{style:{width:"".concat(H,"px")}}))),ae=ae.parent;return ee.reverse()}else return id(e.tmNode.level,x("div",{class:"".concat(e.clsPrefix,"-tree-node-indent")},x("div",{style:{width:"".concat(H,"px")}})))});return{showDropMark:Ye(()=>{const{value:O}=r;if(!O)return;const{value:H}=i;if(!H)return;const{value:ee}=o;if(!ee)return;const{tmNode:ae}=e;return ae.key===ee.key}),showDropMarkAsParent:Ye(()=>{const{value:O}=n;if(!O)return!1;const{tmNode:H}=e,{value:ee}=i;return ee==="before"||ee==="after"?O.key===H.key:!1}),pending:Ye(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Ye(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Ye(()=>{var O;return(O=t.highlightKeySetRef.value)===null||O===void 0?void 0:O.has(e.tmNode.key)}),checked:U,indeterminate:Ye(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Ye(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Ye(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:w,checkable:T,mergedCheckOnClick:R,checkboxDisabled:y,selectable:P,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:c,nodeProps:m,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:i,droppingOffsetLevel:l,indent:s,checkboxPlacement:u,showLine:h,contentInstRef:b,contentElRef:M,indentNodes:V,handleCheck:E,handleDrop:re,handleDragStart:_,handleDragEnter:F,handleDragOver:L,handleDragEnd:Q,handleDragLeave:j,handleLineClick:C,handleContentClick:D,handleSwitcherClick:A}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:o,selectable:r,selected:i,checked:l,highlight:a,draggable:s,blockLine:c,indent:u,indentNodes:d,disabled:f,pending:h,internalScrollable:v,nodeProps:p,checkboxPlacement:y}=this,g=s&&!f?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,w=v?Cs(e.key):void 0,m=y==="right",b=n?x(Tg,{indent:u,right:m,focusable:this.checkboxFocusable,disabled:f||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return x("div",Object.assign({class:"".concat(t,"-tree-node-wrapper")},g),x("div",Object.assign({},c?p:void 0,{class:["".concat(t,"-tree-node"),{["".concat(t,"-tree-node--selected")]:i,["".concat(t,"-tree-node--checkable")]:n,["".concat(t,"-tree-node--highlight")]:a,["".concat(t,"-tree-node--pending")]:h,["".concat(t,"-tree-node--disabled")]:f,["".concat(t,"-tree-node--selectable")]:r,["".concat(t,"-tree-node--clickable")]:r||o||this.mergedCheckOnClick},p==null?void 0:p.class],"data-key":w,draggable:s&&c,onClick:this.handleLineClick,onDragstart:s&&c&&!f?this.handleDragStart:void 0}),d,e.isLeaf&&this.showLine?x("div",{class:["".concat(t,"-tree-node-indent"),"".concat(t,"-tree-node-indent--show-line"),e.isLeaf&&"".concat(t,"-tree-node-indent--is-leaf"),e.isLastChild&&"".concat(t,"-tree-node-indent--last-child")]},x("div",{style:{width:"".concat(u,"px")}})):x(Ig,{clsPrefix:t,expanded:this.expanded,selected:i,loading:this.loading,hide:e.isLeaf,tmNode:this.tmNode,indent:u,onClick:this.handleSwitcherClick}),m?null:b,x(zg,{ref:"contentInstRef",clsPrefix:t,checked:l,selected:i,onClick:this.handleContentClick,nodeProps:c?void 0:p,onDragstart:s&&!c&&!f?this.handleDragStart:void 0,tmNode:e}),s?this.showDropMark?ra({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:u}):this.showDropMarkAsParent?ra({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:u}):null:null,m?b:null))}}),Rg=Se({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return x(ld,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>x("div",{class:["".concat(e,"-tree-motion-wrapper"),"".concat(e,"-tree-motion-wrapper--").concat(this.mode)],style:{height:Yt(this.height)}},this.nodes.map(t=>x(Hs,{clsPrefix:e,tmNode:t})))})}}),oi=xo(),Bg=oe("tree","\n font-size: var(--n-font-size);\n outline: none;\n",[Ee("ul, li","\n margin: 0;\n padding: 0;\n list-style: none;\n "),Ee(">",[oe("tree-node",[Ee("&:first-child","margin-top: 0;")])]),oe("tree-motion-wrapper",[ve("expand",[zl({duration:"0.2s"})]),ve("collapse",[zl({duration:"0.2s",reverse:!0})])]),oe("tree-node-wrapper","\n box-sizing: border-box;\n padding: var(--n-node-wrapper-padding);\n "),oe("tree-node","\n position: relative;\n display: flex;\n border-radius: var(--n-node-border-radius);\n transition: background-color .3s var(--n-bezier);\n ",[ve("highlight",[oe("tree-node-content",[te("text","border-bottom-color: var(--n-node-text-color-disabled);")])]),ve("disabled",[oe("tree-node-content","\n color: var(--n-node-text-color-disabled);\n cursor: not-allowed;\n ")]),nt("disabled",[ve("clickable",[oe("tree-node-content","\n cursor: pointer;\n ")])])]),ve("block-node",[oe("tree-node-content","\n flex: 1;\n min-width: 0;\n ")]),nt("block-line",[oe("tree-node",[nt("disabled",[oe("tree-node-content",[Ee("&:hover","background: var(--n-node-color-hover);")]),ve("selectable",[oe("tree-node-content",[Ee("&:active","background: var(--n-node-color-pressed);")])]),ve("pending",[oe("tree-node-content","\n background: var(--n-node-color-hover);\n ")]),ve("selected",[oe("tree-node-content","background: var(--n-node-color-active);")])]),ve("selected",[oe("tree-node-content","background: var(--n-node-color-active);")])])]),ve("block-line",[oe("tree-node",[nt("disabled",[Ee("&:hover","background: var(--n-node-color-hover);"),ve("pending","\n background: var(--n-node-color-hover);\n "),ve("selectable",[nt("selected",[Ee("&:active","background: var(--n-node-color-pressed);")])]),ve("selected","background: var(--n-node-color-active);")]),ve("selected","background: var(--n-node-color-active);"),ve("disabled","\n cursor: not-allowed;\n ")])]),oe("tree-node-indent","\n flex-grow: 0;\n flex-shrink: 0;\n ",[ve("show-line","position: relative",[Ee("&::before",'\n position: absolute;\n left: 50%;\n border-left: 1px solid var(--n-line-color);\n transition: border-color .3s var(--n-bezier);\n transform: translate(-50%);\n content: "";\n top: var(--n-line-offset-top);\n bottom: var(--n-line-offset-bottom);\n '),ve("last-child",[Ee("&::before","\n bottom: 50%;\n ")]),ve("is-leaf",[Ee("&::after",'\n position: absolute;\n content: "";\n left: calc(50% + 0.5px);\n right: 0;\n bottom: 50%;\n transition: border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-line-color);\n ')])]),nt("show-line","height: 0;")]),oe("tree-node-switcher","\n cursor: pointer;\n display: inline-flex;\n flex-shrink: 0;\n height: var(--n-node-content-height);\n align-items: center;\n justify-content: center;\n transition: transform .15s var(--n-bezier);\n vertical-align: bottom;\n ",[te("icon","\n position: relative;\n height: 14px;\n width: 14px;\n display: flex;\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n font-size: 14px;\n ",[oe("icon",[oi]),oe("base-loading","\n color: var(--n-loading-color);\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n ",[oi]),oe("base-icon",[oi])]),ve("hide","visibility: hidden;"),ve("expanded","transform: rotate(90deg);")]),oe("tree-node-checkbox","\n display: inline-flex;\n height: var(--n-node-content-height);\n vertical-align: bottom;\n align-items: center;\n justify-content: center;\n "),oe("tree-node-content","\n user-select: none;\n position: relative;\n display: inline-flex;\n align-items: center;\n min-height: var(--n-node-content-height);\n box-sizing: border-box;\n line-height: var(--n-line-height);\n vertical-align: bottom;\n padding: 0 6px 0 4px;\n cursor: default;\n border-radius: var(--n-node-border-radius);\n color: var(--n-node-text-color);\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[Ee("&:last-child","margin-bottom: 0;"),te("prefix","\n display: inline-flex;\n margin-right: 8px;\n "),te("text","\n border-bottom: 1px solid #0000;\n transition: border-color .3s var(--n-bezier);\n flex-grow: 1;\n max-width: 100%;\n "),te("suffix","\n display: inline-flex;\n ")]),te("empty","margin: auto;")]);var Fg=function(e,t,n,o){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(u){try{c(o.next(u))}catch(d){l(d)}}function s(u){try{c(o.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,s)}c((o=o.apply(e,[])).next())})};function ia(e,t,n,o){return{getIsGroup(){return!1},getKey(i){return i[e]},getChildren:o||(i=>i[t]),getDisabled(i){return!!(i[n]||i.checkboxDisabled)}}}const Lg={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indent:{type:Number,default:24},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array],overrideDefaultNodeClickBehavior:Function},Vg=Object.assign(Object.assign(Object.assign(Object.assign({},Ze.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,showLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},scrollbarProps:Object,allowDrop:{type:Function,default:Ng},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Lg),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Hg=Se({name:"Tree",props:Vg,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:o}=zt(e),r=eo("Tree",o,t),i=Ze("Tree","-tree",Bg,wg,e,t),l=Y(null),a=Y(null),s=Y(null);function c(){var z;return(z=s.value)===null||z===void 0?void 0:z.listElRef}function u(){var z;return(z=s.value)===null||z===void 0?void 0:z.itemsElRef}const d=J(()=>{const{filter:z}=e;if(z)return z;const{labelField:Z}=e;return(ie,_e)=>{if(!ie.length)return!0;const ke=_e[Z];return typeof ke=="string"?ke.toLowerCase().includes(ie.toLowerCase()):!1}}),f=J(()=>{const{pattern:z}=e;return z?!z.length||!d.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Dg(e.data,d.value,z,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),h=J(()=>Ti(e.showIrrelevantNodes?e.data:f.value.filteredTree,ia(e.keyField,e.childrenField,e.disabledField,e.getChildren))),v=Xe(Ls,null),p=e.internalTreeSelect?v.dataTreeMate:J(()=>e.showIrrelevantNodes?h.value:Ti(e.data,ia(e.keyField,e.childrenField,e.disabledField,e.getChildren))),{watchProps:y}=e,g=Y([]);y!=null&&y.includes("defaultCheckedKeys")?It(()=>{g.value=e.defaultCheckedKeys}):g.value=e.defaultCheckedKeys;const w=ce(e,"checkedKeys"),m=Dt(w,g),b=J(()=>p.value.getCheckedKeys(m.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),M=Ag(e),A=J(()=>b.value.checkedKeys),P=J(()=>{const{indeterminateKeys:z}=e;return z!==void 0?z:b.value.indeterminateKeys}),T=Y([]);y!=null&&y.includes("defaultSelectedKeys")?It(()=>{T.value=e.defaultSelectedKeys}):T.value=e.defaultSelectedKeys;const U=ce(e,"selectedKeys"),R=Dt(U,T),K=Y([]),N=z=>{K.value=e.defaultExpandAll?p.value.getNonLeafKeys():z===void 0?e.defaultExpandedKeys:z};y!=null&&y.includes("defaultExpandedKeys")?It(()=>{N(void 0)}):It(()=>{N(e.defaultExpandedKeys)});const D=ce(e,"expandedKeys"),C=Dt(D,K),E=J(()=>h.value.getFlattenedNodes(C.value)),{pendingNodeKeyRef:_,handleKeydown:F}=Pg({props:e,mergedCheckedKeysRef:m,mergedSelectedKeysRef:R,fNodesRef:E,mergedExpandedKeysRef:C,handleCheck:Oe,handleSelect:De,handleSwitcherClick:Re});let L=null,Q=null;const j=Y(new Set),re=J(()=>e.internalHighlightKeySet||f.value.highlightKeySet),V=Dt(re,j),O=Y(new Set),H=J(()=>C.value.filter(z=>!O.value.has(z)));let ee=0;const ae=Y(null),fe=Y(null),xe=Y(null),be=Y(null),ze=Y(0),me=J(()=>{const{value:z}=fe;return z?z.parent:null});let Ne=!1;Ae(ce(e,"data"),()=>{Ne=!0,et(()=>{Ne=!1}),O.value.clear(),_.value=null,$t()},{deep:!1});let Ie=!1;const $=()=>{Ie=!0,et(()=>{Ie=!1})};let S;Ae(ce(e,"pattern"),(z,Z)=>{if(e.showIrrelevantNodes)if(S=void 0,z){const{expandedKeys:ie,highlightKeySet:_e}=Og(e.data,e.pattern,e.keyField,e.childrenField,d.value);j.value=_e,$(),W(ie,he(ie),{node:null,action:"filter"})}else j.value=new Set;else if(!z.length)S!==void 0&&($(),W(S,he(S),{node:null,action:"filter"}));else{Z.length||(S=C.value);const{expandedKeys:ie}=f.value;ie!==void 0&&($(),W(ie,he(ie),{node:null,action:"filter"}))}});function k(z){return Fg(this,void 0,void 0,function*(){const{onLoad:Z}=e;if(!Z){yield Promise.resolve();return}const{value:ie}=O;if(!ie.has(z.key)){ie.add(z.key);try{(yield Z(z.rawNode))===!1&&de()}catch(_e){console.error(_e),de()}ie.delete(z.key)}})}It(()=>{var z;const{value:Z}=h;if(!Z)return;const{getNode:ie}=Z;(z=C.value)===null||z===void 0||z.forEach(_e=>{const ke=ie(_e);ke&&!ke.shallowLoaded&&k(ke)})});const B=Y(!1),q=Y([]);Ae(H,(z,Z)=>{if(!e.animated||Ie){et(ue);return}if(Ne)return;const ie=ct(i.value.self.nodeHeight),_e=new Set(Z);let ke=null,We=null;for(const Ge of z)if(!_e.has(Ge)){if(ke!==null)return;ke=Ge}const ot=new Set(z);for(const Ge of Z)if(!ot.has(Ge)){if(We!==null)return;We=Ge}if(ke===null&&We===null)return;const{virtualScroll:it}=e,Nt=(it?s.value.listElRef:l.value).offsetHeight,Wt=Math.ceil(Nt/ie)+1;let mt;if(ke!==null&&(mt=Z),We!==null&&(mt===void 0?mt=z:mt=mt.filter(Ge=>Ge!==We)),B.value=!0,q.value=h.value.getFlattenedNodes(mt),ke!==null){const Ge=q.value.findIndex(bt=>bt.key===ke);if(~Ge){const bt=q.value[Ge].children;if(bt){const _t=Pi(bt,z);q.value.splice(Ge+1,0,{__motion:!0,mode:"expand",height:it?_t.length*ie:void 0,nodes:it?_t.slice(0,Wt):_t})}}}if(We!==null){const Ge=q.value.findIndex(bt=>bt.key===We);if(~Ge){const bt=q.value[Ge].children;if(!bt)return;B.value=!0;const _t=Pi(bt,z);q.value.splice(Ge+1,0,{__motion:!0,mode:"collapse",height:it?_t.length*ie:void 0,nodes:it?_t.slice(0,Wt):_t})}}});const ge=J(()=>Ns(E.value)),X=J(()=>B.value?q.value:E.value);function ue(){const{value:z}=a;z&&z.sync()}function Ce(){B.value=!1,e.virtualScroll&&et(ue)}function he(z){const{getNode:Z}=p.value;return z.map(ie=>{var _e;return((_e=Z(ie))===null||_e===void 0?void 0:_e.rawNode)||null})}function W(z,Z,ie){const{"onUpdate:expandedKeys":_e,onUpdateExpandedKeys:ke}=e;K.value=z,_e&&Te(_e,z,Z,ie),ke&&Te(ke,z,Z,ie)}function se(z,Z,ie){const{"onUpdate:checkedKeys":_e,onUpdateCheckedKeys:ke}=e;g.value=z,ke&&Te(ke,z,Z,ie),_e&&Te(_e,z,Z,ie)}function Ue(z,Z){const{"onUpdate:indeterminateKeys":ie,onUpdateIndeterminateKeys:_e}=e;ie&&Te(ie,z,Z),_e&&Te(_e,z,Z)}function ht(z,Z,ie){const{"onUpdate:selectedKeys":_e,onUpdateSelectedKeys:ke}=e;T.value=z,ke&&Te(ke,z,Z,ie),_e&&Te(_e,z,Z,ie)}function gt(z){const{onDragenter:Z}=e;Z&&Te(Z,z)}function Ct(z){const{onDragleave:Z}=e;Z&&Te(Z,z)}function Vt(z){const{onDragend:Z}=e;Z&&Te(Z,z)}function Ht(z){const{onDragstart:Z}=e;Z&&Te(Z,z)}function Qt(z){const{onDragover:Z}=e;Z&&Te(Z,z)}function $n(z){const{onDrop:Z}=e;Z&&Te(Z,z)}function $t(){Mt(),G()}function Mt(){ae.value=null}function G(){ze.value=0,fe.value=null,xe.value=null,be.value=null,de()}function de(){L&&(window.clearTimeout(L),L=null),Q=null}function Oe(z,Z){if(e.disabled||mn(z,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){De(z);return}const ie=Z?"check":"uncheck",{checkedKeys:_e,indeterminateKeys:ke}=p.value[ie](z.key,A.value,{cascade:e.cascade,checkStrategy:M.value,allowNotLoaded:e.allowCheckingNotLoaded});se(_e,he(_e),{node:z.rawNode,action:ie}),Ue(ke,he(ke))}function Le(z){if(e.disabled)return;const{key:Z}=z,{value:ie}=C,_e=ie.findIndex(ke=>ke===Z);if(~_e){const ke=Array.from(ie);ke.splice(_e,1),W(ke,he(ke),{node:z.rawNode,action:"collapse"})}else{const ke=h.value.getNode(Z);if(!ke||ke.isLeaf)return;let We;if(e.accordion){const ot=new Set(z.siblings.map(({key:it})=>it));We=ie.filter(it=>!ot.has(it)),We.push(Z)}else We=ie.concat(Z);W(We,he(We),{node:z.rawNode,action:"expand"})}}function Re(z){e.disabled||B.value||Le(z)}function De(z){if(!(e.disabled||!e.selectable)){if(_.value=z.key,e.internalUnifySelectCheck){const{value:{checkedKeys:Z,indeterminateKeys:ie}}=b;e.multiple?Oe(z,!(Z.includes(z.key)||ie.includes(z.key))):se([z.key],he([z.key]),{node:z.rawNode,action:"check"})}if(e.multiple){const Z=Array.from(R.value),ie=Z.findIndex(_e=>_e===z.key);~ie?e.cancelable&&Z.splice(ie,1):~ie||Z.push(z.key),ht(Z,he(Z),{node:z.rawNode,action:~ie?"unselect":"select"})}else R.value.includes(z.key)?e.cancelable&&ht([],[],{node:z.rawNode,action:"unselect"}):ht([z.key],he([z.key]),{node:z.rawNode,action:"select"})}}function Be(z){if(L&&(window.clearTimeout(L),L=null),z.isLeaf)return;Q=z.key;const Z=()=>{if(Q!==z.key)return;const{value:ie}=xe;if(ie&&ie.key===z.key&&!C.value.includes(z.key)){const _e=C.value.concat(z.key);W(_e,he(_e),{node:z.rawNode,action:"expand"})}L=null,Q=null};z.shallowLoaded?L=window.setTimeout(()=>{Z()},1e3):L=window.setTimeout(()=>{k(z).then(()=>{Z()})},1e3)}function tt({event:z,node:Z}){!e.draggable||e.disabled||mn(Z,e.disabledField)||(en({event:z,node:Z},!1),gt({event:z,node:Z.rawNode}))}function pt({event:z,node:Z}){!e.draggable||e.disabled||mn(Z,e.disabledField)||Ct({event:z,node:Z.rawNode})}function to(z){z.target===z.currentTarget&&G()}function Ln({event:z,node:Z}){$t(),!(!e.draggable||e.disabled||mn(Z,e.disabledField))&&Vt({event:z,node:Z.rawNode})}function no({event:z,node:Z}){!e.draggable||e.disabled||mn(Z,e.disabledField)||(ee=z.clientX,ae.value=Z,Ht({event:z,node:Z.rawNode}))}function en({event:z,node:Z},ie=!0){var _e;if(!e.draggable||e.disabled||mn(Z,e.disabledField))return;const{value:ke}=ae;if(!ke)return;const{allowDrop:We,indent:ot}=e;ie&&Qt({event:z,node:Z.rawNode});const it=z.currentTarget,{height:Nt,top:Wt}=it.getBoundingClientRect(),mt=z.clientY-Wt;let Ge;We({node:Z.rawNode,dropPosition:"inside",phase:"drag"})?mt<=8?Ge="before":mt>=Nt-8?Ge="after":Ge="inside":mt<=Nt/2?Ge="before":Ge="after";const{value:_t}=ge;let He,Je;const vn=_t(Z.key);if(vn===null){G();return}let Hn=!1;Ge==="inside"?(He=Z,Je="inside"):Ge==="before"?Z.isFirstChild?(He=Z,Je="before"):(He=E.value[vn-1],Je="after"):(He=Z,Je="after"),!He.isLeaf&&C.value.includes(He.key)&&(Hn=!0,Je==="after"&&(He=E.value[vn+1],He?Je="before":(He=Z,Je="inside")));const Do=He;if(xe.value=Do,!Hn&&ke.isLastChild&&ke.key===He.key&&(Je="after"),Je==="after"){let Ro=ee-z.clientX,io=0;for(;Ro>=ot/2&&He.parent!==null&&He.isLastChild&&io<1;)Ro-=ot,io+=1,He=He.parent;ze.value=io}else ze.value=0;if((ke.contains(He)||Je==="inside"&&((_e=ke.parent)===null||_e===void 0?void 0:_e.key)===He.key)&&!(ke.key===Do.key&&ke.key===He.key)){G();return}if(!We({node:He.rawNode,dropPosition:Je,phase:"drag"})){G();return}if(ke.key===He.key)de();else if(Q!==He.key)if(Je==="inside"){if(e.expandOnDragenter){if(Be(He),!He.shallowLoaded&&Q!==He.key){$t();return}}else if(!He.shallowLoaded){$t();return}}else de();else Je!=="inside"&&de();be.value=Je,fe.value=He}function hn({event:z,node:Z,dropPosition:ie}){if(!e.draggable||e.disabled||mn(Z,e.disabledField))return;const{value:_e}=ae,{value:ke}=fe,{value:We}=be;if(!(!_e||!ke||!We)&&e.allowDrop({node:ke.rawNode,dropPosition:We,phase:"drag"})&&_e.key!==ke.key){if(We==="before"){const ot=_e.getNext({includeDisabled:!0});if(ot&&ot.key===ke.key){G();return}}if(We==="after"){const ot=_e.getPrev({includeDisabled:!0});if(ot&&ot.key===ke.key){G();return}}$n({event:z,node:ke.rawNode,dragNode:_e.rawNode,dropPosition:ie}),$t()}}function oo(){ue()}function ro(){ue()}function Vn(z){var Z;if(e.virtualScroll||e.internalScrollable){const{value:ie}=a;if(!((Z=ie==null?void 0:ie.containerRef)===null||Z===void 0)&&Z.contains(z.relatedTarget))return;_.value=null}else{const{value:ie}=l;if(ie!=null&&ie.contains(z.relatedTarget))return;_.value=null}}Ae(_,z=>{var Z,ie;if(z!==null){if(e.virtualScroll)(Z=s.value)===null||Z===void 0||Z.scrollTo({key:z});else if(e.internalScrollable){const{value:_e}=a;if(_e===null)return;const ke=(ie=_e.contentRef)===null||ie===void 0?void 0:ie.querySelector('[data-key="'.concat(Cs(z),'"]'));if(!ke)return;_e.scrollTo({el:ke})}}}),vt(Io,{loadingKeysRef:O,highlightKeySetRef:V,displayedCheckedKeysRef:A,displayedIndeterminateKeysRef:P,mergedSelectedKeysRef:R,mergedExpandedKeysRef:C,mergedThemeRef:i,mergedCheckStrategyRef:M,nodePropsRef:ce(e,"nodeProps"),disabledRef:ce(e,"disabled"),checkableRef:ce(e,"checkable"),selectableRef:ce(e,"selectable"),expandOnClickRef:ce(e,"expandOnClick"),onLoadRef:ce(e,"onLoad"),draggableRef:ce(e,"draggable"),blockLineRef:ce(e,"blockLine"),indentRef:ce(e,"indent"),cascadeRef:ce(e,"cascade"),checkOnClickRef:ce(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:xe,droppingNodeParentRef:me,draggingNodeRef:ae,droppingPositionRef:be,droppingOffsetLevelRef:ze,fNodesRef:E,pendingNodeKeyRef:_,showLineRef:ce(e,"showLine"),disabledFieldRef:ce(e,"disabledField"),internalScrollableRef:ce(e,"internalScrollable"),internalCheckboxFocusableRef:ce(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:ce(e,"renderLabel"),renderPrefixRef:ce(e,"renderPrefix"),renderSuffixRef:ce(e,"renderSuffix"),renderSwitcherIconRef:ce(e,"renderSwitcherIcon"),labelFieldRef:ce(e,"labelField"),multipleRef:ce(e,"multiple"),overrideDefaultNodeClickBehaviorRef:ce(e,"overrideDefaultNodeClickBehavior"),handleSwitcherClick:Re,handleDragEnd:Ln,handleDragEnter:tt,handleDragLeave:pt,handleDragStart:no,handleDrop:hn,handleDragOver:en,handleSelect:De,handleCheck:Oe});function Kt(z,Z){var ie,_e;typeof z=="number"?(ie=s.value)===null||ie===void 0||ie.scrollTo(z,Z||0):(_e=s.value)===null||_e===void 0||_e.scrollTo(z)}const I={handleKeydown:F,scrollTo:Kt,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:z}=b.value;return{keys:z,options:he(z)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:z}=b.value;return{keys:z,options:he(z)}}},ne=J(()=>{const{common:{cubicBezierEaseInOut:z},self:{fontSize:Z,nodeBorderRadius:ie,nodeColorHover:_e,nodeColorPressed:ke,nodeColorActive:We,arrowColor:ot,loadingColor:it,nodeTextColor:Nt,nodeTextColorDisabled:Wt,dropMarkColor:mt,nodeWrapperPadding:Ge,nodeHeight:bt,lineHeight:_t,lineColor:He}}=i.value,Je=Xt(Ge,"top"),vn=Xt(Ge,"bottom"),Hn=Yt(ct(bt)-ct(Je)-ct(vn));return{"--n-arrow-color":ot,"--n-loading-color":it,"--n-bezier":z,"--n-font-size":Z,"--n-node-border-radius":ie,"--n-node-color-active":We,"--n-node-color-hover":_e,"--n-node-color-pressed":ke,"--n-node-text-color":Nt,"--n-node-text-color-disabled":Wt,"--n-drop-mark-color":mt,"--n-node-wrapper-padding":Ge,"--n-line-offset-top":"-".concat(Je),"--n-line-offset-bottom":"-".concat(vn),"--n-node-content-height":Hn,"--n-line-height":_t,"--n-line-color":He}}),$e=n?Ft("tree",void 0,ne,e):void 0;return Object.assign(Object.assign({},I),{mergedClsPrefix:t,mergedTheme:i,rtlEnabled:r,fNodes:X,aip:B,selfElRef:l,virtualListInstRef:s,scrollbarInstRef:a,handleFocusout:Vn,handleDragLeaveTree:to,handleScroll:oo,getScrollContainer:c,getScrollContent:u,handleAfterEnter:Ce,handleResize:ro,cssVars:n?void 0:ne,themeClass:$e==null?void 0:$e.themeClass,onRender:$e==null?void 0:$e.onRender})},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:o,blockNode:r,blockLine:i,draggable:l,disabled:a,internalFocusable:s,checkable:c,handleKeydown:u,rtlEnabled:d,handleFocusout:f,scrollbarProps:h}=this,v=s&&!a,p=v?"0":void 0,y=["".concat(o,"-tree"),d&&"".concat(o,"-tree--rtl"),c&&"".concat(o,"-tree--checkable"),(i||r)&&"".concat(o,"-tree--block-node"),i&&"".concat(o,"-tree--block-line")],g=m=>"__motion"in m?x(Rg,{height:m.height,nodes:m.nodes,clsPrefix:o,mode:m.mode,onAfterEnter:this.handleAfterEnter}):x(Hs,{key:m.key,tmNode:m,clsPrefix:o});if(this.virtualScroll){const{mergedTheme:m,internalScrollablePadding:b}=this,M=Xt(b||"0");return x(Ci,Object.assign({},h,{ref:"scrollbarInstRef",onDragleave:l?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:y,theme:m.peers.Scrollbar,themeOverrides:m.peerOverrides.Scrollbar,tabindex:p,onKeydown:v?u:void 0,onFocusout:v?f:void 0}),{default:()=>{var A;return(A=this.onRender)===null||A===void 0||A.call(this),t.length?x(ws,{ref:"virtualListInstRef",items:this.fNodes,itemSize:ct(m.self.nodeHeight),ignoreItemResize:this.aip,paddingTop:M.top,paddingBottom:M.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:M.left,paddingRight:M.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:P})=>g(P)}):cn(this.$slots.empty,()=>[x(zi,{class:"".concat(o,"-tree__empty"),theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})])}})}const{internalScrollable:w}=this;return y.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),w?x(Ci,Object.assign({},h,{class:y,tabindex:p,onKeydown:v?u:void 0,onFocusout:v?f:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}}),{default:()=>x("div",{onDragleave:l?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(g))}):x("div",{class:y,tabindex:p,ref:"selfElRef",style:this.cssVars,onKeydown:v?u:void 0,onFocusout:v?f:void 0,onDragleave:l?this.handleDragLeaveTree:void 0},t.length?t.map(g):cn(this.$slots.empty,()=>[x(zi,{class:"".concat(o,"-tree__empty"),theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Kg=["src"],Wg={class:"flex justify-center pt-[-20px] mb-4"},Ug={class:"w-16 h-16 rounded-full border-4 border-white shadow-md"},Gg=["src"],Yg={class:"flex-1 p-4 overflow-y-auto bg-gray-50"},jg={class:"flex flex-col gap-4"},Xg={class:"flex items-start gap-2 self-start"},Zg={class:"w-8 h-8 rounded-full flex-shrink-0"},qg=["src"],Jg={class:"p-3 border-t"},Qg={class:"flex gap-2"},ep={__name:"index",setup(e){const t=Y("https://img1.baidu.com/it/u=379314286,942392305&fm=253&fmt=auto&app=138&f=JPEG?w=304&h=404"),n=Y(!1),o=Y(""),r=Y(null),i=tl({x:window.innerWidth-220,y:window.innerHeight/2-40}),l=Y(!1),a=Y({x:0,y:0}),s=Y({left:"".concat(i.x,"px"),top:"".concat(i.y,"px")}),c=()=>{n.value=!0,setTimeout(()=>{document.addEventListener("click",g),v()},17)},u=w=>{w.stopPropagation(),l.value=!0;const m=r.value.getBoundingClientRect();a.value={x:w.clientX-m.left,y:w.clientY-m.top},document.addEventListener("mousemove",d),document.addEventListener("mouseup",f),document.body.style.cursor="grabbing"},d=w=>{if(!l.value)return;let m=w.clientX-a.value.x,b=w.clientY-a.value.y;const M=h(m,b);i.x=M.x,i.y=M.y,p()},f=()=>{l.value&&(l.value=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f),document.body.style.cursor="")},h=(w,m)=>{const b=r.value;if(!b)return{x:w,y:m};const M=b.getBoundingClientRect(),A=M.width,P=M.height,T=window.innerWidth,U=window.innerHeight,R=T-A,K=U-P;return{x:Math.max(0,Math.min(w,R)),y:Math.max(0,Math.min(m,K))}},v=()=>{const w=h(i.x,i.y);i.x=w.x,i.y=w.y,p()},p=()=>{s.value={left:"".concat(i.x,"px"),top:"".concat(i.y,"px"),right:"auto",bottom:"auto"}},y=()=>{o.value.trim()&&(console.log("发送消息:",o.value),o.value="")},g=w=>{n.value&&r.value&&!r.value.contains(w.target)&&(n.value=!1,document.removeEventListener("click",g))};return rt(()=>{v(),window.addEventListener("resize",v),Ae(n,v)}),nl(()=>{document.removeEventListener("click",g),window.removeEventListener("resize",v)}),(w,m)=>(we(),Pe("div",{ref_key:"digitalHumanContainer",ref:r,class:"tech-border fixed z-50 transition-transform transition-opacity transition-shadow duration-300 ease-in-out w-[fit-content] p-5px hover:p-10px hover:bg-blue-500 cursor-move rounded-5px",style:kt(s.value),onMousedown:u},[n.value?(we(),Pe("div",{key:1,class:"w-80 bg-white rounded-lg shadow-xl overflow-hidden flex flex-col select-none cursor-default",onMousedown:Il(b=>null,["stop"])},[le("div",Wg,[le("div",Ug,[le("img",{src:t.value,alt:"数字人头像",class:"w-full h-full object-cover rounded-full"},null,8,Gg)])]),le("div",Yg,[le("div",jg,[le("div",Xg,[le("div",Zg,[le("img",{src:t.value,alt:"数字人头像",class:"w-full h-full object-cover rounded-full"},null,8,qg)]),m[1]||(m[1]=le("div",{class:"bg-white px-3 py-2 rounded-lg rounded-tl-none shadow-sm max-w-[70%]"},[le("p",null,"您好！我是您的数字助手，有什么可以帮助您的吗？")],-1))]),m[2]||(m[2]=le("div",{class:"flex items-start gap-2 self-end"},[le("div",{class:"bg-blue-500 text-white px-3 py-2 rounded-lg rounded-tr-none shadow-sm max-w-[70%]"},[le("p",null,"你好！我想了解一下这个项目的基本情况。")])],-1))])]),le("div",Jg,[le("div",Qg,[je(pe(Ii),{value:o.value,"onUpdate:value":m[0]||(m[0]=b=>o.value=b),placeholder:"请输入消息...",class:"flex-1",onKeyup:ad(y,["enter"])},null,8,["value"]),je(pe(is),{onClick:y,type:"primary"},{default:ft(()=>m[3]||(m[3]=[To("发送")])),_:1,__:[3]})])])],32)):(we(),Pe("div",{key:0,class:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center cursor-pointer shadow-lg transition-transform hover:scale-95 select-none relative",onMousedown:Il(b=>null,["stop"])},[le("div",{class:"absolute inset-0 flex items-center justify-center",onClick:c},[le("img",{src:t.value,alt:"数字人头像",class:"w-full h-full object-cover rounded-full pointer-events-none"},null,8,Kg)])],32))],36))}},tp=qt(ep,[["__scopeId","data-v-a261fd7b"]]),Ho=6,ri=20,np={__name:"Split",props:{modelValue:{type:Array,default:()=>[1/3,1/3,1/3]}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,r=Y(null);let i=!1,l=-1,a=0,s=[],c=0;const u=(v,p)=>function(...y){const g=Date.now();g-c>=p&&(v.apply(this,y),c=g)},d=(v,p)=>{i=!0,l=v,a=p.clientX,s=[...n.modelValue],document.body.style.cursor="col-resize",document.addEventListener("mousemove",u(f,ri)),document.addEventListener("mouseup",h)},f=v=>{if(!i)return;const p=r.value.offsetWidth,g=(v.clientX-a)/p,w=[...s],m=l,b=l+1;w[m]=s[m]+g,w[b]=s[b]-g;const M=0;w[m]=Math.max(M,w[m]),w[b]=Math.max(M,w[b]);const A=s[m]+s[b],P=w[m]+w[b];if(P>A){const T=P-A;w[m]>w[b]?w[m]-=T:w[b]-=T}o("update:modelValue",w)},h=()=>{i=!1,l=-1,document.body.style.cursor="default",document.removeEventListener("mousemove",u(f,ri)),document.removeEventListener("mouseup",h)};return rt(()=>{et(()=>{const v=r.value.offsetWidth,p=Ho*2,y=v-p,g=n.modelValue.map(w=>w*y/v);o("update:modelValue",g)})}),nl(()=>{document.removeEventListener("mousemove",u(f,ri)),document.removeEventListener("mouseup",h)}),(v,p)=>(we(),Pe("div",{ref_key:"splitRef",ref:r,class:"split-container"},[le("div",{class:"panel",style:kt({width:"calc(".concat(e.modelValue[0]*100,"% - ").concat(Ho/3,"px)")})},[Qe(v.$slots,"panel1",{},void 0,!0)],4),le("div",{class:"split-line",onMousedown:p[0]||(p[0]=y=>d(0,y))},null,32),le("div",{class:"panel",style:kt({width:"calc(".concat(e.modelValue[1]*100,"% - ").concat(Ho/3,"px)")})},[Qe(v.$slots,"panel2",{},void 0,!0)],4),le("div",{class:"split-line",onMousedown:p[1]||(p[1]=y=>d(1,y))},null,32),le("div",{class:"panel",style:kt({width:"calc(".concat(e.modelValue[2]*100,"% - ").concat(Ho/3,"px)")})},[Qe(v.$slots,"panel3",{},void 0,!0)],4)],512))}},op=qt(np,[["__scopeId","data-v-77034839"]]),rp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ip=Se({name:"AlertCircleOutline",render:function(t,n){return we(),Pe("svg",rp,n[0]||(n[0]=[le("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),le("path",{d:"M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 6z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le("path",{d:"M256 367.91a20 20 0 1 1 20-20a20 20 0 0 1-20 20z",fill:"currentColor"},null,-1)]))}}),lp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ap=Se({name:"CheckmarkCircleOutline",render:function(t,n){return we(),Pe("svg",lp,n[0]||(n[0]=[le("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 176L217.6 336L160 272"},null,-1)]))}}),sp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},cp=Se({name:"CloudUploadOutline",render:function(t,n){return we(),Pe("svg",sp,n[0]||(n[0]=[le("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1)]))}}),up={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},dp=Se({name:"CogOutline",render:function(t,n){return we(),Pe("svg",up,n[0]||(n[0]=[le("path",{d:"M456.7 242.27l-26.08-4.2a8 8 0 0 1-6.6-6.82c-.5-3.2-1-6.41-1.7-9.51a8.08 8.08 0 0 1 3.9-8.62l23.09-12.82a8.05 8.05 0 0 0 3.9-9.92l-4-11a7.94 7.94 0 0 0-9.4-5l-25.89 5a8 8 0 0 1-8.59-4.11q-2.25-4.2-4.8-8.41a8.16 8.16 0 0 1 .7-9.52l17.29-19.94a8 8 0 0 0 .3-10.62l-7.49-9a7.88 7.88 0 0 0-10.5-1.51l-22.69 13.63a8 8 0 0 1-9.39-.9c-2.4-2.11-4.9-4.21-7.4-6.22a8 8 0 0 1-2.5-9.11l9.4-24.75A8 8 0 0 0 365 78.77l-10.2-5.91a8 8 0 0 0-10.39 2.21l-16.64 20.84a7.15 7.15 0 0 1-8.5 2.5s-5.6-2.3-9.8-3.71A8 8 0 0 1 304 87l.4-26.45a8.07 8.07 0 0 0-6.6-8.42l-11.59-2a8.07 8.07 0 0 0-9.1 5.61l-8.6 25.05a8 8 0 0 1-7.79 5.41h-9.8a8.07 8.07 0 0 1-7.79-5.41l-8.6-25.05a8.07 8.07 0 0 0-9.1-5.61l-11.59 2a8.07 8.07 0 0 0-6.6 8.42l.4 26.45a8 8 0 0 1-5.49 7.71c-2.3.9-7.3 2.81-9.7 3.71c-2.8 1-6.1.2-8.8-2.91l-16.51-20.34A8 8 0 0 0 156.75 73l-10.2 5.91a7.94 7.94 0 0 0-3.3 10.09l9.4 24.75a8.06 8.06 0 0 1-2.5 9.11c-2.5 2-5 4.11-7.4 6.22a8 8 0 0 1-9.39.9L111 116.14a8 8 0 0 0-10.5 1.51l-7.49 9a8 8 0 0 0 .3 10.62l17.29 19.94a8 8 0 0 1 .7 9.52q-2.55 4-4.8 8.41a8.11 8.11 0 0 1-8.59 4.11l-25.89-5a8 8 0 0 0-9.4 5l-4 11a8.05 8.05 0 0 0 3.9 9.92L85.58 213a7.94 7.94 0 0 1 3.9 8.62c-.6 3.2-1.2 6.31-1.7 9.51a8.08 8.08 0 0 1-6.6 6.82l-26.08 4.2a8.09 8.09 0 0 0-7.1 7.92v11.72a7.86 7.86 0 0 0 7.1 7.92l26.08 4.2a8 8 0 0 1 6.6 6.82c.5 3.2 1 6.41 1.7 9.51a8.08 8.08 0 0 1-3.9 8.62L62.49 311.7a8.05 8.05 0 0 0-3.9 9.92l4 11a7.94 7.94 0 0 0 9.4 5l25.89-5a8 8 0 0 1 8.59 4.11q2.25 4.2 4.8 8.41a8.16 8.16 0 0 1-.7 9.52l-17.29 19.96a8 8 0 0 0-.3 10.62l7.49 9a7.88 7.88 0 0 0 10.5 1.51l22.69-13.63a8 8 0 0 1 9.39.9c2.4 2.11 4.9 4.21 7.4 6.22a8 8 0 0 1 2.5 9.11l-9.4 24.75a8 8 0 0 0 3.3 10.12l10.2 5.91a8 8 0 0 0 10.39-2.21l16.79-20.64c2.1-2.6 5.5-3.7 8.2-2.6c3.4 1.4 5.7 2.2 9.9 3.61a8 8 0 0 1 5.49 7.71l-.4 26.45a8.07 8.07 0 0 0 6.6 8.42l11.59 2a8.07 8.07 0 0 0 9.1-5.61l8.6-25a8 8 0 0 1 7.79-5.41h9.8a8.07 8.07 0 0 1 7.79 5.41l8.6 25a8.07 8.07 0 0 0 9.1 5.61l11.59-2a8.07 8.07 0 0 0 6.6-8.42l-.4-26.45a8 8 0 0 1 5.49-7.71c4.2-1.41 7-2.51 9.6-3.51s5.8-1 8.3 2.1l17 20.94A8 8 0 0 0 355 439l10.2-5.91a7.93 7.93 0 0 0 3.3-10.12l-9.4-24.75a8.08 8.08 0 0 1 2.5-9.12c2.5-2 5-4.1 7.4-6.21a8 8 0 0 1 9.39-.9L401 395.66a8 8 0 0 0 10.5-1.51l7.49-9a8 8 0 0 0-.3-10.62l-17.29-19.94a8 8 0 0 1-.7-9.52q2.55-4.05 4.8-8.41a8.11 8.11 0 0 1 8.59-4.11l25.89 5a8 8 0 0 0 9.4-5l4-11a8.05 8.05 0 0 0-3.9-9.92l-23.09-12.82a7.94 7.94 0 0 1-3.9-8.62c.6-3.2 1.2-6.31 1.7-9.51a8.08 8.08 0 0 1 6.6-6.82l26.08-4.2a8.09 8.09 0 0 0 7.1-7.92V250a8.25 8.25 0 0 0-7.27-7.73zM256 112a143.82 143.82 0 0 1 139.38 108.12A16 16 0 0 1 379.85 240H274.61a16 16 0 0 1-13.91-8.09l-52.1-91.71a16 16 0 0 1 9.85-23.39A146.94 146.94 0 0 1 256 112zM112 256a144 144 0 0 1 43.65-103.41a16 16 0 0 1 25.17 3.47L233.06 248a16 16 0 0 1 0 15.87l-52.67 91.7a16 16 0 0 1-25.18 3.36A143.94 143.94 0 0 1 112 256zm144 144a146.9 146.9 0 0 1-38.19-4.95a16 16 0 0 1-9.76-23.44l52.58-91.55a16 16 0 0 1 13.88-8H379.9a16 16 0 0 1 15.52 19.88A143.84 143.84 0 0 1 256 400z",fill:"currentColor"},null,-1)]))}}),fp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},la=Se({name:"DocumentTextOutline",render:function(t,n){return we(),Pe("svg",fp,n[0]||(n[0]=[le("path",{d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),le("path",{d:"M256 56v120a32 32 0 0 0 32 32h120",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 288h160"},null,-1),le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 368h160"},null,-1)]))}}),hp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},vp=Se({name:"SaveOutline",render:function(t,n){return we(),Pe("svg",hp,n[0]||(n[0]=[le("path",{d:"M380.93 57.37A32 32 0 0 0 358.3 48H94.22A46.21 46.21 0 0 0 48 94.22v323.56A46.21 46.21 0 0 0 94.22 464h323.56A46.36 46.36 0 0 0 464 417.78V153.7a32 32 0 0 0-9.37-22.63zM256 416a64 64 0 1 1 64-64a63.92 63.92 0 0 1-64 64zm48-224H112a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),gp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ii=Se({name:"Search",render:function(t,n){return we(),Pe("svg",gp,n[0]||(n[0]=[le("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8a124.95 124.95 0 0 1-124.8-124.8z",fill:"currentColor"},null,-1)]))}});function Mr(e){return ls()?(Qo(e),!0):!1}function rn(e){return typeof e=="function"?e():pe(e)}const pp=typeof window<"u"&&typeof document<"u",mp=e=>typeof e<"u",bp=Object.prototype.toString,yp=e=>bp.call(e)==="[object Object]",wp=()=>{};function xp(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}const Ks=e=>e();function Cp(e=Ks){const t=Y(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:gd(t),pause:n,resume:o,eventFilter:r}}function aa(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function _p(e,t,n={}){const{eventFilter:o=Ks,...r}=n;return Ae(e,xp(o,t),r)}function Wn(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:i,pause:l,resume:a,isActive:s}=Cp(o);return{stop:_p(e,t,{...r,eventFilter:i}),pause:l,resume:a,isActive:s}}function Sp(e,t={}){if(!ol(e))return dd(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=fd(()=>({get(){return e.value[o]},set(r){var i;if((i=rn(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const a=[...e.value];a[o]=r,e.value=a}else{const a={...e.value,[o]:r};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=r}}));return n}function Ai(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:v,throwOnTimeout:p}={}){let y=null;const w=[new Promise(m=>{y=Ae(e,b=>{d(b)!==t&&(y==null||y(),m(b))},{flush:f,deep:h,immediate:!0})})];return v!=null&&w.push(aa(v,p).then(()=>rn(e)).finally(()=>y==null?void 0:y())),Promise.race(w)}function o(d,f){if(!ol(d))return n(b=>b===d,f);const{flush:h="sync",deep:v=!1,timeout:p,throwOnTimeout:y}=f!=null?f:{};let g=null;const m=[new Promise(b=>{g=Ae([e,d],([M,A])=>{t!==(M===A)&&(g==null||g(),b(M))},{flush:h,deep:v,immediate:!0})})];return p!=null&&m.push(aa(p,y).then(()=>rn(e)).finally(()=>(g==null||g(),rn(e)))),Promise.race(m)}function r(d){return n(f=>!!f,d)}function i(d){return o(null,d)}function l(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function s(d,f){return n(h=>{const v=Array.from(h);return v.includes(d)||v.includes(rn(d))},f)}function c(d){return u(1,d)}function u(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(rn(e))?{toMatch:n,toContains:s,changed:c,changedTimes:u,get not(){return Ai(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:i,toBeNaN:a,toBeUndefined:l,changed:c,changedTimes:u,get not(){return Ai(e,!t)}}}function Oi(e){return Ai(e)}function kp(e){var t;const n=rn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Ws=pp?window:void 0;function Us(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=Ws):[t,n,o,r]=e,!t)return wp;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],l=()=>{i.forEach(u=>u()),i.length=0},a=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),s=Ae(()=>[kp(t),rn(r)],([u,d])=>{if(l(),!u)return;const f=yp(d)?{...d}:d;i.push(...n.flatMap(h=>o.map(v=>a(u,h,v,f))))},{immediate:!0,flush:"post"}),c=()=>{s(),l()};return Mr(c),c}function Ep(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function sa(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Ws,eventName:i="keydown",passive:l=!1,dedupe:a=!1}=o,s=Ep(t);return Us(r,i,u=>{u.repeat&&rn(a)||s(u)&&n(u)},l)}function $p(e){return JSON.parse(JSON.stringify(e))}function li(e,t,n,o={}){var r,i,l;const{clone:a=!1,passive:s=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=o,h=Fn(),v=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((l=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:l.bind(h==null?void 0:h.proxy));let p=c;t||(t="modelValue"),p=p||"update:".concat(t.toString());const y=m=>a?typeof a=="function"?a(m):$p(m):m,g=()=>mp(e[t])?y(e[t]):d,w=m=>{f?f(m)&&v(p,m):v(p,m)};if(s){const m=g(),b=Y(m);let M=!1;return Ae(()=>e[t],A=>{M||(M=!0,b.value=y(A),et(()=>M=!1))}),Ae(b,A=>{!M&&(A!==e[t]||u)&&w(A)},{deep:u}),b}else return J({get(){return g()},set(m){w(m)}})}var Mp={value:()=>{}};function Nr(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new er(n)}function er(e){this._=e}function Np(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}er.prototype=Nr.prototype={constructor:er,on:function(e,t){var n=this._,o=Np(e+"",n),r,i=-1,l=o.length;if(arguments.length<2){for(;++i<l;)if((r=(e=o[i]).type)&&(r=Pp(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(r=(e=o[i]).type)n[r]=ca(n[r],e.name,t);else if(t==null)for(r in n)n[r]=ca(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new er(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function Pp(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function ca(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Mp,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Di="http://www.w3.org/1999/xhtml";const ua={svg:"http://www.w3.org/2000/svg",xhtml:Di,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ua.hasOwnProperty(t)?{space:ua[t],local:e}:e}function Tp(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Di&&t.documentElement.namespaceURI===Di?t.createElement(e):t.createElementNS(n,e)}}function zp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Gs(e){var t=Pr(e);return(t.local?zp:Tp)(t)}function Ip(){}function gl(e){return e==null?Ip:function(){return this.querySelector(e)}}function Ap(e){typeof e!="function"&&(e=gl(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,a=o[r]=new Array(l),s,c,u=0;u<l;++u)(s=i[u])&&(c=e.call(s,s.__data__,u,i))&&("__data__"in s&&(c.__data__=s.__data__),a[u]=c);return new Et(o,this._parents)}function Op(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Dp(){return[]}function Ys(e){return e==null?Dp:function(){return this.querySelectorAll(e)}}function Rp(e){return function(){return Op(e.apply(this,arguments))}}function Bp(e){typeof e=="function"?e=Rp(e):e=Ys(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var l=t[i],a=l.length,s,c=0;c<a;++c)(s=l[c])&&(o.push(e.call(s,s.__data__,c,l)),r.push(s));return new Et(o,r)}function js(e){return function(){return this.matches(e)}}function Xs(e){return function(t){return t.matches(e)}}var Fp=Array.prototype.find;function Lp(e){return function(){return Fp.call(this.children,e)}}function Vp(){return this.firstElementChild}function Hp(e){return this.select(e==null?Vp:Lp(typeof e=="function"?e:Xs(e)))}var Kp=Array.prototype.filter;function Wp(){return Array.from(this.children)}function Up(e){return function(){return Kp.call(this.children,e)}}function Gp(e){return this.selectAll(e==null?Wp:Up(typeof e=="function"?e:Xs(e)))}function Yp(e){typeof e!="function"&&(e=js(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,a=o[r]=[],s,c=0;c<l;++c)(s=i[c])&&e.call(s,s.__data__,c,i)&&a.push(s);return new Et(o,this._parents)}function Zs(e){return new Array(e.length)}function jp(){return new Et(this._enter||this._groups.map(Zs),this._parents)}function ur(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ur.prototype={constructor:ur,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Xp(e){return function(){return e}}function Zp(e,t,n,o,r,i){for(var l=0,a,s=t.length,c=i.length;l<c;++l)(a=t[l])?(a.__data__=i[l],o[l]=a):n[l]=new ur(e,i[l]);for(;l<s;++l)(a=t[l])&&(r[l]=a)}function qp(e,t,n,o,r,i,l){var a,s,c=new Map,u=t.length,d=i.length,f=new Array(u),h;for(a=0;a<u;++a)(s=t[a])&&(f[a]=h=l.call(s,s.__data__,a,t)+"",c.has(h)?r[a]=s:c.set(h,s));for(a=0;a<d;++a)h=l.call(e,i[a],a,i)+"",(s=c.get(h))?(o[a]=s,s.__data__=i[a],c.delete(h)):n[a]=new ur(e,i[a]);for(a=0;a<u;++a)(s=t[a])&&c.get(f[a])===s&&(r[a]=s)}function Jp(e){return e.__data__}function Qp(e,t){if(!arguments.length)return Array.from(this,Jp);var n=t?qp:Zp,o=this._parents,r=this._groups;typeof e!="function"&&(e=Xp(e));for(var i=r.length,l=new Array(i),a=new Array(i),s=new Array(i),c=0;c<i;++c){var u=o[c],d=r[c],f=d.length,h=em(e.call(u,u&&u.__data__,c,o)),v=h.length,p=a[c]=new Array(v),y=l[c]=new Array(v),g=s[c]=new Array(f);n(u,d,p,y,g,h,t);for(var w=0,m=0,b,M;w<v;++w)if(b=p[w]){for(w>=m&&(m=w+1);!(M=y[m])&&++m<v;);b._next=M||null}}return l=new Et(l,o),l._enter=a,l._exit=s,l}function em(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tm(){return new Et(this._exit||this._groups.map(Zs),this._parents)}function nm(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function om(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,l=Math.min(r,i),a=new Array(r),s=0;s<l;++s)for(var c=n[s],u=o[s],d=c.length,f=a[s]=new Array(d),h,v=0;v<d;++v)(h=c[v]||u[v])&&(f[v]=h);for(;s<r;++s)a[s]=n[s];return new Et(a,this._parents)}function rm(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],l;--r>=0;)(l=o[r])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function im(e){e||(e=lm);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var l=n[i],a=l.length,s=r[i]=new Array(a),c,u=0;u<a;++u)(c=l[u])&&(s[u]=c);s.sort(t)}return new Et(r,this._parents).order()}function lm(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function am(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sm(){return Array.from(this)}function cm(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var l=o[r];if(l)return l}return null}function um(){let e=0;for(const t of this)++e;return e}function dm(){return!this.node()}function fm(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,l=r.length,a;i<l;++i)(a=r[i])&&e.call(a,a.__data__,i,r);return this}function hm(e){return function(){this.removeAttribute(e)}}function vm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gm(e,t){return function(){this.setAttribute(e,t)}}function pm(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mm(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bm(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ym(e,t){var n=Pr(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?vm:hm:typeof t=="function"?n.local?bm:mm:n.local?pm:gm)(n,t))}function qs(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wm(e){return function(){this.style.removeProperty(e)}}function xm(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Cm(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function _m(e,t,n){return arguments.length>1?this.each((t==null?wm:typeof t=="function"?Cm:xm)(e,t,n==null?"":n)):Xn(this.node(),e)}function Xn(e,t){return e.style.getPropertyValue(t)||qs(e).getComputedStyle(e,null).getPropertyValue(t)}function Sm(e){return function(){delete this[e]}}function km(e,t){return function(){this[e]=t}}function Em(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $m(e,t){return arguments.length>1?this.each((t==null?Sm:typeof t=="function"?Em:km)(e,t)):this.node()[e]}function Js(e){return e.trim().split(/^|\s+/)}function pl(e){return e.classList||new Qs(e)}function Qs(e){this._node=e,this._names=Js(e.getAttribute("class")||"")}Qs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ec(e,t){for(var n=pl(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function tc(e,t){for(var n=pl(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Mm(e){return function(){ec(this,e)}}function Nm(e){return function(){tc(this,e)}}function Pm(e,t){return function(){(t.apply(this,arguments)?ec:tc)(this,e)}}function Tm(e,t){var n=Js(e+"");if(arguments.length<2){for(var o=pl(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Pm:t?Mm:Nm)(n,t))}function zm(){this.textContent=""}function Im(e){return function(){this.textContent=e}}function Am(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Om(e){return arguments.length?this.each(e==null?zm:(typeof e=="function"?Am:Im)(e)):this.node().textContent}function Dm(){this.innerHTML=""}function Rm(e){return function(){this.innerHTML=e}}function Bm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Fm(e){return arguments.length?this.each(e==null?Dm:(typeof e=="function"?Bm:Rm)(e)):this.node().innerHTML}function Lm(){this.nextSibling&&this.parentNode.appendChild(this)}function Vm(){return this.each(Lm)}function Hm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Km(){return this.each(Hm)}function Wm(e){var t=typeof e=="function"?e:Gs(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Um(){return null}function Gm(e,t){var n=typeof e=="function"?e:Gs(e),o=t==null?Um:typeof t=="function"?t:gl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Ym(){var e=this.parentNode;e&&e.removeChild(this)}function jm(){return this.each(Ym)}function Xm(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zm(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qm(e){return this.select(e?Zm:Xm)}function Jm(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Qm(e){return function(t){e.call(this,t,this.__data__)}}function e0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function t0(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function n0(e,t,n){return function(){var o=this.__on,r,i=Qm(t);if(o){for(var l=0,a=o.length;l<a;++l)if((r=o[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function o0(e,t,n){var o=e0(e+""),r,i=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,c=a.length,u;s<c;++s)for(r=0,u=a[s];r<i;++r)if((l=o[r]).type===u.type&&l.name===u.name)return u.value}return}for(a=t?n0:t0,r=0;r<i;++r)this.each(a(o[r],t,n));return this}function nc(e,t,n){var o=qs(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function r0(e,t){return function(){return nc(this,e,t)}}function i0(e,t){return function(){return nc(this,e,t.apply(this,arguments))}}function l0(e,t){return this.each((typeof t=="function"?i0:r0)(e,t))}function*a0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,l;r<i;++r)(l=o[r])&&(yield l)}var oc=[null];function Et(e,t){this._groups=e,this._parents=t}function Ao(){return new Et([[document.documentElement]],oc)}function s0(){return this}Et.prototype=Ao.prototype={constructor:Et,select:Ap,selectAll:Bp,selectChild:Hp,selectChildren:Gp,filter:Yp,data:Qp,enter:jp,exit:tm,join:nm,merge:om,selection:s0,order:rm,sort:im,call:am,nodes:sm,node:cm,size:um,empty:dm,each:fm,attr:ym,style:_m,property:$m,classed:Tm,text:Om,html:Fm,raise:Vm,lower:Km,append:Wm,insert:Gm,remove:jm,clone:qm,datum:Jm,on:o0,dispatch:l0,[Symbol.iterator]:a0};function At(e){return typeof e=="string"?new Et([[document.querySelector(e)]],[document.documentElement]):new Et([[e]],oc)}function c0(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ut(e,t){if(e=c0(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const u0={passive:!1},_o={capture:!0,passive:!1};function ai(e){e.stopImmediatePropagation()}function Gn(e){e.preventDefault(),e.stopImmediatePropagation()}function rc(e){var t=e.document.documentElement,n=At(e).on("dragstart.drag",Gn,_o);"onselectstart"in t?n.on("selectstart.drag",Gn,_o):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ic(e,t){var n=e.document.documentElement,o=At(e).on("dragstart.drag",null);t&&(o.on("click.drag",Gn,_o),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ko=e=>()=>e;function Ri(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:l,y:a,dx:s,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Ri.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function d0(e){return!e.ctrlKey&&!e.button}function f0(){return this.parentNode}function h0(e,t){return t==null?{x:e.x,y:e.y}:t}function v0(){return navigator.maxTouchPoints||"ontouchstart"in this}function g0(){var e=d0,t=f0,n=h0,o=v0,r={},i=Nr("start","drag","end"),l=0,a,s,c,u,d=0;function f(b){b.on("mousedown.drag",h).filter(o).on("touchstart.drag",y).on("touchmove.drag",g,u0).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,M){if(!(u||!e.call(this,b,M))){var A=m(this,t.call(this,b,M),b,M,"mouse");A&&(At(b.view).on("mousemove.drag",v,_o).on("mouseup.drag",p,_o),rc(b.view),ai(b),c=!1,a=b.clientX,s=b.clientY,A("start",b))}}function v(b){if(Gn(b),!c){var M=b.clientX-a,A=b.clientY-s;c=M*M+A*A>d}r.mouse("drag",b)}function p(b){At(b.view).on("mousemove.drag mouseup.drag",null),ic(b.view,c),Gn(b),r.mouse("end",b)}function y(b,M){if(e.call(this,b,M)){var A=b.changedTouches,P=t.call(this,b,M),T=A.length,U,R;for(U=0;U<T;++U)(R=m(this,P,b,M,A[U].identifier,A[U]))&&(ai(b),R("start",b,A[U]))}}function g(b){var M=b.changedTouches,A=M.length,P,T;for(P=0;P<A;++P)(T=r[M[P].identifier])&&(Gn(b),T("drag",b,M[P]))}function w(b){var M=b.changedTouches,A=M.length,P,T;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),P=0;P<A;++P)(T=r[M[P].identifier])&&(ai(b),T("end",b,M[P]))}function m(b,M,A,P,T,U){var R=i.copy(),K=Ut(U||A,M),N,D,C;if((C=n.call(b,new Ri("beforestart",{sourceEvent:A,target:f,identifier:T,active:l,x:K[0],y:K[1],dx:0,dy:0,dispatch:R}),P))!=null)return N=C.x-K[0]||0,D=C.y-K[1]||0,function E(_,F,L){var Q=K,j;switch(_){case"start":r[T]=E,j=l++;break;case"end":delete r[T],--l;case"drag":K=Ut(L||F,M),j=l;break}R.call(_,b,new Ri(_,{sourceEvent:F,subject:C,target:f,identifier:T,active:j,x:K[0]+N,y:K[1]+D,dx:K[0]-Q[0],dy:K[1]-Q[1],dispatch:R}),P)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ko(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Ko(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Ko(b),f):n},f.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:Ko(!!b),f):o},f.on=function(){var b=i.on.apply(i,arguments);return b===i?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function ml(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lc(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Oo(){}var So=.7,dr=1/So,Yn="\\s*([+-]?\\d+)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p0=/^#([0-9a-f]{3,8})$/,m0=new RegExp("^rgb\\(".concat(Yn,",").concat(Yn,",").concat(Yn,"\\)$")),b0=new RegExp("^rgb\\(".concat(Zt,",").concat(Zt,",").concat(Zt,"\\)$")),y0=new RegExp("^rgba\\(".concat(Yn,",").concat(Yn,",").concat(Yn,",").concat(ko,"\\)$")),w0=new RegExp("^rgba\\(".concat(Zt,",").concat(Zt,",").concat(Zt,",").concat(ko,"\\)$")),x0=new RegExp("^hsl\\(".concat(ko,",").concat(Zt,",").concat(Zt,"\\)$")),C0=new RegExp("^hsla\\(".concat(ko,",").concat(Zt,",").concat(Zt,",").concat(ko,"\\)$")),da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ml(Oo,On,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fa,formatHex:fa,formatHex8:_0,formatHsl:S0,formatRgb:ha,toString:ha});function fa(){return this.rgb().formatHex()}function _0(){return this.rgb().formatHex8()}function S0(){return ac(this).formatHsl()}function ha(){return this.rgb().formatRgb()}function On(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=p0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?va(t):n===3?new St(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Wo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Wo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=m0.exec(e))?new St(t[1],t[2],t[3],1):(t=b0.exec(e))?new St(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y0.exec(e))?Wo(t[1],t[2],t[3],t[4]):(t=w0.exec(e))?Wo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x0.exec(e))?ma(t[1],t[2]/100,t[3]/100,1):(t=C0.exec(e))?ma(t[1],t[2]/100,t[3]/100,t[4]):da.hasOwnProperty(e)?va(da[e]):e==="transparent"?new St(NaN,NaN,NaN,0):null}function va(e){return new St(e>>16&255,e>>8&255,e&255,1)}function Wo(e,t,n,o){return o<=0&&(e=t=n=NaN),new St(e,t,n,o)}function k0(e){return e instanceof Oo||(e=On(e)),e?(e=e.rgb(),new St(e.r,e.g,e.b,e.opacity)):new St}function Bi(e,t,n,o){return arguments.length===1?k0(e):new St(e,t,n,o==null?1:o)}function St(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}ml(St,Bi,lc(Oo,{brighter(e){return e=e==null?dr:Math.pow(dr,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?So:Math.pow(So,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new St(Tn(this.r),Tn(this.g),Tn(this.b),fr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ga,formatHex:ga,formatHex8:E0,formatRgb:pa,toString:pa}));function ga(){return"#".concat(Pn(this.r)).concat(Pn(this.g)).concat(Pn(this.b))}function E0(){return"#".concat(Pn(this.r)).concat(Pn(this.g)).concat(Pn(this.b)).concat(Pn((isNaN(this.opacity)?1:this.opacity)*255))}function pa(){const e=fr(this.opacity);return"".concat(e===1?"rgb(":"rgba(").concat(Tn(this.r),", ").concat(Tn(this.g),", ").concat(Tn(this.b)).concat(e===1?")":", ".concat(e,")"))}function fr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pn(e){return e=Tn(e),(e<16?"0":"")+e.toString(16)}function ma(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ot(e,t,n,o)}function ac(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Oo||(e=On(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),l=NaN,a=i-r,s=(i+r)/2;return a?(t===i?l=(n-o)/a+(n<o)*6:n===i?l=(o-t)/a+2:l=(t-n)/a+4,a/=s<.5?i+r:2-i-r,l*=60):a=s>0&&s<1?0:l,new Ot(l,a,s,e.opacity)}function $0(e,t,n,o){return arguments.length===1?ac(e):new Ot(e,t,n,o==null?1:o)}function Ot(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}ml(Ot,$0,lc(Oo,{brighter(e){return e=e==null?dr:Math.pow(dr,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?So:Math.pow(So,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new St(si(e>=240?e-240:e+120,r,o),si(e,r,o),si(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ot(ba(this.h),Uo(this.s),Uo(this.l),fr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fr(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(ba(this.h),", ").concat(Uo(this.s)*100,"%, ").concat(Uo(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function ba(e){return e=(e||0)%360,e<0?e+360:e}function Uo(e){return Math.max(0,Math.min(1,e||0))}function si(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bl=e=>()=>e;function M0(e,t){return function(n){return e+n*t}}function N0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function P0(e){return(e=+e)==1?sc:function(t,n){return n-t?N0(t,n,e):bl(isNaN(t)?n:t)}}function sc(e,t){var n=t-e;return n?M0(e,n):bl(isNaN(e)?t:e)}const hr=function e(t){var n=P0(t);function o(r,i){var l=n((r=Bi(r)).r,(i=Bi(i)).r),a=n(r.g,i.g),s=n(r.b,i.b),c=sc(r.opacity,i.opacity);return function(u){return r.r=l(u),r.g=a(u),r.b=s(u),r.opacity=c(u),r+""}}return o.gamma=e,o}(1);function T0(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(i){for(r=0;r<n;++r)o[r]=e[r]*(1-i)+t[r]*i;return o}}function z0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I0(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),i=new Array(n),l;for(l=0;l<o;++l)r[l]=bo(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(a){for(l=0;l<o;++l)i[l]=r[l](a);return i}}function A0(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function O0(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=bo(e[r],t[r]):o[r]=t[r];return function(i){for(r in n)o[r]=n[r](i);return o}}var Fi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ci=new RegExp(Fi.source,"g");function D0(e){return function(){return e}}function R0(e){return function(t){return e(t)+""}}function cc(e,t){var n=Fi.lastIndex=ci.lastIndex=0,o,r,i,l=-1,a=[],s=[];for(e=e+"",t=t+"";(o=Fi.exec(e))&&(r=ci.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),a[l]?a[l]+=i:a[++l]=i),(o=o[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,s.push({i:l,x:Gt(o,r)})),n=ci.lastIndex;return n<t.length&&(i=t.slice(n),a[l]?a[l]+=i:a[++l]=i),a.length<2?s[0]?R0(s[0].x):D0(t):(t=s.length,function(c){for(var u=0,d;u<t;++u)a[(d=s[u]).i]=d.x(c);return a.join("")})}function bo(e,t){var n=typeof t,o;return t==null||n==="boolean"?bl(t):(n==="number"?Gt:n==="string"?(o=On(t))?(t=o,hr):cc:t instanceof On?hr:t instanceof Date?A0:z0(t)?T0:Array.isArray(t)?I0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?O0:Gt)(e,t)}var ya=180/Math.PI,Li={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uc(e,t,n,o,r,i){var l,a,s;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,s/=a),e*o<t*n&&(e=-e,t=-t,s=-s,l=-l),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*ya,skewX:Math.atan(s)*ya,scaleX:l,scaleY:a}}var Go;function B0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Li:uc(t.a,t.b,t.c,t.d,t.e,t.f)}function F0(e){return e==null||(Go||(Go=document.createElementNS("http://www.w3.org/2000/svg","g")),Go.setAttribute("transform",e),!(e=Go.transform.baseVal.consolidate()))?Li:(e=e.matrix,uc(e.a,e.b,e.c,e.d,e.e,e.f))}function dc(e,t,n,o){function r(c){return c.length?c.pop()+" ":""}function i(c,u,d,f,h,v){if(c!==d||u!==f){var p=h.push("translate(",null,t,null,n);v.push({i:p-4,x:Gt(c,d)},{i:p-2,x:Gt(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function l(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(r(d)+"rotate(",null,o)-2,x:Gt(c,u)})):u&&d.push(r(d)+"rotate("+u+o)}function a(c,u,d,f){c!==u?f.push({i:d.push(r(d)+"skewX(",null,o)-2,x:Gt(c,u)}):u&&d.push(r(d)+"skewX("+u+o)}function s(c,u,d,f,h,v){if(c!==d||u!==f){var p=h.push(r(h)+"scale(",null,",",null,")");v.push({i:p-4,x:Gt(c,d)},{i:p-2,x:Gt(u,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,f),l(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),s(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var v=-1,p=f.length,y;++v<p;)d[(y=f[v]).i]=y.x(h);return d.join("")}}}var L0=dc(B0,"px, ","px)","deg)"),V0=dc(F0,", ",")",")"),H0=1e-12;function wa(e){return((e=Math.exp(e))+1/e)/2}function K0(e){return((e=Math.exp(e))-1/e)/2}function W0(e){return((e=Math.exp(2*e))-1)/(e+1)}const tr=function e(t,n,o){function r(i,l){var a=i[0],s=i[1],c=i[2],u=l[0],d=l[1],f=l[2],h=u-a,v=d-s,p=h*h+v*v,y,g;if(p<H0)g=Math.log(f/c)/t,y=function(P){return[a+P*h,s+P*v,c*Math.exp(t*P*g)]};else{var w=Math.sqrt(p),m=(f*f-c*c+o*p)/(2*c*n*w),b=(f*f-c*c-o*p)/(2*f*n*w),M=Math.log(Math.sqrt(m*m+1)-m),A=Math.log(Math.sqrt(b*b+1)-b);g=(A-M)/t,y=function(P){var T=P*g,U=wa(M),R=c/(n*w)*(U*W0(t*T+M)-K0(M));return[a+R*h,s+R*v,c*U/wa(t*T+M)]}}return y.duration=g*1e3*t/Math.SQRT2,y}return r.rho=function(i){var l=Math.max(.001,+i),a=l*l,s=a*a;return e(l,a,s)},r}(Math.SQRT2,2,4);var Zn=0,fo=0,co=0,fc=1e3,vr,ho,gr=0,Dn=0,Tr=0,Eo=typeof performance=="object"&&performance.now?performance:Date,hc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yl(){return Dn||(hc(U0),Dn=Eo.now()+Tr)}function U0(){Dn=0}function pr(){this._call=this._time=this._next=null}pr.prototype=vc.prototype={constructor:pr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yl():+n)+(t==null?0:+t),!this._next&&ho!==this&&(ho?ho._next=this:vr=this,ho=this),this._call=e,this._time=n,Vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vi())}};function vc(e,t,n){var o=new pr;return o.restart(e,t,n),o}function G0(){yl(),++Zn;for(var e=vr,t;e;)(t=Dn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zn}function xa(){Dn=(gr=Eo.now())+Tr,Zn=fo=0;try{G0()}finally{Zn=0,j0(),Dn=0}}function Y0(){var e=Eo.now(),t=e-gr;t>fc&&(Tr-=t,gr=e)}function j0(){for(var e,t=vr,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:vr=n);ho=e,Vi(o)}function Vi(e){if(!Zn){fo&&(fo=clearTimeout(fo));var t=e-Dn;t>24?(e<1/0&&(fo=setTimeout(xa,e-Eo.now()-Tr)),co&&(co=clearInterval(co))):(co||(gr=Eo.now(),co=setInterval(Y0,fc)),Zn=1,hc(xa))}}function Ca(e,t,n){var o=new pr;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var X0=Nr("start","end","cancel","interrupt"),Z0=[],gc=0,_a=1,Hi=2,nr=3,Sa=4,Ki=5,or=6;function zr(e,t,n,o,r,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;q0(e,n,{name:t,index:o,group:r,on:X0,tween:Z0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:gc})}function wl(e,t){var n=Lt(e,t);if(n.state>gc)throw new Error("too late; already scheduled");return n}function Jt(e,t){var n=Lt(e,t);if(n.state>nr)throw new Error("too late; already running");return n}function Lt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function q0(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=vc(i,0,n.time);function i(c){n.state=_a,n.timer.restart(l,n.delay,n.time),n.delay<=c&&l(c-n.delay)}function l(c){var u,d,f,h;if(n.state!==_a)return s();for(u in o)if(h=o[u],h.name===n.name){if(h.state===nr)return Ca(l);h.state===Sa?(h.state=or,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[u]):+u<t&&(h.state=or,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[u])}if(Ca(function(){n.state===nr&&(n.state=Sa,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Hi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Hi){for(n.state=nr,r=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=Ki,1),d=-1,f=r.length;++d<f;)r[d].call(e,u);n.state===Ki&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=or,n.timer.stop(),delete o[t];for(var c in o)return;delete e.__transition}}function rr(e,t){var n=e.__transition,o,r,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((o=n[l]).name!==t){i=!1;continue}r=o.state>Hi&&o.state<Ki,o.state=or,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[l]}i&&delete e.__transition}}function J0(e){return this.each(function(){rr(this,e)})}function Q0(e,t){var n,o;return function(){var r=Jt(this,e),i=r.tween;if(i!==n){o=n=i;for(var l=0,a=o.length;l<a;++l)if(o[l].name===t){o=o.slice(),o.splice(l,1);break}}r.tween=o}}function eb(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Jt(this,e),l=i.tween;if(l!==o){r=(o=l).slice();for(var a={name:t,value:n},s=0,c=r.length;s<c;++s)if(r[s].name===t){r[s]=a;break}s===c&&r.push(a)}i.tween=r}}function tb(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Lt(this.node(),n).tween,r=0,i=o.length,l;r<i;++r)if((l=o[r]).name===e)return l.value;return null}return this.each((t==null?Q0:eb)(n,e,t))}function xl(e,t,n){var o=e._id;return e.each(function(){var r=Jt(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Lt(r,o).value[t]}}function pc(e,t){var n;return(typeof t=="number"?Gt:t instanceof On?hr:(n=On(t))?(t=n,hr):cc)(e,t)}function nb(e){return function(){this.removeAttribute(e)}}function ob(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rb(e,t,n){var o,r=n+"",i;return function(){var l=this.getAttribute(e);return l===r?null:l===o?i:i=t(o=l,n)}}function ib(e,t,n){var o,r=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===o?i:i=t(o=l,n)}}function lb(e,t,n){var o,r,i;return function(){var l,a=n(this),s;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),s=a+"",l===s?null:l===o&&s===r?i:(r=s,i=t(o=l,a)))}}function ab(e,t,n){var o,r,i;return function(){var l,a=n(this),s;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),s=a+"",l===s?null:l===o&&s===r?i:(r=s,i=t(o=l,a)))}}function sb(e,t){var n=Pr(e),o=n==="transform"?V0:pc;return this.attrTween(e,typeof t=="function"?(n.local?ab:lb)(n,o,xl(this,"attr."+e,t)):t==null?(n.local?ob:nb)(n):(n.local?ib:rb)(n,o,t))}function cb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ub(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function db(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&ub(e,i)),n}return r._value=t,r}function fb(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&cb(e,i)),n}return r._value=t,r}function hb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Pr(e);return this.tween(n,(o.local?db:fb)(o,t))}function vb(e,t){return function(){wl(this,e).delay=+t.apply(this,arguments)}}function gb(e,t){return t=+t,function(){wl(this,e).delay=t}}function pb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vb:gb)(t,e)):Lt(this.node(),t).delay}function mb(e,t){return function(){Jt(this,e).duration=+t.apply(this,arguments)}}function bb(e,t){return t=+t,function(){Jt(this,e).duration=t}}function yb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mb:bb)(t,e)):Lt(this.node(),t).duration}function wb(e,t){if(typeof t!="function")throw new Error;return function(){Jt(this,e).ease=t}}function xb(e){var t=this._id;return arguments.length?this.each(wb(t,e)):Lt(this.node(),t).ease}function Cb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Jt(this,e).ease=n}}function _b(e){if(typeof e!="function")throw new Error;return this.each(Cb(this._id,e))}function Sb(e){typeof e!="function"&&(e=js(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,a=o[r]=[],s,c=0;c<l;++c)(s=i[c])&&e.call(s,s.__data__,c,i)&&a.push(s);return new dn(o,this._parents,this._name,this._id)}function kb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),l=new Array(o),a=0;a<i;++a)for(var s=t[a],c=n[a],u=s.length,d=l[a]=new Array(u),f,h=0;h<u;++h)(f=s[h]||c[h])&&(d[h]=f);for(;a<o;++a)l[a]=t[a];return new dn(l,this._parents,this._name,this._id)}function Eb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $b(e,t,n){var o,r,i=Eb(t)?wl:Jt;return function(){var l=i(this,e),a=l.on;a!==o&&(r=(o=a).copy()).on(t,n),l.on=r}}function Mb(e,t){var n=this._id;return arguments.length<2?Lt(this.node(),n).on.on(e):this.each($b(n,e,t))}function Nb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Pb(){return this.on("end.remove",Nb(this._id))}function Tb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gl(e));for(var o=this._groups,r=o.length,i=new Array(r),l=0;l<r;++l)for(var a=o[l],s=a.length,c=i[l]=new Array(s),u,d,f=0;f<s;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,zr(c[f],t,n,f,c,Lt(u,n)));return new dn(i,this._parents,t,n)}function zb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ys(e));for(var o=this._groups,r=o.length,i=[],l=[],a=0;a<r;++a)for(var s=o[a],c=s.length,u,d=0;d<c;++d)if(u=s[d]){for(var f=e.call(u,u.__data__,d,s),h,v=Lt(u,n),p=0,y=f.length;p<y;++p)(h=f[p])&&zr(h,t,n,p,f,v);i.push(f),l.push(u)}return new dn(i,l,t,n)}var Ib=Ao.prototype.constructor;function Ab(){return new Ib(this._groups,this._parents)}function Ob(e,t){var n,o,r;return function(){var i=Xn(this,e),l=(this.style.removeProperty(e),Xn(this,e));return i===l?null:i===n&&l===o?r:r=t(n=i,o=l)}}function mc(e){return function(){this.style.removeProperty(e)}}function Db(e,t,n){var o,r=n+"",i;return function(){var l=Xn(this,e);return l===r?null:l===o?i:i=t(o=l,n)}}function Rb(e,t,n){var o,r,i;return function(){var l=Xn(this,e),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(e),Xn(this,e))),l===s?null:l===o&&s===r?i:(r=s,i=t(o=l,a))}}function Bb(e,t){var n,o,r,i="style."+t,l="end."+i,a;return function(){var s=Jt(this,e),c=s.on,u=s.value[i]==null?a||(a=mc(t)):void 0;(c!==n||r!==u)&&(o=(n=c).copy()).on(l,r=u),s.on=o}}function Fb(e,t,n){var o=(e+="")=="transform"?L0:pc;return t==null?this.styleTween(e,Ob(e,o)).on("end.style."+e,mc(e)):typeof t=="function"?this.styleTween(e,Rb(e,o,xl(this,"style."+e,t))).each(Bb(this._id,e)):this.styleTween(e,Db(e,o,t),n).on("end.style."+e,null)}function Lb(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Vb(e,t,n){var o,r;function i(){var l=t.apply(this,arguments);return l!==r&&(o=(r=l)&&Lb(e,l,n)),o}return i._value=t,i}function Hb(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Vb(e,t,n==null?"":n))}function Kb(e){return function(){this.textContent=e}}function Wb(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Ub(e){return this.tween("text",typeof e=="function"?Wb(xl(this,"text",e)):Kb(e==null?"":e+""))}function Gb(e){return function(t){this.textContent=e.call(this,t)}}function Yb(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Gb(r)),t}return o._value=e,o}function jb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Yb(e))}function Xb(){for(var e=this._name,t=this._id,n=bc(),o=this._groups,r=o.length,i=0;i<r;++i)for(var l=o[i],a=l.length,s,c=0;c<a;++c)if(s=l[c]){var u=Lt(s,t);zr(s,e,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new dn(o,this._parents,e,n)}function Zb(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,l){var a={value:l},s={value:function(){--r===0&&i()}};n.each(function(){var c=Jt(this,o),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(s)),c.on=t}),r===0&&i()})}var qb=0;function dn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function bc(){return++qb}var on=Ao.prototype;dn.prototype={constructor:dn,select:Tb,selectAll:zb,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:Sb,merge:kb,selection:Ab,transition:Xb,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:Mb,attr:sb,attrTween:hb,style:Fb,styleTween:Hb,text:Ub,textTween:jb,remove:Pb,tween:tb,delay:pb,duration:yb,ease:xb,easeVarying:_b,end:Zb,[Symbol.iterator]:on[Symbol.iterator]};function Jb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Qb={time:null,delay:0,duration:250,ease:Jb};function ey(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}function ty(e){var t,n;e instanceof dn?(t=e._id,e=e._name):(t=bc(),(n=Qb).time=yl(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var l=o[i],a=l.length,s,c=0;c<a;++c)(s=l[c])&&zr(s,e,t,c,l,n||ey(s,t));return new dn(o,this._parents,e,t)}Ao.prototype.interrupt=J0;Ao.prototype.transition=ty;const Yo=e=>()=>e;function ny(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function sn(e,t,n){this.k=e,this.x=t,this.y=n}sn.prototype={constructor:sn,scale:function(e){return e===1?this:new sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qn=new sn(1,0,0);sn.prototype;function ui(e){e.stopImmediatePropagation()}function uo(e){e.preventDefault(),e.stopImmediatePropagation()}function oy(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ry(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ka(){return this.__zoom||qn}function iy(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ly(){return navigator.maxTouchPoints||"ontouchstart"in this}function ay(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function sy(){var e=oy,t=ry,n=ay,o=iy,r=ly,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],a=250,s=tr,c=Nr("start","zoom","end"),u,d,f,h=500,v=150,p=0,y=10;function g(C){C.property("__zoom",ka).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",R).filter(r).on("touchstart.zoom",K).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(C,E,_,F){var L=C.selection?C.selection():C;L.property("__zoom",ka),C!==L?M(C,E,_,F):L.interrupt().each(function(){A(this,arguments).event(F).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},g.scaleBy=function(C,E,_,F){g.scaleTo(C,function(){var L=this.__zoom.k,Q=typeof E=="function"?E.apply(this,arguments):E;return L*Q},_,F)},g.scaleTo=function(C,E,_,F){g.transform(C,function(){var L=t.apply(this,arguments),Q=this.__zoom,j=_==null?b(L):typeof _=="function"?_.apply(this,arguments):_,re=Q.invert(j),V=typeof E=="function"?E.apply(this,arguments):E;return n(m(w(Q,V),j,re),L,l)},_,F)},g.translateBy=function(C,E,_,F){g.transform(C,function(){return n(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof _=="function"?_.apply(this,arguments):_),t.apply(this,arguments),l)},null,F)},g.translateTo=function(C,E,_,F,L){g.transform(C,function(){var Q=t.apply(this,arguments),j=this.__zoom,re=F==null?b(Q):typeof F=="function"?F.apply(this,arguments):F;return n(qn.translate(re[0],re[1]).scale(j.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof _=="function"?-_.apply(this,arguments):-_),Q,l)},F,L)};function w(C,E){return E=Math.max(i[0],Math.min(i[1],E)),E===C.k?C:new sn(E,C.x,C.y)}function m(C,E,_){var F=E[0]-_[0]*C.k,L=E[1]-_[1]*C.k;return F===C.x&&L===C.y?C:new sn(C.k,F,L)}function b(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function M(C,E,_,F){C.on("start.zoom",function(){A(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(F).end()}).tween("zoom",function(){var L=this,Q=arguments,j=A(L,Q).event(F),re=t.apply(L,Q),V=_==null?b(re):typeof _=="function"?_.apply(L,Q):_,O=Math.max(re[1][0]-re[0][0],re[1][1]-re[0][1]),H=L.__zoom,ee=typeof E=="function"?E.apply(L,Q):E,ae=s(H.invert(V).concat(O/H.k),ee.invert(V).concat(O/ee.k));return function(fe){if(fe===1)fe=ee;else{var xe=ae(fe),be=O/xe[2];fe=new sn(be,V[0]-xe[0]*be,V[1]-xe[1]*be)}j.zoom(null,fe)}})}function A(C,E,_){return!_&&C.__zooming||new P(C,E)}function P(C,E){this.that=C,this.args=E,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,E),this.taps=0}P.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,E){return this.mouse&&C!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var E=At(this.that).datum();c.call(C,this.that,new ny(C,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),E)}};function T(C,...E){if(!e.apply(this,arguments))return;var _=A(this,E).event(C),F=this.__zoom,L=Math.max(i[0],Math.min(i[1],F.k*Math.pow(2,o.apply(this,arguments)))),Q=Ut(C);if(_.wheel)(_.mouse[0][0]!==Q[0]||_.mouse[0][1]!==Q[1])&&(_.mouse[1]=F.invert(_.mouse[0]=Q)),clearTimeout(_.wheel);else{if(F.k===L)return;_.mouse=[Q,F.invert(Q)],rr(this),_.start()}uo(C),_.wheel=setTimeout(j,v),_.zoom("mouse",n(m(w(F,L),_.mouse[0],_.mouse[1]),_.extent,l));function j(){_.wheel=null,_.end()}}function U(C,...E){if(f||!e.apply(this,arguments))return;var _=C.currentTarget,F=A(this,E,!0).event(C),L=At(C.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",O,!0),Q=Ut(C,_),j=C.clientX,re=C.clientY;rc(C.view),ui(C),F.mouse=[Q,this.__zoom.invert(Q)],rr(this),F.start();function V(H){if(uo(H),!F.moved){var ee=H.clientX-j,ae=H.clientY-re;F.moved=ee*ee+ae*ae>p}F.event(H).zoom("mouse",n(m(F.that.__zoom,F.mouse[0]=Ut(H,_),F.mouse[1]),F.extent,l))}function O(H){L.on("mousemove.zoom mouseup.zoom",null),ic(H.view,F.moved),uo(H),F.event(H).end()}}function R(C,...E){if(e.apply(this,arguments)){var _=this.__zoom,F=Ut(C.changedTouches?C.changedTouches[0]:C,this),L=_.invert(F),Q=_.k*(C.shiftKey?.5:2),j=n(m(w(_,Q),F,L),t.apply(this,E),l);uo(C),a>0?At(this).transition().duration(a).call(M,j,F,C):At(this).call(g.transform,j,F,C)}}function K(C,...E){if(e.apply(this,arguments)){var _=C.touches,F=_.length,L=A(this,E,C.changedTouches.length===F).event(C),Q,j,re,V;for(ui(C),j=0;j<F;++j)re=_[j],V=Ut(re,this),V=[V,this.__zoom.invert(V),re.identifier],L.touch0?!L.touch1&&L.touch0[2]!==V[2]&&(L.touch1=V,L.taps=0):(L.touch0=V,Q=!0,L.taps=1+!!u);u&&(u=clearTimeout(u)),Q&&(L.taps<2&&(d=V[0],u=setTimeout(function(){u=null},h)),rr(this),L.start())}}function N(C,...E){if(this.__zooming){var _=A(this,E).event(C),F=C.changedTouches,L=F.length,Q,j,re,V;for(uo(C),Q=0;Q<L;++Q)j=F[Q],re=Ut(j,this),_.touch0&&_.touch0[2]===j.identifier?_.touch0[0]=re:_.touch1&&_.touch1[2]===j.identifier&&(_.touch1[0]=re);if(j=_.that.__zoom,_.touch1){var O=_.touch0[0],H=_.touch0[1],ee=_.touch1[0],ae=_.touch1[1],fe=(fe=ee[0]-O[0])*fe+(fe=ee[1]-O[1])*fe,xe=(xe=ae[0]-H[0])*xe+(xe=ae[1]-H[1])*xe;j=w(j,Math.sqrt(fe/xe)),re=[(O[0]+ee[0])/2,(O[1]+ee[1])/2],V=[(H[0]+ae[0])/2,(H[1]+ae[1])/2]}else if(_.touch0)re=_.touch0[0],V=_.touch0[1];else return;_.zoom("touch",n(m(j,re,V),_.extent,l))}}function D(C,...E){if(this.__zooming){var _=A(this,E).event(C),F=C.changedTouches,L=F.length,Q,j;for(ui(C),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),Q=0;Q<L;++Q)j=F[Q],_.touch0&&_.touch0[2]===j.identifier?delete _.touch0:_.touch1&&_.touch1[2]===j.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(j=Ut(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<y)){var re=At(this).on("dblclick.zoom");re&&re.apply(this,arguments)}}}return g.wheelDelta=function(C){return arguments.length?(o=typeof C=="function"?C:Yo(+C),g):o},g.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Yo(!!C),g):e},g.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Yo(!!C),g):r},g.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Yo([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),g):t},g.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],g):[i[0],i[1]]},g.translateExtent=function(C){return arguments.length?(l[0][0]=+C[0][0],l[1][0]=+C[1][0],l[0][1]=+C[0][1],l[1][1]=+C[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(C){return arguments.length?(n=C,g):n},g.duration=function(C){return arguments.length?(a=+C,g):a},g.interpolate=function(C){return arguments.length?(s=C,g):s},g.on=function(){var C=c.on.apply(c,arguments);return C===c?g:C},g.clickDistance=function(C){return arguments.length?(p=(C=+C)*C,g):Math.sqrt(p)},g.tapDistance=function(C){return arguments.length?(y=+C,g):y},g}var Me=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Me||{}),Cl=(e=>(e.Partial="partial",e.Full="full",e))(Cl||{}),Mn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Mn||{}),kn=(e=>(e.Strict="strict",e.Loose="loose",e))(kn||{}),Wi=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Wi||{}),yo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(yo||{}),yc=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(yc||{});const cy=["INPUT","SELECT","TEXTAREA"],uy=typeof document<"u"?document:null;function Ui(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,i=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return cy.includes(o==null?void 0:o.nodeName)||r||!!i}function dy(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Ea(e,t,n,o){const r=t.replace("+","\n").replace("\n\n","\n+").split("\n").map(l=>l.trim().toLowerCase());if(r.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const i=r.every((l,a)=>n.has(l)&&Array.from(n.values())[a]===r[a]);return o&&n.delete(e.toLowerCase()),i}function fy(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=hy(n.code,e);return Array.isArray(e)?e.some(r=>Ea(n[o],r,t,n.type==="keyup")):Ea(n[o],e,t,n.type==="keyup")}}function hy(e,t){return t.includes(e)?"code":"key"}function wo(e,t){const n=J(()=>{var c;return(c=Ve(t==null?void 0:t.target))!=null?c:uy}),o=Co(Ve(e)===!0);let r=!1;const i=new Set;let l=s(Ve(e));Ae(()=>Ve(e),(c,u)=>{typeof u=="boolean"&&typeof c!="boolean"&&a(),l=s(c)},{immediate:!0}),Us(["blur","contextmenu"],a),sa((...c)=>l(...c),c=>{var g,w;var u,d;const f=(g=Ve(t==null?void 0:t.actInsideInputWithModifier))!=null?g:!0,h=(w=Ve(t==null?void 0:t.preventDefault))!=null?w:!1;if(r=dy(c),(!r||r&&!f)&&Ui(c))return;const p=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target,y=(p==null?void 0:p.nodeName)==="BUTTON"||(p==null?void 0:p.nodeName)==="A";!h&&(r||!y)&&c.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),sa((...c)=>l(...c),c=>{var d;const u=(d=Ve(t==null?void 0:t.actInsideInputWithModifier))!=null?d:!0;if(o.value){if((!r||r&&!u)&&Ui(c))return;r=!1,o.value=!1}},{eventName:"keyup",target:n});function a(){r=!1,i.clear(),o.value=Ve(e)===!0}function s(c){return c===null?(a(),()=>!1):typeof c=="boolean"?(a(),o.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?fy(c,i):c}return o}const wc="vue-flow__node-desc",xc="vue-flow__edge-desc",vy="vue-flow__aria-live",Cc=["Enter"," ","Escape"],jn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function mr(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function br(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Ir(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Rn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function _c(e,t){return{x:Rn(e.x,t[0][0],t[1][0]),y:Rn(e.y,t[0][1],t[1][1])}}function $a(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function En(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function zn(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!En(e)}function vo(e){return zn(e)&&"computedPosition"in e}function jo(e){return!Number.isNaN(e)&&Number.isFinite(e)}function gy(e){return jo(e.width)&&jo(e.height)&&jo(e.x)&&jo(e.y)}function py(e,t,n){var r;const o={id:e.id.toString(),type:(r=e.type)!=null?r:"default",dimensions:po({width:0,height:0}),computedPosition:po({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:lt(e.data)?e.data:{},events:po(lt(e.events)?e.events:{})};return Object.assign(t!=null?t:o,e,{id:e.id.toString(),parentNode:n})}function Sc(e,t,n){var l,a,s,c,u,d,f;var o,r;const i={id:e.id.toString(),type:(a=(l=e.type)!=null?l:t==null?void 0:t.type)!=null?a:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:(s=e.updatable)!=null?s:n==null?void 0:n.updatable,selectable:(c=e.selectable)!=null?c:n==null?void 0:n.selectable,focusable:(u=e.focusable)!=null?u:n==null?void 0:n.focusable,data:lt(e.data)?e.data:{},events:po(lt(e.events)?e.events:{}),label:(d=e.label)!=null?d:"",interactionWidth:(f=e.interactionWidth)!=null?f:n==null?void 0:n.interactionWidth,...n!=null?n:{}};return Object.assign(t!=null?t:i,e,{id:e.id.toString()})}function kc(e,t,n,o){const r=typeof e=="string"?e:e.id,i=new Set,l=o==="source"?"target":"source";for(const a of n)a[l]===r&&i.add(a[o]);return t.filter(a=>i.has(a.id))}function my(...e){if(e.length===3){const[i,l,a]=e;return kc(i,l,a,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>En(i)&&i.source===o).map(i=>n.find(l=>zn(l)&&l.id===i.target))}function by(...e){if(e.length===3){const[i,l,a]=e;return kc(i,l,a,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>En(i)&&i.target===o).map(i=>n.find(l=>zn(l)&&l.id===i.source))}function Ec({source:e,sourceHandle:t,target:n,targetHandle:o}){return"vueflow__edge-".concat(e).concat(t!=null?t:"","-").concat(n).concat(o!=null?o:"")}function yy(e,t){return t.some(n=>En(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Gi({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function $o({x:e,y:t},{x:n,y:o,zoom:r},i=!1,l=[1,1]){const a={x:(e-n)/r,y:(t-o)/r};return i?Ar(a,l):a}function wy(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function $c({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function xy({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Mc(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=wy(t,$c({...o.computedPosition,...o.dimensions}))}return xy(t)}function Nc(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){var a,s,c,u;const i={...$o(t,n),width:t.width/n.zoom,height:t.height/n.zoom},l=[];for(const d of e){const{dimensions:f,selectable:h=!0,hidden:v=!1}=d,p=(s=(a=f.width)!=null?a:d.width)!=null?s:null,y=(u=(c=f.height)!=null?c:d.height)!=null?u:null;if(r&&!h||v)continue;const g=br(i,mr(d)),w=p===null||y===null,m=o&&g>0,b=(p!=null?p:0)*(y!=null?y:0);(w||m||g>=b||d.dragging)&&l.push(d)}return l}function Pc(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Ma(e,t,n,o,r,i=.1,l={x:0,y:0}){var p,y;const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),c=Math.min(a,s),u=Rn(c,o,r),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u+((p=l.x)!=null?p:0),v=n/2-f*u+((y=l.y)!=null?y:0);return{x:h,y:v,zoom:u}}function Cy(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Tc(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Tc(n,t):!1}function Mo(e,t){if(typeof e>"u")return"";if(typeof e=="string")return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(o=>"".concat(o,"=").concat(e[o])).join("&"))}function Na(e,t,n){return e<t?Rn(Math.abs(e-t),1,t)/t:e>n?-Rn(Math.abs(e-n),1,t)/t:0}function zc(e,t,n=15,o=40){const r=Na(e.x,o,t.width-o)*n,i=Na(e.y,o,t.height-o)*n;return[r,i]}function di(e,t){var n,o;if(t){const r=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(r>0||i>0||e.position.x<0||e.position.y<0){let l={};if(typeof t.style=="function"?l={...t.style(t)}:t.style&&(l={...t.style}),l.width=(n=l.width)!=null?n:"".concat(t.dimensions.width,"px"),l.height=(o=l.height)!=null?o:"".concat(t.dimensions.height,"px"),r>0)if(typeof l.width=="string"){const a=Number(l.width.replace("px",""));l.width="".concat(a+r,"px")}else l.width+=r;if(i>0)if(typeof l.height=="string"){const a=Number(l.height.replace("px",""));l.height="".concat(a+i,"px")}else l.height+=i;if(e.position.x<0){const a=Math.abs(e.position.x);if(t.position.x=t.position.x-a,typeof l.width=="string"){const s=Number(l.width.replace("px",""));l.width="".concat(s+a,"px")}else l.width+=a;e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);if(t.position.y=t.position.y-a,typeof l.height=="string"){const s=Number(l.height.replace("px",""));l.height="".concat(s+a,"px")}else l.height+=a;e.position.y=0}t.dimensions.width=Number(l.width.toString().replace("px","")),t.dimensions.height=Number(l.height.toString().replace("px","")),typeof t.style=="function"?t.style=a=>{const s=t.style;return{...s(a),...l}}:t.style={...t.style,...l}}}}function Pa(e,t){var n,o;const r=e.filter(l=>l.type==="add"||l.type==="remove");for(const l of r)if(l.type==="add")t.findIndex(s=>s.id===l.item.id)===-1&&t.push(l.item);else if(l.type==="remove"){const a=t.findIndex(s=>s.id===l.id);a!==-1&&t.splice(a,1)}const i=t.map(l=>l.id);for(const l of t)for(const a of e)if(a.id===l.id)switch(a.type){case"select":l.selected=a.selected;break;case"position":if(vo(l)&&(typeof a.position<"u"&&(l.position=a.position),typeof a.dragging<"u"&&(l.dragging=a.dragging),l.expandParent&&l.parentNode)){const s=t[i.indexOf(l.parentNode)];s&&vo(s)&&di(l,s)}break;case"dimensions":if(vo(l)&&(typeof a.dimensions<"u"&&(l.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(l.style={...l.style||{},width:"".concat((n=a.dimensions)==null?void 0:n.width,"px"),height:"".concat((o=a.dimensions)==null?void 0:o.height,"px")}),typeof a.resizing<"u"&&(l.resizing=a.resizing),l.expandParent&&l.parentNode)){const s=t[i.indexOf(l.parentNode)];s&&vo(s)&&(!!s.dimensions.width&&!!s.dimensions.height?di(l,s):et(()=>{di(l,s)}))}break}return t}function bn(e,t){return{id:e,type:"select",selected:t}}function Ta(e){return{item:e,type:"add"}}function za(e){return{id:e,type:"remove"}}function Ia(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function wn(e,t=new Set,n=!1){const o=[];for(const[r,i]of e){const l=t.has(r);!(i.selected===void 0&&!l)&&i.selected!==l&&(n&&(i.selected=l),o.push(bn(i.id,l)))}return o}function ye(e){const t=new Set;let n=!1;const o=()=>t.size>0;e&&(n=!0,t.add(e));const r=a=>{t.delete(a)};return{on:a=>{e&&n&&t.delete(e),t.add(a);const s=()=>{r(a),e&&n&&t.add(e)};return Mr(s),{off:s}},off:r,trigger:a=>Promise.all(Array.from(t).map(s=>s(a))),hasListeners:o,fns:t}}function Aa(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function _y(e,t,n,o,r){var i,l;const a=[];for(const s of e)(s.selected||s.id===r)&&(!s.parentNode||!Tc(s,o))&&(s.draggable||t&&typeof s.draggable>"u")&&a.push(po({id:s.id,position:s.position||{x:0,y:0},distance:{x:n.x-((i=s.computedPosition)==null?void 0:i.x)||0,y:n.y-((l=s.computedPosition)==null?void 0:l.y)||0},from:s.computedPosition,extent:s.extent,parentNode:s.parentNode,dimensions:s.dimensions,expandParent:s.expandParent}));return a}function fi({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const i=n(r.id);i&&o.push(i)}return[e?o.find(r=>r.id===e):o[0],o]}function Ic(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Sy(e,t,n){const[o,r,i,l]=typeof e!="string"?Ic(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+l,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-i]]:!1}function ky(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const i=Sy(r,e,o);i&&(r=i)}else t(new dt(at.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const i=(o==null?void 0:o.computedPosition.x)||0,l=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+i,r[0][1]+l],[r[1][0]+i,r[1][1]+l]]}else if(r!=="parent"&&(r!=null&&r.range)&&Array.isArray(r.range)){const[i,l,a,s]=Ic(r.padding),c=(o==null?void 0:o.computedPosition.x)||0,u=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+c+s,r.range[0][1]+u+i],[r.range[1][0]+c-l,r.range[1][1]+u-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function Ey({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function _l(e,t,n,o,r){const i=Ey(e.dimensions,ky(e,n,o,r)),l=_c(t,i);return{position:{x:l.x-((r==null?void 0:r.computedPosition.x)||0),y:l.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:l}}function Jn(e,t,n=Me.Left,o=!1){var c,u,d;const r=((c=t==null?void 0:t.x)!=null?c:0)+e.computedPosition.x,i=((u=t==null?void 0:t.y)!=null?u:0)+e.computedPosition.y,{width:l,height:a}=t!=null?t:Py(e);if(o)return{x:r+l/2,y:i+a/2};switch((d=t==null?void 0:t.position)!=null?d:n){case Me.Top:return{x:r+l/2,y:i};case Me.Right:return{x:r+l,y:i+a/2};case Me.Bottom:return{x:r+l/2,y:i+a};case Me.Left:return{x:r,y:i+a/2}}}function Oa(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function $y({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:l,height:a,viewport:s}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=$c({x:(0-s.x)/s.zoom,y:(0-s.y)/s.zoom,width:l/s.zoom,height:a/s.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function My(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const i=t(e.source),l=t(e.target);return!i||!l?0:(n&&(r=o?e.zIndex:Math.max(i.computedPosition.z||0,l.computedPosition.z||0)),r)}var at=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(at||{});const Da={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>"Node is invalid\nNode: ".concat(e),NODE_NOT_FOUND:e=>"Node not found\nNode: ".concat(e),NODE_MISSING_PARENT:(e,t)=>"Node is missing a parent\nNode: ".concat(e,"\nParent: ").concat(t),NODE_TYPE_MISSING:e=>"Node type is missing\nType: ".concat(e),NODE_EXTENT_INVALID:e=>"Only child nodes can use a parent extent\nNode: ".concat(e),EDGE_INVALID:e=>"An edge needs a source and a target\nEdge: ".concat(e),EDGE_SOURCE_MISSING:(e,t)=>"Edge source is missing\nEdge: ".concat(e," \nSource: ").concat(t),EDGE_TARGET_MISSING:(e,t)=>"Edge target is missing\nEdge: ".concat(e," \nTarget: ").concat(t),EDGE_TYPE_MISSING:e=>"Edge type is missing\nType: ".concat(e),EDGE_SOURCE_TARGET_SAME:(e,t,n)=>"Edge source and target are the same\nEdge: ".concat(e," \nSource: ").concat(t," \nTarget: ").concat(n),EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>"Edge source or target is missing\nEdge: ".concat(e," \nSource: ").concat(t," \nTarget: ").concat(n),EDGE_ORPHANED:e=>"Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ".concat(e),EDGE_NOT_FOUND:e=>"Edge not found\nEdge: ".concat(e),USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class dt extends Error{constructor(t,...n){var o;super((o=Da[t])==null?void 0:o.call(Da,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Sl(e){return"clientX"in e}function Ny(e){return"sourceEvent"in e}function jt(e,t){var i,l;const n=Sl(e);let o,r;return n?(o=e.clientX,r=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,r=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):(o=0,r=0),{x:o-((i=t==null?void 0:t.left)!=null?i:0),y:r-((l=t==null?void 0:t.top)!=null?l:0)}}const yr=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Py(e){var o,r,i,l;var t,n;return{width:(r=(o=(t=e.dimensions)==null?void 0:t.width)!=null?o:e.width)!=null?r:0,height:(l=(i=(n=e.dimensions)==null?void 0:n.height)!=null?i:e.height)!=null?l:0}}function Ar(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Ty=()=>!0;function hi(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function zy(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())br(r,mr(i))>0&&o.push(i);return o}const Iy=250;function Ay(e,t,n,o){var c,u,d;var r,i;let l=[],a=Number.POSITIVE_INFINITY;const s=zy(e,n,t+Iy);for(const f of s){const h=[...(c=(r=f.handleBounds)==null?void 0:r.source)!=null?c:[],...(u=(i=f.handleBounds)==null?void 0:i.target)!=null?u:[]];for(const v of h){if(o.nodeId===v.nodeId&&o.type===v.type&&o.id===v.id)continue;const{x:p,y}=Jn(f,v,v.position,!0),g=Math.sqrt((p-e.x)**2+(y-e.y)**2);g>t||(g<a?(l=[{...v,x:p,y}],a=g):g===a&&l.push({...v,x:p,y}))}}if(!l.length)return null;if(l.length>1){const f=o.type==="source"?"target":"source";return(d=l.find(h=>h.type===f))!=null?d:l[0]}return l[0]}function Ra(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:i,doc:l,lib:a,flowId:s,isValidConnection:c=Ty},u,d,f){const h=i==="target",v=t?l.querySelector(".".concat(a,'-flow__handle[data-id="').concat(s,"-").concat(t==null?void 0:t.nodeId,"-").concat(t==null?void 0:t.id,"-").concat(t==null?void 0:t.type,'"]')):null,{x:p,y}=jt(e),g=l.elementFromPoint(p,y),w=g!=null&&g.classList.contains("".concat(a,"-flow__handle"))?g:v,m={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const b=Ac(void 0,w),M=w.getAttribute("data-nodeid"),A=w.getAttribute("data-handleid"),P=w.classList.contains("connectable"),T=w.classList.contains("connectableend");if(!M||!b)return m;const U={source:h?M:o,sourceHandle:h?A:r,target:h?o:M,targetHandle:h?r:A};m.connection=U;const K=P&&T&&(n===kn.Strict?h&&b==="source"||!h&&b==="target":M!==o||A!==r);m.isValid=K&&c(U,{nodes:d,edges:u,sourceNode:f(o),targetNode:f(M)}),m.toHandle=t}return m}function Ac(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Oy(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Dy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function Ry(e,t,n,o,r,i=!1){var f,h,v;var l,a,s;const c=o.get(e);if(!c)return null;const u=r===kn.Strict?(l=c.handleBounds)==null?void 0:l[t]:[...(f=(a=c.handleBounds)==null?void 0:a.source)!=null?f:[],...(h=(s=c.handleBounds)==null?void 0:s.target)!=null?h:[]],d=(v=n?u==null?void 0:u.find(p=>p.id===n):u==null?void 0:u[0])!=null?v:null;return d&&i?{...d,...Jn(c,d,d.position,!0)}:d}const Yi={[Me.Left]:Me.Right,[Me.Right]:Me.Left,[Me.Top]:Me.Bottom,[Me.Bottom]:Me.Top},By=["production","prod"];function Or(e,...t){Oc()&&console.warn("[Vue Flow]: ".concat(e),...t)}function Oc(){return!By.includes("production")}function Ba(e,t,n,o,r){const i=t.querySelectorAll(".vue-flow__handle.".concat(e));return i!=null&&i.length?Array.from(i).map(l=>{const a=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:r,position:l.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...Ir(l)}}):null}function ji(e,t,n,o,r,i=!1,l){r.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),et(()=>{l.blur()})):n([e])}function lt(e){return typeof pe(e)<"u"}function Fy(e,t,n,o){var i;if(!e||!e.source||!e.target)return n(new dt(at.EDGE_INVALID,(i=e==null?void 0:e.id)!=null?i:"[ID UNKNOWN]")),!1;let r;return En(e)?r=e:r={...e,id:Ec(e)},r=Sc(r,void 0,o),yy(r,t)?!1:r}function Ly(e,t,n,o,r){if(!t.source||!t.target)return r(new dt(at.EDGE_INVALID,e.id)),!1;if(!n)return r(new dt(at.EDGE_NOT_FOUND,e.id)),!1;const{id:i,...l}=e;return{...l,id:o?Ec(t):i,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Fa(e,t,n){const o={},r=[];for(let i=0;i<e.length;++i){const l=e[i];if(!zn(l)){n(new dt(at.NODE_INVALID,l==null?void 0:l.id)||"[ID UNKNOWN|INDEX ".concat(i,"]"));continue}const a=py(l,t(l.id),l.parentNode);l.parentNode&&(o[l.parentNode]=!0),r[i]=a}for(const i of r){const l=t(i.parentNode)||r.find(a=>a.id===i.parentNode);i.parentNode&&!l&&n(new dt(at.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||o[i.id])&&(o[i.id]&&(i.isParent=!0),l&&(l.isParent=!0))}return r}function La(e,t,n,o,r,i){let l=r;const a=o.get(l)||new Map;o.set(l,a.set(n,t)),l="".concat(r,"-").concat(e);const s=o.get(l)||new Map;if(o.set(l,s.set(n,t)),i){l="".concat(r,"-").concat(e,"-").concat(i);const c=o.get(l)||new Map;o.set(l,c.set(n,t))}}function vi(e,t,n){e.clear();for(const o of n){const{source:r,target:i,sourceHandle:l=null,targetHandle:a=null}=o,s={edgeId:o.id,source:r,target:i,sourceHandle:l,targetHandle:a},c="".concat(r,"-").concat(l,"--").concat(i,"-").concat(a),u="".concat(i,"-").concat(a,"--").concat(r,"-").concat(l);La("source",s,u,e,r,l),La("target",s,c,e,i,a)}}function Va(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function gi(e,t,n,o,r,i,l,a){const s=[];for(const c of e){const u=En(c)?c:Fy(c,a,r,i);if(!u)continue;const d=n(u.source),f=n(u.target);if(!d||!f){r(new dt(at.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!d){r(new dt(at.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!f){r(new dt(at.EDGE_TARGET_MISSING,u.id,u.target));continue}if(t&&!t(u,{edges:a,nodes:l,sourceNode:d,targetNode:f})){r(new dt(at.EDGE_INVALID,u.id));continue}const h=o(u.id);s.push({...Sc(u,h,i),sourceNode:d,targetNode:f})}return s}const Ha=Symbol("vueFlow"),Dc=Symbol("nodeId"),Rc=Symbol("nodeRef"),Vy=Symbol("edgeId"),Hy=Symbol("edgeRef"),Dr=Symbol("slots");function Bc(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodes:i,nodeExtent:l,nodeDragThreshold:a,viewport:s,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:v,nodesSelectionActive:p,selectNodesOnDrag:y,removeSelectedElements:g,addSelectedNodes:w,updateNodePositions:m,emits:b}=qe(),{onStart:M,onDrag:A,onStop:P,onClick:T,el:U,disabled:R,id:K,selectable:N,dragHandle:D}=e,C=Co(!1);let E=[],_,F=null,L={x:void 0,y:void 0},Q={x:0,y:0},j=null,re=!1,V=0,O=!1;const H=Uy(),ee=({x:me,y:Ne})=>{L={x:me,y:Ne};let Ie=!1;if(E=E.map($=>{const S={x:me-$.distance.x,y:Ne-$.distance.y},{computedPosition:k}=_l($,n.value?Ar(S,o.value):S,b.error,l.value,$.parentNode?h($.parentNode):void 0);return Ie=Ie||$.position.x!==k.x||$.position.y!==k.y,$.position=k,$}),!!Ie&&(m(E,!0,!0),C.value=!0,j)){const[$,S]=fi({id:K,dragItems:E,findNode:h});A({event:j,node:$,nodes:S})}},ae=()=>{var Ie,$;if(!F)return;const[me,Ne]=zc(Q,F,u.value);if(me!==0||Ne!==0){const S={x:((Ie=L.x)!=null?Ie:0)-me/s.value.zoom,y:(($=L.y)!=null?$:0)-Ne/s.value.zoom};f({x:me,y:Ne})&&ee(S)}V=requestAnimationFrame(ae)},fe=(me,Ne)=>{re=!0;const Ie=h(K);!y.value&&!v.value&&Ie&&(Ie.selected||g()),Ie&&Ve(N)&&y.value&&ji(Ie,v.value,w,g,p,!1,Ne);const $=H(me.sourceEvent);if(L=$,E=_y(i.value,d.value,$,h,K),E.length){const[S,k]=fi({id:K,dragItems:E,findNode:h});M({event:me.sourceEvent,node:S,nodes:k})}},xe=(me,Ne)=>{var Ie;me.sourceEvent.type==="touchmove"&&me.sourceEvent.touches.length>1||(a.value===0&&fe(me,Ne),L=H(me.sourceEvent),F=((Ie=t.value)==null?void 0:Ie.getBoundingClientRect())||null,Q=jt(me.sourceEvent,F))},be=(me,Ne)=>{var $,S;const Ie=H(me.sourceEvent);if(!O&&re&&c.value&&(O=!0,ae()),!re){const k=Ie.xSnapped-(($=L.x)!=null?$:0),B=Ie.ySnapped-((S=L.y)!=null?S:0);Math.sqrt(k*k+B*B)>a.value&&fe(me,Ne)}(L.x!==Ie.xSnapped||L.y!==Ie.ySnapped)&&E.length&&re&&(j=me.sourceEvent,Q=jt(me.sourceEvent,F),ee(Ie))},ze=me=>{var Ie,$;let Ne=!1;if(!re&&!C.value&&!v.value){const S=me.sourceEvent,k=H(S),B=k.xSnapped-((Ie=L.x)!=null?Ie:0),q=k.ySnapped-(($=L.y)!=null?$:0),ge=Math.sqrt(B*B+q*q);ge!==0&&ge<=a.value&&(T==null||T(S),Ne=!0)}if(E.length&&!Ne){m(E,!1,!1);const[S,k]=fi({id:K,dragItems:E,findNode:h});P({event:me.sourceEvent,node:S,nodes:k})}E=[],C.value=!1,O=!1,re=!1,L={x:void 0,y:void 0},cancelAnimationFrame(V)};return Ae([()=>Ve(R),U],([me,Ne],Ie,$)=>{if(Ne){const S=At(Ne);me||(_=g0().on("start",k=>xe(k,Ne)).on("drag",k=>be(k,Ne)).on("end",k=>ze(k)).filter(k=>{const B=k.target,q=Ve(D);return!k.button&&(!r.value||!Aa(B,".".concat(r.value),Ne)&&(!q||Aa(B,q,Ne)))}),S.call(_)),$(()=>{S.on(".drag",null),_&&(_.on("start",null),_.on("drag",null),_.on("end",null))})}}),C}function Ky(){return{doubleClick:ye(),click:ye(),mouseEnter:ye(),mouseMove:ye(),mouseLeave:ye(),contextMenu:ye(),updateStart:ye(),update:ye(),updateEnd:ye()}}function Wy(e,t){const n=Ky();return n.doubleClick.on(o=>{var r,i;t.edgeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.edgeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.edgeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.edgeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.edgeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.edgeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.updateStart.on(o=>{var r,i;t.edgeUpdateStart(o),(i=(r=e.events)==null?void 0:r.updateStart)==null||i.call(r,o)}),n.update.on(o=>{var r,i;t.edgeUpdate(o),(i=(r=e.events)==null?void 0:r.update)==null||i.call(r,o)}),n.updateEnd.on(o=>{var r,i;t.edgeUpdateEnd(o),(i=(r=e.events)==null?void 0:r.updateEnd)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function Uy(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=qe();return r=>{var h;var i;const l=(h=(i=o.value)==null?void 0:i.getBoundingClientRect())!=null?h:{left:0,top:0},a=Ny(r)?r.sourceEvent:r,{x:s,y:c}=jt(a,l),u=$o({x:s,y:c},e.value),{x:d,y:f}=n.value?Ar(u,t.value):u;return{xSnapped:d,ySnapped:f,...u}}}function Xo(){return!0}function Fc({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:i,onEdgeUpdateEnd:l}){const{id:a,vueFlowRef:s,connectionMode:c,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:v,autoPanSpeed:p,findNode:y,panBy:g,startConnection:w,updateConnection:m,endConnection:b,emits:M,viewport:A,edges:P,nodes:T,isValidConnection:U,nodeLookup:R}=qe();let K=null,N=!1,D=null;function C(_){var F;const L=Ve(n)==="target",Q=Sl(_),j=$a(_.target);if(Q&&_.button===0||!Q){let re=function(Ce){$=jt(Ce,me),ee=Ay($o($,A.value,!1,[1,1]),u.value,R.value,B),S||(k(),S=!0);const he=Ra(Ce,{handle:ee,connectionMode:c.value,fromNodeId:Ve(t),fromHandleId:Ve(e),fromType:L?"target":"source",isValidConnection:H,doc:j,lib:"vue",flowId:a,nodeLookup:R.value},P.value,T.value,y);D=he.handleDomNode,K=he.connection,N=Dy(!!ee,he.isValid);const W={...ue,isValid:N,to:he.toHandle&&N?Gi({x:he.toHandle.x,y:he.toHandle.y},A.value):$,toHandle:he.toHandle,toPosition:N&&he.toHandle?he.toHandle.position:Yi[B.position],toNode:he.toHandle?R.value.get(he.toHandle.nodeId):null};if(!(N&&ee&&(ue!=null&&ue.toHandle)&&W.toHandle&&ue.toHandle.type===W.toHandle.type&&ue.toHandle.nodeId===W.toHandle.nodeId&&ue.toHandle.id===W.toHandle.id&&ue.to.x===W.to.x&&ue.to.y===W.to.y)){if(m(ee&&N?Gi({x:ee.x,y:ee.y},A.value):$,he.toHandle,Oy(!!ee,N)),ue=W,!ee&&!N&&!D)return hi(Ie);K&&K.source!==K.target&&D&&(hi(Ie),Ie=D,D.classList.add("connecting","vue-flow__handle-connecting"),D.classList.toggle("valid",!!N),D.classList.toggle("vue-flow__handle-valid",!!N))}},V=function(Ce){(ee||D)&&K&&N&&(i?i(Ce,K):M.connect(K)),M.connectEnd(Ce),r&&(l==null||l(Ce)),hi(Ie),cancelAnimationFrame(ae),b(Ce),S=!1,N=!1,K=null,D=null,j.removeEventListener("mousemove",re),j.removeEventListener("mouseup",V),j.removeEventListener("touchmove",re),j.removeEventListener("touchend",V)};const O=y(Ve(t));let H=Ve(o)||U.value||Xo;!H&&O&&(H=(L?O.isValidSourcePos:O.isValidTargetPos)||Xo);let ee,ae=0;const{x:fe,y:xe}=jt(_),be=j==null?void 0:j.elementFromPoint(fe,xe),ze=Ac(Ve(r),be),me=(F=s.value)==null?void 0:F.getBoundingClientRect();if(!me||!ze)return;const Ne=Ry(Ve(t),ze,Ve(e),R.value,c.value);if(!Ne)return;let Ie,$=jt(_,me),S=!1;const k=()=>{if(!v.value)return;const[Ce,he]=zc($,me,p.value);g({x:Ce,y:he}),ae=requestAnimationFrame(k)},B={...Ne,nodeId:Ve(t),type:ze,position:Ne.position},q=R.value.get(Ve(t)),X={inProgress:!0,isValid:null,from:Jn(q,B,Me.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:q,to:$,toHandle:null,toPosition:Yi[B.position],toNode:null};w({nodeId:Ve(t),id:Ve(e),type:ze,position:(be==null?void 0:be.getAttribute("data-handlepos"))||Me.Top,...$},{x:fe-me.left,y:xe-me.top}),M.connectStart({event:_,nodeId:Ve(t),handleId:Ve(e),handleType:ze});let ue=X;j.addEventListener("mousemove",re),j.addEventListener("mouseup",V),j.addEventListener("touchmove",re),j.addEventListener("touchend",V)}}function E(_){var ee;var F,L;if(!d.value)return;const Q=Ve(n)==="target";if(!f.value){M.clickConnectStart({event:_,nodeId:Ve(t),handleId:Ve(e)}),w({nodeId:Ve(t),type:Ve(n),id:Ve(e),position:Me.Top,...jt(_)},void 0,!0);return}let j=Ve(o)||U.value||Xo;const re=y(Ve(t));if(!j&&re&&(j=(Q?re.isValidSourcePos:re.isValidTargetPos)||Xo),re&&(typeof re.connectable>"u"?h.value:re.connectable)===!1)return;const V=$a(_.target),O=Ra(_,{handle:{nodeId:Ve(t),id:Ve(e),type:Ve(n),position:Me.Top,...jt(_)},connectionMode:c.value,fromNodeId:f.value.nodeId,fromHandleId:(ee=f.value.id)!=null?ee:null,fromType:f.value.type,isValidConnection:j,doc:V,lib:"vue",flowId:a,nodeLookup:R.value},P.value,T.value,y),H=((F=O.connection)==null?void 0:F.source)===((L=O.connection)==null?void 0:L.target);O.isValid&&O.connection&&!H&&M.connect(O.connection),M.clickConnectEnd(_),b(_,!0)}return{handlePointerDown:C,handleClick:E}}function Gy(){return Xe(Dc,"")}function Lc(e){var a;const t=(a=e!=null?e:Gy())!=null?a:"",n=Xe(Rc,Y(null)),{findNode:o,edges:r,emits:i}=qe(),l=o(t);return l||i.error(new dt(at.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:l,parentNode:J(()=>o(l.parentNode)),connectedEdges:J(()=>Pc([l],r.value))}}function Yy(){return{doubleClick:ye(),click:ye(),mouseEnter:ye(),mouseMove:ye(),mouseLeave:ye(),contextMenu:ye(),dragStart:ye(),drag:ye(),dragStop:ye()}}function jy(e,t){const n=Yy();return n.doubleClick.on(o=>{var r,i;t.nodeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.nodeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.nodeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.nodeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.nodeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.nodeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.dragStart.on(o=>{var r,i;t.nodeDragStart(o),(i=(r=e.events)==null?void 0:r.dragStart)==null||i.call(r,o)}),n.drag.on(o=>{var r,i;t.nodeDrag(o),(i=(r=e.events)==null?void 0:r.drag)==null||i.call(r,o)}),n.dragStop.on(o=>{var r,i;t.nodeDragStop(o),(i=(r=e.events)==null?void 0:r.dragStop)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function Vc(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:i,nodesDraggable:l,emits:a}=qe();return(s,c=!1)=>{const u=i.value?r.value[0]:5,d=i.value?r.value[1]:5,f=c?4:1,h=s.x*u*f,v=s.y*d*f,p=[];for(const y of e.value)if(y.draggable||l&&typeof y.draggable>"u"){const g={x:y.computedPosition.x+h,y:y.computedPosition.y+v},{computedPosition:w}=_l(y,g,a.error,t.value,y.parentNode?o(y.parentNode):void 0);p.push({id:y.id,position:w,from:y.position,distance:{x:s.x,y:s.y},dimensions:y.dimensions})}n(p,!0,!1)}}const pi=.1,Xy=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function pn(){return Or("Viewport not initialized yet."),Promise.resolve(!1)}const Zy={zoomIn:pn,zoomOut:pn,zoomTo:pn,fitView:pn,setCenter:pn,fitBounds:pn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:pn,setTransform:pn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function qy(e){function t(o,r){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((r==null?void 0:r.interpolate)==="linear"?bo:tr).scaleBy(mi(e.d3Selection,r==null?void 0:r.duration,r==null?void 0:r.ease,()=>{i(!0)}),o):i(!1)})}function n(o,r,i,l){return new Promise(a=>{var s;const{x:c,y:u}=_c({x:-o,y:-r},e.translateExtent),d=qn.translate(-c,-u).scale(i);e.d3Selection&&e.d3Zoom?(s=e.d3Zoom)==null||s.interpolate((l==null?void 0:l.interpolate)==="linear"?bo:tr).transform(mi(e.d3Selection,l==null?void 0:l.duration,l==null?void 0:l.ease,()=>{a(!0)}),d):a(!1)})}return J(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r),zoomOut:r=>t(1/1.2,r),zoomTo:(r,i)=>new Promise(l=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((i==null?void 0:i.interpolate)==="linear"?bo:tr).scaleTo(mi(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{l(!0)}),r):l(!1)}),setViewport:(r,i)=>n(r.x,r.y,r.zoom,i),setTransform:(r,i)=>n(r.x,r.y,r.zoom,i),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:pi,includeHiddenNodes:!1,duration:0})=>{var f,h,v;var i,l;const a=[];for(const p of e.nodes)p.dimensions.width&&p.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!p.hidden)&&(!((i=r.nodes)!=null&&i.length)||(l=r.nodes)!=null&&l.length&&r.nodes.includes(p.id))&&a.push(p);if(!a.length)return Promise.resolve(!1);const s=Mc(a),{x:c,y:u,zoom:d}=Ma(s,e.dimensions.width,e.dimensions.height,(f=r.minZoom)!=null?f:e.minZoom,(h=r.maxZoom)!=null?h:e.maxZoom,(v=r.padding)!=null?v:pi,r.offset);return n(c,u,d,r)},setCenter:(r,i,l)=>{const a=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:e.maxZoom,s=e.dimensions.width/2-r*a,c=e.dimensions.height/2-i*a;return n(s,c,a,l)},fitBounds:(r,i={padding:pi})=>{const{x:l,y:a,zoom:s}=Ma(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(l,a,s,i)},project:r=>$o(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:i,y:l}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x-i,y:r.y-l};return $o(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:i,y:l}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x+i,y:r.y+l};return Gi(a,e.viewport)}return{x:0,y:0}}}:Zy)}function mi(e,t=0,n=Xy,o=()=>{}){const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e}function Jy(e,t,n){const o=as(!0);return o.run(()=>{const r=()=>{o.run(()=>{let p,y,g=!!(n.nodes.value.length||n.edges.value.length);p=Wn([e.modelValue,()=>{var w,m;return(m=(w=e.modelValue)==null?void 0:w.value)==null?void 0:m.length}],([w])=>{w&&Array.isArray(w)&&(y==null||y.pause(),n.setElements(w),!y&&!g&&w.length?g=!0:y==null||y.resume())}),y=Wn([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([w,m])=>{var b;(b=e.modelValue)!=null&&b.value&&Array.isArray(e.modelValue.value)&&(p==null||p.pause(),e.modelValue.value=[...w,...m],et(()=>{p==null||p.resume()}))},{immediate:g}),Qo(()=>{p==null||p.stop(),y==null||y.stop()})})},i=()=>{o.run(()=>{let p,y,g=!!n.nodes.value.length;p=Wn([e.nodes,()=>{var w,m;return(m=(w=e.nodes)==null?void 0:w.value)==null?void 0:m.length}],([w])=>{w&&Array.isArray(w)&&(y==null||y.pause(),n.setNodes(w),!y&&!g&&w.length?g=!0:y==null||y.resume())}),y=Wn([n.nodes,()=>n.nodes.value.length],([w])=>{var m;(m=e.nodes)!=null&&m.value&&Array.isArray(e.nodes.value)&&(p==null||p.pause(),e.nodes.value=[...w],et(()=>{p==null||p.resume()}))},{immediate:g}),Qo(()=>{p==null||p.stop(),y==null||y.stop()})})},l=()=>{o.run(()=>{let p,y,g=!!n.edges.value.length;p=Wn([e.edges,()=>{var w,m;return(m=(w=e.edges)==null?void 0:w.value)==null?void 0:m.length}],([w])=>{w&&Array.isArray(w)&&(y==null||y.pause(),n.setEdges(w),!y&&!g&&w.length?g=!0:y==null||y.resume())}),y=Wn([n.edges,()=>n.edges.value.length],([w])=>{var m;(m=e.edges)!=null&&m.value&&Array.isArray(e.edges.value)&&(p==null||p.pause(),e.edges.value=[...w],et(()=>{p==null||p.resume()}))},{immediate:g}),Qo(()=>{p==null||p.stop(),y==null||y.stop()})})},a=()=>{o.run(()=>{Ae(()=>t.maxZoom,()=>{t.maxZoom&&lt(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},s=()=>{o.run(()=>{Ae(()=>t.minZoom,()=>{t.minZoom&&lt(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{o.run(()=>{Ae(()=>t.translateExtent,()=>{t.translateExtent&&lt(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},u=()=>{o.run(()=>{Ae(()=>t.nodeExtent,()=>{t.nodeExtent&&lt(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{Ae(()=>t.applyDefault,()=>{lt(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{o.run(()=>{const p=async y=>{let g=y;typeof t.autoConnect=="function"&&(g=await t.autoConnect(y)),g!==!1&&n.addEdges([g])};Ae(()=>t.autoConnect,()=>{lt(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ae(n.autoConnect,(y,g,w)=>{y?n.onConnect(p):n.hooks.value.connect.off(p),w(()=>{n.hooks.value.connect.off(p)})},{immediate:!0})})},h=()=>{const p=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const y of Object.keys(t)){const g=y;if(!p.includes(g)){const w=ce(()=>t[g]),m=n[g];ol(m)&&o.run(()=>{Ae(w,b=>{lt(b)&&(m.value=b)},{immediate:!0})})}}};(()=>{r(),i(),l(),s(),a(),c(),u(),d(),f(),h()})()}),()=>o.stop()}function Qy(){return{edgesChange:ye(),nodesChange:ye(),nodeDoubleClick:ye(),nodeClick:ye(),nodeMouseEnter:ye(),nodeMouseMove:ye(),nodeMouseLeave:ye(),nodeContextMenu:ye(),nodeDragStart:ye(),nodeDrag:ye(),nodeDragStop:ye(),nodesInitialized:ye(),miniMapNodeClick:ye(),miniMapNodeDoubleClick:ye(),miniMapNodeMouseEnter:ye(),miniMapNodeMouseMove:ye(),miniMapNodeMouseLeave:ye(),connect:ye(),connectStart:ye(),connectEnd:ye(),clickConnectStart:ye(),clickConnectEnd:ye(),paneReady:ye(),init:ye(),move:ye(),moveStart:ye(),moveEnd:ye(),selectionDragStart:ye(),selectionDrag:ye(),selectionDragStop:ye(),selectionContextMenu:ye(),selectionStart:ye(),selectionEnd:ye(),viewportChangeStart:ye(),viewportChange:ye(),viewportChangeEnd:ye(),paneScroll:ye(),paneClick:ye(),paneContextMenu:ye(),paneMouseEnter:ye(),paneMouseMove:ye(),paneMouseLeave:ye(),edgeContextMenu:ye(),edgeMouseEnter:ye(),edgeMouseMove:ye(),edgeMouseLeave:ye(),edgeDoubleClick:ye(),edgeClick:ye(),edgeUpdateStart:ye(),edgeUpdate:ye(),edgeUpdateEnd:ye(),updateNodeInternals:ye(),error:ye(e=>Or(e.message))}}function ew(e,t){cd(()=>{for(const[n,o]of Object.entries(t.value)){const r=i=>{e(n,i)};o.fns.add(r),Mr(()=>{o.off(r)})}})}function Hc(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Cl.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:yo.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Mn.Bezier,style:{}},connectionMode:kn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:yr()?"Meta":"Control",zoomActivationKeyCode:yr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Qy(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const tw=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function nw(e,t,n){const o=qy(e),r=$=>{const S=$!=null?$:[];e.hooks.updateNodeInternals.trigger(S)},i=$=>by($,e.nodes,e.edges),l=$=>my($,e.nodes,e.edges),a=$=>Pc($,e.edges),s=({id:$,type:S,nodeId:k})=>{var q;var B;return Array.from((q=(B=e.connectionLookup.get("".concat(k,"-").concat(S,"-").concat($!=null?$:null)))==null?void 0:B.values())!=null?q:[])},c=$=>{if($)return t.value.get($)},u=$=>{if($)return n.value.get($)},d=($,S,k)=>{var X,ue;var B,q;const ge=[];for(const Ce of $){const he={id:Ce.id,type:"position",dragging:k,from:Ce.from};if(S&&(he.position=Ce.position,Ce.parentNode)){const W=c(Ce.parentNode);he.position={x:he.position.x-((X=(B=W==null?void 0:W.computedPosition)==null?void 0:B.x)!=null?X:0),y:he.position.y-((ue=(q=W==null?void 0:W.computedPosition)==null?void 0:q.y)!=null?ue:0)}}ge.push(he)}ge!=null&&ge.length&&e.hooks.nodesChange.trigger(ge)},f=$=>{if(!e.vueFlowRef)return;const S=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!S)return;const k=window.getComputedStyle(S),{m22:B}=new window.DOMMatrixReadOnly(k.transform),q=[];for(const ge of $){const X=ge,ue=c(X.id);if(ue){const Ce=Ir(X.nodeElement);if(!!(Ce.width&&Ce.height&&(ue.dimensions.width!==Ce.width||ue.dimensions.height!==Ce.height||X.forceUpdate))){const W=X.nodeElement.getBoundingClientRect();ue.dimensions=Ce,ue.handleBounds.source=Ba("source",X.nodeElement,W,B,ue.id),ue.handleBounds.target=Ba("target",X.nodeElement,W,B,ue.id),q.push({id:ue.id,type:"dimensions",dimensions:Ce})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),q.length&&e.hooks.nodesChange.trigger(q)},h=($,S)=>{const k=new Set,B=new Set;for(const X of $)zn(X)?k.add(X.id):En(X)&&B.add(X.id);const q=wn(t.value,k,!0),ge=wn(n.value,B);if(e.multiSelectionActive){for(const X of k)q.push(bn(X,S));for(const X of B)ge.push(bn(X,S))}q.length&&e.hooks.nodesChange.trigger(q),ge.length&&e.hooks.edgesChange.trigger(ge)},v=$=>{if(e.multiSelectionActive){const S=$.map(k=>bn(k.id,!0));e.hooks.nodesChange.trigger(S);return}e.hooks.nodesChange.trigger(wn(t.value,new Set($.map(S=>S.id)),!0)),e.hooks.edgesChange.trigger(wn(n.value))},p=$=>{if(e.multiSelectionActive){const S=$.map(k=>bn(k.id,!0));e.hooks.edgesChange.trigger(S);return}e.hooks.edgesChange.trigger(wn(n.value,new Set($.map(S=>S.id)))),e.hooks.nodesChange.trigger(wn(t.value,new Set,!0))},y=$=>{h($,!0)},g=$=>{const k=($||e.nodes).map(B=>(B.selected=!1,bn(B.id,!1)));e.hooks.nodesChange.trigger(k)},w=$=>{const k=($||e.edges).map(B=>(B.selected=!1,bn(B.id,!1)));e.hooks.edgesChange.trigger(k)},m=$=>{if(!$||!$.length)return h([],!1);const S=$.reduce((k,B)=>{const q=bn(B.id,!1);return zn(B)?k.nodes.push(q):k.edges.push(q),k},{nodes:[],edges:[]});S.nodes.length&&e.hooks.nodesChange.trigger(S.nodes),S.edges.length&&e.hooks.edgesChange.trigger(S.edges)},b=$=>{var S;(S=e.d3Zoom)==null||S.scaleExtent([$,e.maxZoom]),e.minZoom=$},M=$=>{var S;(S=e.d3Zoom)==null||S.scaleExtent([e.minZoom,$]),e.maxZoom=$},A=$=>{var S;(S=e.d3Zoom)==null||S.translateExtent($),e.translateExtent=$},P=$=>{e.nodeExtent=$,r()},T=$=>{var S;(S=e.d3Zoom)==null||S.clickDistance($)},U=$=>{e.nodesDraggable=$,e.nodesConnectable=$,e.elementsSelectable=$},R=$=>{const S=$ instanceof Function?$(e.nodes):$;!e.initialized&&!S.length||(e.nodes=Fa(S,c,e.hooks.error.trigger))},K=$=>{const S=$ instanceof Function?$(e.edges):$;if(!e.initialized&&!S.length)return;const k=gi(S,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);vi(e.connectionLookup,n.value,k),e.edges=k},N=$=>{const S=$ instanceof Function?$([...e.nodes,...e.edges]):$;!e.initialized&&!S.length||(R(S.filter(zn)),K(S.filter(En)))},D=$=>{let S=$ instanceof Function?$(e.nodes):$;S=Array.isArray(S)?S:[S];const k=Fa(S,c,e.hooks.error.trigger),B=[];for(const q of k)B.push(Ta(q));B.length&&e.hooks.nodesChange.trigger(B)},C=$=>{let S=$ instanceof Function?$(e.edges):$;S=Array.isArray(S)?S:[S];const k=gi(S,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),B=[];for(const q of k)B.push(Ta(q));B.length&&e.hooks.edgesChange.trigger(B)},E=($,S=!0,k=!1)=>{const B=$ instanceof Function?$(e.nodes):$,q=Array.isArray(B)?B:[B],ge=[],X=[];function ue(he){const W=a(he);for(const se of W)(!lt(se.deletable)||se.deletable)&&X.push(Ia(se.id,se.source,se.target,se.sourceHandle,se.targetHandle))}function Ce(he){const W=[];for(const se of e.nodes)se.parentNode===he&&W.push(se);if(W.length){for(const se of W)ge.push(za(se.id));S&&ue(W);for(const se of W)Ce(se.id)}}for(const he of q){const W=typeof he=="string"?c(he):he;W&&(lt(W.deletable)&&!W.deletable||(ge.push(za(W.id)),S&&ue([W]),k&&Ce(W.id)))}X.length&&e.hooks.edgesChange.trigger(X),ge.length&&e.hooks.nodesChange.trigger(ge)},_=$=>{const S=$ instanceof Function?$(e.edges):$,k=Array.isArray(S)?S:[S],B=[];for(const q of k){const ge=typeof q=="string"?u(q):q;ge&&(lt(ge.deletable)&&!ge.deletable||B.push(Ia(typeof q=="string"?q:q.id,ge.source,ge.target,ge.sourceHandle,ge.targetHandle)))}e.hooks.edgesChange.trigger(B)},F=($,S,k=!0)=>{const B=u($.id);if(!B)return!1;const q=e.edges.indexOf(B),ge=Ly($,S,B,k,e.hooks.error.trigger);if(ge){const[X]=gi([ge],e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((ue,Ce)=>Ce===q?X:ue),vi(e.connectionLookup,n.value,[X]),X}return!1},L=($,S,k={replace:!1})=>{const B=u($);if(!B)return;const q=typeof S=="function"?S(B):S;B.data=k.replace?q:{...B.data,...q}},Q=$=>Pa($,e.nodes),j=$=>{const S=Pa($,e.edges);return vi(e.connectionLookup,n.value,S),S},re=($,S,k={replace:!1})=>{const B=c($);if(!B)return;const q=typeof S=="function"?S(B):S;k.replace?e.nodes.splice(e.nodes.indexOf(B),1,q):Object.assign(B,q)},V=($,S,k={replace:!1})=>{const B=c($);if(!B)return;const q=typeof S=="function"?S(B):S;B.data=k.replace?q:{...B.data,...q}},O=($,S,k=!1)=>{k?e.connectionClickStartHandle=$:e.connectionStartHandle=$,e.connectionEndHandle=null,e.connectionStatus=null,S&&(e.connectionPosition=S)},H=($,S=null,k=null)=>{e.connectionStartHandle&&(e.connectionPosition=$,e.connectionEndHandle=S,e.connectionStatus=k)},ee=($,S)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,S?e.connectionClickStartHandle=null:e.connectionStartHandle=null},ae=$=>{const S=gy($),k=S?null:vo($)?$:c($.id);return!S&&!k?[null,null,S]:[S?$:mr(k),k,S]},fe=($,S=!0,k=e.nodes)=>{const[B,q,ge]=ae($);if(!B)return[];const X=[];for(const ue of k||e.nodes){if(!ge&&(ue.id===q.id||!ue.computedPosition))continue;const Ce=mr(ue),he=br(Ce,B);(S&&he>0||he>=Number(B.width)*Number(B.height))&&X.push(ue)}return X},xe=($,S,k=!0)=>{const[B]=ae($);if(!B)return!1;const q=br(B,S);return k&&q>0||q>=Number(B.width)*Number(B.height)},be=$=>{const{viewport:S,dimensions:k,d3Zoom:B,d3Selection:q,translateExtent:ge}=e;if(!B||!q||!$.x&&!$.y)return!1;const X=qn.translate(S.x+$.x,S.y+$.y).scale(S.zoom),ue=[[0,0],[k.width,k.height]],Ce=B.constrain()(X,ue,ge),he=e.viewport.x!==Ce.x||e.viewport.y!==Ce.y||e.viewport.zoom!==Ce.k;return B.transform(q,Ce),he},ze=$=>{const S=$ instanceof Function?$(e):$,k=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];lt(S.defaultEdgeOptions)&&(e.defaultEdgeOptions=S.defaultEdgeOptions);const B=S.modelValue||S.nodes||S.edges?[]:void 0;B&&(S.modelValue&&B.push(...S.modelValue),S.nodes&&B.push(...S.nodes),S.edges&&B.push(...S.edges),N(B));const q=()=>{lt(S.maxZoom)&&M(S.maxZoom),lt(S.minZoom)&&b(S.minZoom),lt(S.translateExtent)&&A(S.translateExtent)};for(const ge of Object.keys(S)){const X=ge,ue=S[X];![...tw,...k].includes(X)&&lt(ue)&&(e[X]=ue)}Oi(()=>e.d3Zoom).not.toBeNull().then(q),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:N,setNodes:R,setEdges:K,addNodes:D,addEdges:C,removeNodes:E,removeEdges:_,findNode:c,findEdge:u,updateEdge:F,updateEdgeData:L,updateNode:re,updateNodeData:V,applyEdgeChanges:j,applyNodeChanges:Q,addSelectedElements:y,addSelectedNodes:v,addSelectedEdges:p,setMinZoom:b,setMaxZoom:M,setTranslateExtent:A,setNodeExtent:P,setPaneClickDistance:T,removeSelectedElements:m,removeSelectedNodes:g,removeSelectedEdges:w,startConnection:O,updateConnection:H,endConnection:ee,setInteractive:U,setState:ze,getIntersectingNodes:fe,getIncomers:i,getOutgoers:l,getConnectedEdges:a,getHandleConnections:s,isNodeIntersecting:xe,panBy:be,fitView:$=>o.value.fitView($),zoomIn:$=>o.value.zoomIn($),zoomOut:$=>o.value.zoomOut($),zoomTo:($,S)=>o.value.zoomTo($,S),setViewport:($,S)=>o.value.setViewport($,S),setTransform:($,S)=>o.value.setTransform($,S),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:($,S,k)=>o.value.setCenter($,S,k),fitBounds:($,S)=>o.value.fitBounds($,S),project:$=>o.value.project($),screenToFlowCoordinate:$=>o.value.screenToFlowCoordinate($),flowToScreenCoordinate:$=>o.value.flowToScreenCoordinate($),toObject:()=>{const $=[],S=[];for(const k of e.nodes){const{computedPosition:B,handleBounds:q,selected:ge,dimensions:X,isParent:ue,resizing:Ce,dragging:he,events:W,...se}=k;$.push(se)}for(const k of e.edges){const{selected:B,sourceNode:q,targetNode:ge,events:X,...ue}=k;S.push(ue)}return JSON.parse(JSON.stringify({nodes:$,edges:S,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:$=>new Promise(S=>{const{nodes:k,edges:B,position:q,zoom:ge,viewport:X}=$;if(k&&R(k),B&&K(B),X!=null&&X.x&&(X!=null&&X.y)||q){const ue=(X==null?void 0:X.x)||q[0],Ce=(X==null?void 0:X.y)||q[1],he=(X==null?void 0:X.zoom)||ge||e.viewport.zoom;return Oi(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:ue,y:Ce,zoom:he}).then(()=>{S(!0)})})}else S(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{var S,k,B;const $=Hc();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const q=qn.translate((S=$.defaultViewport.x)!=null?S:0,(k=$.defaultViewport.y)!=null?k:0).scale(Rn((B=$.defaultViewport.zoom)!=null?B:1,$.minZoom,$.maxZoom)),ge=e.viewportRef.getBoundingClientRect(),X=[[0,0],[ge.width,ge.height]],ue=e.d3Zoom.constrain()(q,X,$.translateExtent);e.d3Zoom.transform(e.d3Selection,ue)}ze($)},$destroy:()=>{}}}const ow=["data-id","data-handleid","data-nodeid","data-handlepos"],rw={name:"Handle",compatConfig:{MODE:3}},wr=Se({...rw,props:{id:{default:null},type:{},position:{default:()=>Me.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=vd(e,["position","connectable","connectableStart","connectableEnd","id"]),o=ce(()=>{var K;return(K=n.type)!=null?K:"source"}),r=ce(()=>{var K;return(K=n.isValidConnection)!=null?K:null}),{id:i,connectionStartHandle:l,connectionClickStartHandle:a,connectionEndHandle:s,vueFlowRef:c,nodesConnectable:u,noDragClassName:d,noPanClassName:f}=qe(),{id:h,node:v,nodeEl:p,connectedEdges:y}=Lc(),g=Y(),w=ce(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),m=ce(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),b=ce(()=>{var K,N,D,C,E,_;return((K=l.value)==null?void 0:K.nodeId)===h&&((N=l.value)==null?void 0:N.id)===e.id&&((D=l.value)==null?void 0:D.type)===o.value||((C=s.value)==null?void 0:C.nodeId)===h&&((E=s.value)==null?void 0:E.id)===e.id&&((_=s.value)==null?void 0:_.type)===o.value}),M=ce(()=>{var K,N,D;return((K=a.value)==null?void 0:K.nodeId)===h&&((N=a.value)==null?void 0:N.id)===e.id&&((D=a.value)==null?void 0:D.type)===o.value}),{handlePointerDown:A,handleClick:P}=Fc({nodeId:h,handleId:e.id,isValidConnection:r,type:o}),T=J(()=>typeof e.connectable=="string"&&e.connectable==="single"?!y.value.some(K=>{const N=K["".concat(o.value,"Handle")];return K[o.value]!==h?!1:N?N===e.id:!0}):typeof e.connectable=="number"?y.value.filter(K=>{const N=K["".concat(o.value,"Handle")];return K[o.value]!==h?!1:N?N===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(v,y.value):lt(e.connectable)?e.connectable:u.value);rt(()=>{var Q;var K;if(!v.dimensions.width||!v.dimensions.height)return;const N=(K=v.handleBounds[o.value])==null?void 0:K.find(j=>j.id===e.id);if(!c.value||N)return;const D=c.value.querySelector(".vue-flow__transformationpane");if(!p.value||!g.value||!D||!e.id)return;const C=p.value.getBoundingClientRect(),E=g.value.getBoundingClientRect(),_=window.getComputedStyle(D),{m22:F}=new window.DOMMatrixReadOnly(_.transform),L={id:e.id,position:e.position,x:(E.left-C.left)/F,y:(E.top-C.top)/F,type:o.value,nodeId:h,...Ir(g.value)};v.handleBounds[o.value]=[...(Q=v.handleBounds[o.value])!=null?Q:[],L]});function U(K){const N=Sl(K);T.value&&w.value&&(N&&K.button===0||!N)&&A(K)}function R(K){!h||!a.value&&!w.value||T.value&&P(K)}return t({handleClick:P,handlePointerDown:A,onClick:R,onPointerDown:U}),(K,N)=>(we(),Pe("div",{ref_key:"handle",ref:g,"data-id":"".concat(pe(i),"-").concat(pe(h),"-").concat(e.id,"-").concat(o.value),"data-handleid":e.id,"data-nodeid":pe(h),"data-handlepos":K.position,class:Sn(["vue-flow__handle",["vue-flow__handle-".concat(K.position),"vue-flow__handle-".concat(e.id),pe(d),pe(f),o.value,{connectable:T.value,connecting:M.value,connectablestart:w.value,connectableend:m.value,connectionindicator:T.value&&(w.value&&!b.value||m.value&&b.value)}]]),onMousedown:U,onTouchstartPassive:U,onClick:R},[Qe(K.$slots,"default",{id:K.id})],42,ow))}}),Rr=function({sourcePosition:e=Me.Bottom,targetPosition:t=Me.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:i,data:l}){var s;const a=(s=l.label)!=null?s:n;return[x(wr,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof a!="string"&&a?x(a):x(xt,[a]),x(wr,{type:"source",position:e,connectable:o,isValidConnection:i})]};Rr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Rr.inheritAttrs=!1;Rr.compatConfig={MODE:3};const iw=Rr,Br=function({targetPosition:e=Me.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){var l;const i=(l=r.label)!=null?l:t;return[x(wr,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof i!="string"&&i?x(i):x(xt,[i])]};Br.props=["targetPosition","label","isValidTargetPos","connectable","data"];Br.inheritAttrs=!1;Br.compatConfig={MODE:3};const lw=Br,Fr=function({sourcePosition:e=Me.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){var l;const i=(l=r.label)!=null?l:t;return[typeof i!="string"&&i?x(i):x(xt,[i]),x(wr,{type:"source",position:e,connectable:n,isValidConnection:o})]};Fr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Fr.inheritAttrs=!1;Fr.compatConfig={MODE:3};const aw=Fr,sw=["transform"],cw=["width","height","x","y","rx","ry"],uw=["y"],dw={name:"EdgeText",compatConfig:{MODE:3}},fw=Se({...dw,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=Y({x:0,y:0,width:0,height:0}),n=Y(null),o=J(()=>"translate(".concat(e.x-t.value.width/2," ").concat(e.y-t.value.height/2,")"));rt(r),Ae([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,l)=>(we(),Pe("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(we(),Pe("rect",{key:0,class:"vue-flow__edge-textbg",width:"".concat(t.value.width+2*i.labelBgPadding[0],"px"),height:"".concat(t.value.height+2*i.labelBgPadding[1],"px"),x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:kt(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,cw)):wt("",!0),le("text",xr(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[Qe(i.$slots,"default",{},()=>[typeof i.label!="string"?(we(),yt(xn(i.label),{key:0})):(we(),Pe(xt,{key:1},[To(An(i.label),1)],64))])],16,uw)],8,sw))}}),hw=["id","d","marker-end","marker-start"],vw=["d","stroke-width"],gw={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Lr=Se({...gw,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Y(null),o=Y(null),r=Y(null),i=hd();return t({pathEl:n,interactionEl:o,labelEl:r}),(l,a)=>(we(),Pe(xt,null,[le("path",xr(pe(i),{id:l.id,ref_key:"pathEl",ref:n,d:l.path,class:"vue-flow__edge-path","marker-end":l.markerEnd,"marker-start":l.markerStart}),null,16,hw),l.interactionWidth?(we(),Pe("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:l.path,"stroke-width":l.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,vw)):wt("",!0),l.label&&l.labelX&&l.labelY?(we(),yt(fw,{key:1,ref_key:"labelEl",ref:r,x:l.labelX,y:l.labelY,label:l.label,"label-show-bg":l.labelShowBg,"label-bg-style":l.labelBgStyle,"label-bg-padding":l.labelBgPadding,"label-bg-border-radius":l.labelBgBorderRadius,"label-style":l.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):wt("",!0)],64))}});function Kc({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,l=Math.abs(o-t)/2,a=o<t?o+l:o-l;return[i,a,r,l]}function Wc({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:l,targetControlY:a}){const s=e*.125+r*.375+l*.375+n*.125,c=t*.125+i*.375+a*.375+o*.125,u=Math.abs(s-e),d=Math.abs(c-t);return[s,c,u,d]}function Zo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ka({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let l,a;switch(e){case Me.Left:l=t-Zo(t-o,i),a=n;break;case Me.Right:l=t+Zo(o-t,i),a=n;break;case Me.Top:l=t,a=n-Zo(n-r,i);break;case Me.Bottom:l=t,a=n+Zo(r-n,i);break}return[l,a]}function Uc(e){const{sourceX:t,sourceY:n,sourcePosition:o=Me.Bottom,targetX:r,targetY:i,targetPosition:l=Me.Top,curvature:a=.25}=e,[s,c]=Ka({pos:o,x1:t,y1:n,x2:r,y2:i,c:a}),[u,d]=Ka({pos:l,x1:r,y1:i,x2:t,y2:n,c:a}),[f,h,v,p]=Wc({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(c," ").concat(u,",").concat(d," ").concat(r,",").concat(i),f,h,v,p]}function Wa({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,l;switch(e){case Me.Left:case Me.Right:i=.5*(t+o),l=n;break;case Me.Top:case Me.Bottom:i=t,l=.5*(n+r);break}return[i,l]}function Gc(e){const{sourceX:t,sourceY:n,sourcePosition:o=Me.Bottom,targetX:r,targetY:i,targetPosition:l=Me.Top}=e,[a,s]=Wa({pos:o,x1:t,y1:n,x2:r,y2:i}),[c,u]=Wa({pos:l,x1:r,y1:i,x2:t,y2:n}),[d,f,h,v]=Wc({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(a,",").concat(s," ").concat(c,",").concat(u," ").concat(r,",").concat(i),d,f,h,v]}const Ua={[Me.Left]:{x:-1,y:0},[Me.Right]:{x:1,y:0},[Me.Top]:{x:0,y:-1},[Me.Bottom]:{x:0,y:1}};function pw({source:e,sourcePosition:t=Me.Bottom,target:n}){return t===Me.Left||t===Me.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Ga(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function mw({source:e,sourcePosition:t=Me.Bottom,target:n,targetPosition:o=Me.Top,center:r,offset:i}){var P,T;const l=Ua[t],a=Ua[o],s={x:e.x+l.x*i,y:e.y+l.y*i},c={x:n.x+a.x*i,y:n.y+a.y*i},u=pw({source:s,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h,v,p;const y={x:0,y:0},g={x:0,y:0},[w,m,b,M]=Kc({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){v=(P=r.x)!=null?P:w,p=(T=r.y)!=null?T:m;const U=[{x:v,y:s.y},{x:v,y:c.y}],R=[{x:s.x,y:p},{x:c.x,y:p}];l[d]===f?h=d==="x"?U:R:h=d==="x"?R:U}else{const U=[{x:s.x,y:c.y}],R=[{x:c.x,y:s.y}];if(d==="x"?h=l.x===f?R:U:h=l.y===f?U:R,t===o){const E=Math.abs(e[d]-n[d]);if(E<=i){const _=Math.min(i-1,i-E);l[d]===f?y[d]=(s[d]>e[d]?-1:1)*_:g[d]=(c[d]>n[d]?-1:1)*_}}if(t!==o){const E=d==="x"?"y":"x",_=l[d]===a[E],F=s[E]>c[E],L=s[E]<c[E];(l[d]===1&&(!_&&F||_&&L)||l[d]!==1&&(!_&&L||_&&F))&&(h=d==="x"?U:R)}const K={x:s.x+y.x,y:s.y+y.y},N={x:c.x+g.x,y:c.y+g.y},D=Math.max(Math.abs(K.x-h[0].x),Math.abs(N.x-h[0].x)),C=Math.max(Math.abs(K.y-h[0].y),Math.abs(N.y-h[0].y));D>=C?(v=(K.x+N.x)/2,p=h[0].y):(v=h[0].x,p=(K.y+N.y)/2)}return[[e,{x:s.x+y.x,y:s.y+y.y},...h,{x:c.x+g.x,y:c.y+g.y},n],v,p,b,M]}function bw(e,t,n,o){const r=Math.min(Ga(e,t)/2,Ga(t,n)/2,o),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return"L".concat(i," ").concat(l);if(e.y===l){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return"L ".concat(i+r*c,",").concat(l,"Q ").concat(i,",").concat(l," ").concat(i,",").concat(l+r*u)}const a=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return"L ".concat(i,",").concat(l+r*s,"Q ").concat(i,",").concat(l," ").concat(i+r*a,",").concat(l)}function Xi(e){const{sourceX:t,sourceY:n,sourcePosition:o=Me.Bottom,targetX:r,targetY:i,targetPosition:l=Me.Top,borderRadius:a=5,centerX:s,centerY:c,offset:u=20}=e,[d,f,h,v,p]=mw({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:i},targetPosition:l,center:{x:s,y:c},offset:u});return[d.reduce((g,w,m)=>{let b;return m>0&&m<d.length-1?b=bw(d[m-1],w,d[m+1],a):b="".concat(m===0?"M":"L").concat(w.x," ").concat(w.y),g+=b,g},""),f,h,v,p]}function yw(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[i,l,a,s]=Kc({sourceX:t,sourceY:n,targetX:o,targetY:r});return["M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r),i,l,a,s]}const ww=Se({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=yw(e);return x(Lr,{path:n,labelX:o,labelY:r,...t,...e})}}}),xw=ww,Cw=Se({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,l;const[n,o,r]=Xi({...e,sourcePosition:(i=e.sourcePosition)!=null?i:Me.Bottom,targetPosition:(l=e.targetPosition)!=null?l:Me.Top});return x(Lr,{path:n,labelX:o,labelY:r,...t,...e})}}}),Yc=Cw,_w=Se({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>x(Yc,{...e,...t,borderRadius:0})}}),Sw=_w,kw=Se({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,l;const[n,o,r]=Uc({...e,sourcePosition:(i=e.sourcePosition)!=null?i:Me.Bottom,targetPosition:(l=e.targetPosition)!=null?l:Me.Top});return x(Lr,{path:n,labelX:o,labelY:r,...t,...e})}}}),Ew=kw,$w=Se({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,l;const[n,o,r]=Gc({...e,sourcePosition:(i=e.sourcePosition)!=null?i:Me.Bottom,targetPosition:(l=e.targetPosition)!=null?l:Me.Top});return x(Lr,{path:n,labelX:o,labelY:r,...t,...e})}}}),Mw=$w,Nw={input:aw,default:iw,output:lw},Pw={default:Ew,straight:xw,step:Sw,smoothstep:Yc,simplebezier:Mw};function Tw(e,t,n){const o=J(()=>p=>t.value.get(p)),r=J(()=>p=>n.value.get(p)),i=J(()=>{const p={...Pw,...e.edgeTypes},y=Object.keys(p);for(const g of e.edges)g.type&&!y.includes(g.type)&&(p[g.type]=g.type);return p}),l=J(()=>{const p={...Nw,...e.nodeTypes},y=Object.keys(p);for(const g of e.nodes)g.type&&!y.includes(g.type)&&(p[g.type]=g.type);return p}),a=J(()=>e.onlyRenderVisibleElements?Nc(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),s=J(()=>{if(e.onlyRenderVisibleElements){const p=[];for(const y of e.edges){const g=t.value.get(y.source),w=t.value.get(y.target);$y({sourcePos:g.computedPosition||{x:0,y:0},targetPos:w.computedPosition||{x:0,y:0},sourceWidth:g.dimensions.width,sourceHeight:g.dimensions.height,targetWidth:w.dimensions.width,targetHeight:w.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&p.push(y)}return p}return e.edges}),c=J(()=>[...a.value,...s.value]),u=J(()=>{const p=[];for(const y of e.nodes)y.selected&&p.push(y);return p}),d=J(()=>{const p=[];for(const y of e.edges)y.selected&&p.push(y);return p}),f=J(()=>[...u.value,...d.value]),h=J(()=>{const p=[];for(const y of e.nodes)y.dimensions.width&&y.dimensions.height&&y.handleBounds!==void 0&&p.push(y);return p}),v=J(()=>a.value.length>0&&h.value.length===a.value.length);return{getNode:o,getEdge:r,getElements:c,getEdgeTypes:i,getNodeTypes:l,getEdges:s,getNodes:a,getSelectedElements:f,getSelectedNodes:u,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:v}}class Nn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var r;var t;const n=(t=Fn())==null?void 0:t.appContext.app,o=(r=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?r:Nn.instance;return Nn.instance=o!=null?o:new Nn,n&&(n.config.globalProperties.$vueFlowStorage=Nn.instance),Nn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Hc(),r=tl(o),i={};for(const[f,h]of Object.entries(r.hooks)){const v="on".concat(f.charAt(0).toUpperCase()+f.slice(1));i[v]=h.on}const l={};for(const[f,h]of Object.entries(r.hooks))l[f]=h.trigger;const a=J(()=>{const f=new Map;for(const h of r.nodes)f.set(h.id,h);return f}),s=J(()=>{const f=new Map;for(const h of r.edges)f.set(h.id,h);return f}),c=Tw(r,a,s),u=nw(r,a,s);u.setState({...r,...n});const d={...i,...c,...u,...Sp(r),nodeLookup:a,edgeLookup:s,emits:l,id:t,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return"vue-flow-".concat(this.currentId++)}}function qe(e){const t=Nn.getInstance(),n=ls(),o=typeof e=="object",r=o?e:{id:e},i=r.id,l=i!=null?i:n==null?void 0:n.vueFlowId;let a;if(n){const s=Xe(Ha,null);typeof s<"u"&&s!==null&&(!l||s.id===l)&&(a=s)}if(a||l&&(a=t.get(l)),!a||l&&a.id!==l){const s=i!=null?i:t.getId(),c=t.create(s,r);a=c,(n!=null?n:as(!0)).run(()=>{Ae(c.applyDefault,(d,f,h)=>{const v=y=>{c.applyNodeChanges(y)},p=y=>{c.applyEdgeChanges(y)};d?(c.onNodesChange(v),c.onEdgesChange(p)):(c.hooks.value.nodesChange.off(v),c.hooks.value.edgesChange.off(p)),h(()=>{c.hooks.value.nodesChange.off(v),c.hooks.value.edgesChange.off(p)})},{immediate:!0}),Mr(()=>{if(a){const d=t.get(a.id);d?d.$destroy():Or("No store instance found for id ".concat(a.id," in storage."))}})})}else o&&a.setState(r);if(n&&(vt(Ha,a),n.vueFlowId=a.id),o){const s=Fn();(s==null?void 0:s.type.name)!=="VueFlow"&&a.emits.error(new dt(at.USEVUEFLOW_OPTIONS))}return a}function zw(e){const{emits:t,dimensions:n}=qe();let o;rt(()=>{const r=e.value,i=()=>{if(!r)return;const l=Ir(r);(l.width===0||l.height===0)&&t.error(new dt(at.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:l.width||500,height:l.height||500}};i(),window.addEventListener("resize",i),r&&(o=new ResizeObserver(()=>i()),o.observe(r)),fn(()=>{window.removeEventListener("resize",i),o&&r&&o.unobserve(r)})})}const Iw={name:"UserSelection",compatConfig:{MODE:3}},Aw=Se({...Iw,props:{userSelectionRect:{}},setup(e){return(t,n)=>(we(),Pe("div",{class:"vue-flow__selection vue-flow__container",style:kt({width:"".concat(t.userSelectionRect.width,"px"),height:"".concat(t.userSelectionRect.height,"px"),transform:"translate(".concat(t.userSelectionRect.x,"px, ").concat(t.userSelectionRect.y,"px)")})},null,4))}}),Ow=["tabIndex"],Dw={name:"NodesSelection",compatConfig:{MODE:3}},Rw=Se({...Dw,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:i,userSelectionActive:l}=qe(),a=Vc(),s=Y(null),c=Bc({el:s,onStart(v){t.selectionDragStart(v)},onDrag(v){t.selectionDrag(v)},onStop(v){t.selectionDragStop(v)}});rt(()=>{var v;i.value||(v=s.value)==null||v.focus({preventScroll:!0})});const u=J(()=>Mc(o.value)),d=J(()=>({width:"".concat(u.value.width,"px"),height:"".concat(u.value.height,"px"),top:"".concat(u.value.y,"px"),left:"".concat(u.value.x,"px")}));function f(v){t.selectionContextMenu({event:v,nodes:o.value})}function h(v){i||jn[v.key]&&(v.preventDefault(),a({x:jn[v.key].x,y:jn[v.key].y},v.shiftKey))}return(v,p)=>!pe(l)&&u.value.width&&u.value.height?(we(),Pe("div",{key:0,class:Sn(["vue-flow__nodesselection vue-flow__container",pe(r)]),style:kt({transform:"translate(".concat(pe(n).x,"px,").concat(pe(n).y,"px) scale(").concat(pe(n).zoom,")")})},[le("div",{ref_key:"el",ref:s,class:Sn([{dragging:pe(c)},"vue-flow__nodesselection-rect"]),style:kt(d.value),tabIndex:pe(i)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,Ow)],6)):wt("",!0)}});function Bw(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const Fw={name:"Pane",compatConfig:{MODE:3}},Lw=Se({...Fw,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:i,removeSelectedElements:l,userSelectionRect:a,elementsSelectable:s,nodesSelectionActive:c,getSelectedEdges:u,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:v,deleteKeyCode:p,multiSelectionKeyCode:y,multiSelectionActive:g,edgeLookup:w,nodeLookup:m,connectionLookup:b,defaultEdgeOptions:M,connectionStartHandle:A}=qe(),P=Y(null),T=Y(new Set),U=Y(new Set),R=Y(),K=ce(()=>s.value&&(e.isSelecting||i.value)),N=ce(()=>A.value!==null);let D=!1,C=!1;const E=wo(p,{actInsideInputWithModifier:!1}),_=wo(y);Ae(E,H=>{H&&(f(d.value),h(u.value),c.value=!1)}),Ae(_,H=>{g.value=H});function F(H,ee){return ae=>{ae.target===ee&&(H==null||H(ae))}}function L(H){if(D||N.value){D=!1;return}r.paneClick(H),l(),c.value=!1}function Q(H){H.preventDefault(),H.stopPropagation(),r.paneContextMenu(H)}function j(H){r.paneScroll(H)}function re(H){var ee,ae,fe;if(R.value=(ee=t.value)==null?void 0:ee.getBoundingClientRect(),!s.value||!e.isSelecting||H.button!==0||H.target!==P.value||!R.value)return;(fe=(ae=H.target)==null?void 0:ae.setPointerCapture)==null||fe.call(ae,H.pointerId);const{x:xe,y:be}=Bw(H,R.value);C=!0,D=!1,l(),a.value={width:0,height:0,startX:xe,startY:be,x:xe,y:be},r.selectionStart(H)}function V(H){var $,S;var ee;if(!R.value||!a.value)return;D=!0;const{x:ae,y:fe}=jt(H,R.value),{startX:xe=0,startY:be=0}=a.value,ze={startX:xe,startY:be,x:ae<xe?ae:xe,y:fe<be?fe:be,width:Math.abs(ae-xe),height:Math.abs(fe-be)},me=T.value,Ne=U.value;T.value=new Set(Nc(n.value,ze,o.value,v.value===Cl.Partial,!0).map(k=>k.id)),U.value=new Set;const Ie=($=(ee=M.value)==null?void 0:ee.selectable)!=null?$:!0;for(const k of T.value){const B=b.value.get(k);if(B)for(const{edgeId:q}of B.values()){const ge=w.value.get(q);ge&&((S=ge.selectable)!=null?S:Ie)&&U.value.add(q)}}if(!Va(me,T.value)){const k=wn(m.value,T.value,!0);r.nodesChange(k)}if(!Va(Ne,U.value)){const k=wn(w.value,U.value);r.edgesChange(k)}a.value=ze,i.value=!0,c.value=!1}function O(H){var ee;H.button!==0||!C||((ee=H.target)==null||ee.releasePointerCapture(H.pointerId),!i.value&&a.value&&H.target===P.value&&L(H),i.value=!1,a.value=null,c.value=T.value.size>0,r.selectionEnd(H),e.selectionKeyPressed&&(D=!1),C=!1)}return(H,ee)=>(we(),Pe("div",{ref_key:"container",ref:P,class:Sn(["vue-flow__pane vue-flow__container",{selection:H.isSelecting}]),onClick:ee[0]||(ee[0]=ae=>K.value?void 0:F(L,P.value)(ae)),onContextmenu:ee[1]||(ee[1]=ae=>F(Q,P.value)(ae)),onWheelPassive:ee[2]||(ee[2]=ae=>F(j,P.value)(ae)),onPointerenter:ee[3]||(ee[3]=ae=>K.value?void 0:pe(r).paneMouseEnter(ae)),onPointerdown:ee[4]||(ee[4]=ae=>K.value?re(ae):pe(r).paneMouseMove(ae)),onPointermove:ee[5]||(ee[5]=ae=>K.value?V(ae):pe(r).paneMouseMove(ae)),onPointerup:ee[6]||(ee[6]=ae=>K.value?O(ae):void 0),onPointerleave:ee[7]||(ee[7]=ae=>pe(r).paneMouseLeave(ae))},[Qe(H.$slots,"default"),pe(i)&&pe(a)?(we(),yt(Aw,{key:0,"user-selection-rect":pe(a)},null,8,["user-selection-rect"])):wt("",!0),pe(c)&&pe(d).length?(we(),yt(Rw,{key:1})):wt("",!0)],34))}}),Vw={name:"Transform",compatConfig:{MODE:3}},Hw=Se({...Vw,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=qe(),r=J(()=>n.value?!o.value:!1),i=J(()=>"translate(".concat(t.value.x,"px,").concat(t.value.y,"px) scale(").concat(t.value.zoom,")"));return(l,a)=>(we(),Pe("div",{class:"vue-flow__transformationpane vue-flow__container",style:kt({transform:i.value,opacity:r.value?0:void 0})},[Qe(l.$slots,"default")],4))}}),Kw={name:"Viewport",compatConfig:{MODE:3}},Ww=Se({...Kw,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:i,selectionKeyCode:l,panActivationKeyCode:a,panOnScroll:s,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:v,preventScrolling:p,noWheelClassName:y,noPanClassName:g,emits:w,connectionStartHandle:m,userSelectionActive:b,paneDragging:M,d3Zoom:A,d3Selection:P,d3ZoomHandler:T,viewport:U,viewportRef:R,paneClickDistance:K}=qe();zw(R);const N=Co(!1),D=Co(!1);let C=null,E=!1,_=0,F={x:0,y:0,zoom:0};const L=wo(a),Q=wo(l),j=wo(i),re=ce(()=>(!Q.value||Q.value&&l.value===!0)&&(L.value||d.value)),V=ce(()=>L.value||s.value),O=ce(()=>Q.value||l.value===!0&&re.value!==!0);rt(()=>{var B,q,ge;if(!R.value){Or("Viewport element is missing");return}const be=R.value,ze=be.getBoundingClientRect(),me=sy().clickDistance(K.value).scaleExtent([t.value,n.value]).translateExtent(r.value),Ne=At(be).call(me),Ie=Ne.on("wheel.zoom"),$=qn.translate((B=o.value.x)!=null?B:0,(q=o.value.y)!=null?q:0).scale(Rn((ge=o.value.zoom)!=null?ge:1,t.value,n.value)),S=[[0,0],[ze.width,ze.height]],k=me.constrain()($,S,r.value);me.transform(Ne,k),me.wheelDelta(ee),A.value=me,P.value=Ne,T.value=Ie,U.value={x:k.x,y:k.y,zoom:k.k},me.on("start",X=>{var ue;if(!X.sourceEvent)return null;_=X.sourceEvent.button,N.value=!0;const Ce=fe(X.transform);((ue=X.sourceEvent)==null?void 0:ue.type)==="mousedown"&&(M.value=!0),F=Ce,w.viewportChangeStart(Ce),w.moveStart({event:X,flowTransform:Ce})}),me.on("end",X=>{if(!X.sourceEvent)return null;if(N.value=!1,M.value=!1,H(re.value,_!=null?_:0)&&!E&&w.paneContextMenu(X.sourceEvent),E=!1,ae(F,X.transform)){const ue=fe(X.transform);F=ue,w.viewportChangeEnd(ue),w.moveEnd({event:X,flowTransform:ue})}}),me.filter(X=>{var ue;const Ce=j.value||v.value,he=h.value&&X.ctrlKey,W=X.button;if(W===1&&X.type==="mousedown"&&(xe(X,"vue-flow__node")||xe(X,"vue-flow__edge")))return!0;if(!re.value&&!Ce&&!V.value&&!f.value&&!h.value||b.value||!f.value&&X.type==="dblclick"||xe(X,y.value)&&X.type==="wheel"||xe(X,g.value)&&(X.type!=="wheel"||V.value&&X.type==="wheel"&&!j.value)||!h.value&&X.ctrlKey&&X.type==="wheel"||!Ce&&!V.value&&!he&&X.type==="wheel")return!1;if(!h&&X.type==="touchstart"&&((ue=X.touches)==null?void 0:ue.length)>1)return X.preventDefault(),!1;if(!re.value&&(X.type==="mousedown"||X.type==="touchstart")||l.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&W===0||Array.isArray(d.value)&&!d.value.includes(W)&&(X.type==="mousedown"||X.type==="touchstart"))return!1;const se=Array.isArray(d.value)&&d.value.includes(W)||l.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!W||W<=1;return(!X.ctrlKey||L.value||X.type==="wheel")&&se}),Ae([b,re],()=>{b.value&&!N.value?me.on("zoom",null):b.value||me.on("zoom",X=>{U.value={x:X.transform.x,y:X.transform.y,zoom:X.transform.k};const ue=fe(X.transform);E=H(re.value,_!=null?_:0),w.viewportChange(ue),w.move({event:X,flowTransform:ue})})},{immediate:!0}),Ae([b,V,c,j,h,p,y],()=>{V.value&&!j.value&&!b.value?Ne.on("wheel.zoom",X=>{if(xe(X,y.value))return!1;const ue=j.value||v.value,Ce=h.value&&X.ctrlKey;if(!(!p.value||V.value||ue||Ce))return!1;X.preventDefault(),X.stopImmediatePropagation();const W=Ne.property("__zoom").k||1,se=yr();if(!L.value&&X.ctrlKey&&h.value&&se){const Vt=Ut(X),Ht=ee(X),Qt=W*2**Ht;me.scaleTo(Ne,Qt,Vt,X);return}const Ue=X.deltaMode===1?20:1;let ht=c.value===yo.Vertical?0:X.deltaX*Ue,gt=c.value===yo.Horizontal?0:X.deltaY*Ue;!se&&X.shiftKey&&c.value!==yo.Vertical&&!ht&&gt&&(ht=gt,gt=0),me.translateBy(Ne,-(ht/W)*u.value,-(gt/W)*u.value);const Ct=fe(Ne.property("__zoom"));C&&clearTimeout(C),D.value?(w.move({event:X,flowTransform:Ct}),w.viewportChange(Ct),C=setTimeout(()=>{w.moveEnd({event:X,flowTransform:Ct}),w.viewportChangeEnd(Ct),D.value=!1},150)):(D.value=!0,w.moveStart({event:X,flowTransform:Ct}),w.viewportChangeStart(Ct))},{passive:!1}):typeof Ie<"u"&&Ne.on("wheel.zoom",function(X,ue){const Ce=!p.value&&X.type==="wheel"&&!X.ctrlKey,he=j.value||v.value,W=h.value&&X.ctrlKey;if(!he&&!s.value&&!W&&X.type==="wheel"||Ce||xe(X,y.value))return null;X.preventDefault(),Ie.call(this,X,ue)},{passive:!1})},{immediate:!0})});function H(be,ze){return ze===2&&Array.isArray(be)&&be.includes(2)}function ee(be){const ze=be.ctrlKey&&yr()?10:1;return-be.deltaY*(be.deltaMode===1?.05:be.deltaMode?1:.002)*ze}function ae(be,ze){return be.x!==ze.x&&!Number.isNaN(ze.x)||be.y!==ze.y&&!Number.isNaN(ze.y)||be.zoom!==ze.k&&!Number.isNaN(ze.k)}function fe(be){return{x:be.x,y:be.y,zoom:be.k}}function xe(be,ze){return be.target.closest(".".concat(ze))}return(be,ze)=>(we(),Pe("div",{ref_key:"viewportRef",ref:R,class:"vue-flow__viewport vue-flow__container"},[je(Lw,{"is-selecting":O.value,"selection-key-pressed":pe(Q),class:Sn({connecting:!!pe(m),dragging:pe(M),draggable:pe(d)===!0||Array.isArray(pe(d))&&pe(d).includes(0)})},{default:ft(()=>[je(Hw,null,{default:ft(()=>[Qe(be.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Uw=["id"],Gw=["id"],Yw=["id"],jw={name:"A11yDescriptions",compatConfig:{MODE:3}},Xw=Se({...jw,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=qe();return(r,i)=>(we(),Pe(xt,null,[le("div",{id:"".concat(pe(wc),"-").concat(pe(t)),style:{display:"none"}}," Press enter or space to select a node. "+An(pe(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Uw),le("div",{id:"".concat(pe(xc),"-").concat(pe(t)),style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Gw),pe(n)?wt("",!0):(we(),Pe("div",{key:0,id:"".concat(pe(vy),"-").concat(pe(t)),"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},An(pe(o)),9,Yw))],64))}});function Zw(){const e=qe();Ae(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function qw(e,t,n){return n===Me.Left?e-t:n===Me.Right?e+t:e}function Jw(e,t,n){return n===Me.Top?e-t:n===Me.Bottom?e+t:e}const kl=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=Me.Top,type:r}){return x("circle",{class:"vue-flow__edgeupdater vue-flow__edgeupdater-".concat(r),cx:qw(t,e,o),cy:Jw(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};kl.props=["radius","centerX","centerY","position","type"];kl.compatConfig={MODE:3};const Ya=kl,Qw=Se({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:i,nodesSelectionActive:l,noPanClassName:a,getEdgeTypes:s,removeSelectedEdges:c,findEdge:u,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:v,elementsSelectable:p,edgesUpdatable:y,edgesFocusable:g,hooks:w}=qe(),m=J(()=>u(e.id)),{emit:b,on:M}=Wy(m.value,i),A=Xe(Dr),P=Fn(),T=Y(!1),U=Y(!1),R=Y(""),K=Y(null),N=Y("source"),D=Y(null),C=ce(()=>typeof m.value.selectable>"u"?p.value:m.value.selectable),E=ce(()=>typeof m.value.updatable>"u"?y.value:m.value.updatable),_=ce(()=>typeof m.value.focusable>"u"?g.value:m.value.focusable);vt(Vy,e.id),vt(Hy,D);const F=J(()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class),L=J(()=>m.value.style instanceof Function?m.value.style(m.value):m.value.style),Q=J(()=>{var q;const S=m.value.type||"default",k=A==null?void 0:A["edge-".concat(S)];if(k)return k;let B=(q=m.value.template)!=null?q:s.value[S];if(typeof B=="string"&&P){const ge=Object.keys(P.appContext.components);ge&&ge.includes(S)&&(B=rl(S,!1))}return B&&typeof B!="string"?B:(i.error(new dt(at.EDGE_TYPE_MISSING,B)),!1)}),{handlePointerDown:j}=Fc({nodeId:R,handleId:K,type:N,isValidConnection:f,edgeUpdaterType:N,onEdgeUpdate:O,onEdgeUpdateEnd:H});return()=>{var gt;const S=d(m.value.source),k=d(m.value.target),B="pathOptions"in m.value?m.value.pathOptions:{};if(!S&&!k)return i.error(new dt(at.EDGE_SOURCE_TARGET_MISSING,m.value.id,m.value.source,m.value.target)),null;if(!S)return i.error(new dt(at.EDGE_SOURCE_MISSING,m.value.id,m.value.source)),null;if(!k)return i.error(new dt(at.EDGE_TARGET_MISSING,m.value.id,m.value.target)),null;if(!m.value||m.value.hidden||S.hidden||k.hidden)return null;let q;o.value===kn.Strict?q=S.handleBounds.source:q=[...S.handleBounds.source||[],...S.handleBounds.target||[]];const ge=Oa(q,m.value.sourceHandle);let X;o.value===kn.Strict?X=k.handleBounds.target:X=[...k.handleBounds.target||[],...k.handleBounds.source||[]];const ue=Oa(X,m.value.targetHandle),Ce=(ge==null?void 0:ge.position)||Me.Bottom,he=(ue==null?void 0:ue.position)||Me.Top,{x:W,y:se}=Jn(S,ge,Ce),{x:Ue,y:ht}=Jn(k,ue,he);return m.value.sourceX=W,m.value.sourceY=se,m.value.targetX=Ue,m.value.targetY=ht,x("g",{ref:D,key:e.id,"data-id":e.id,class:["vue-flow__edge","vue-flow__edge-".concat(Q.value===!1?"default":m.value.type||"default"),a.value,F.value,{updating:T.value,selected:m.value.selected,animated:m.value.animated,inactive:!C.value&&!w.value.edgeClick.hasListeners()}],tabIndex:_.value?0:void 0,"aria-label":m.value.ariaLabel===null?void 0:(gt=m.value.ariaLabel)!=null?gt:"Edge from ".concat(m.value.source," to ").concat(m.value.target),"aria-describedby":_.value?"".concat(xc,"-").concat(t):void 0,"aria-roledescription":"edge",role:_.value?"group":"img",...m.value.domAttributes,onClick:ae,onContextmenu:fe,onDblclick:xe,onMouseenter:be,onMousemove:ze,onMouseleave:me,onKeyDown:_.value?$:void 0},[U.value?null:x(Q.value===!1?s.value.default:Q.value,{id:e.id,sourceNode:S,targetNode:k,source:m.value.source,target:m.value.target,type:m.value.type,updatable:E.value,selected:m.value.selected,animated:m.value.animated,label:m.value.label,labelStyle:m.value.labelStyle,labelShowBg:m.value.labelShowBg,labelBgStyle:m.value.labelBgStyle,labelBgPadding:m.value.labelBgPadding,labelBgBorderRadius:m.value.labelBgBorderRadius,data:m.value.data,events:{...m.value.events,...M},style:L.value,markerStart:"url('#".concat(Mo(m.value.markerStart,t),"')"),markerEnd:"url('#".concat(Mo(m.value.markerEnd,t),"')"),sourcePosition:Ce,targetPosition:he,sourceX:W,sourceY:se,targetX:Ue,targetY:ht,sourceHandleId:m.value.sourceHandle,targetHandleId:m.value.targetHandle,interactionWidth:m.value.interactionWidth,...B}),[E.value==="source"||E.value===!0?[x("g",{onMousedown:Ne,onMouseenter:re,onMouseout:V},x(Ya,{position:Ce,centerX:W,centerY:se,radius:r.value,type:"source","data-type":"source"}))]:null,E.value==="target"||E.value===!0?[x("g",{onMousedown:Ie,onMouseenter:re,onMouseout:V},x(Ya,{position:he,centerX:Ue,centerY:ht,radius:r.value,type:"target","data-type":"target"}))]:null]])};function re(){T.value=!0}function V(){T.value=!1}function O(S,k){b.update({event:S,edge:m.value,connection:k})}function H(S){b.updateEnd({event:S,edge:m.value}),U.value=!1}function ee(S,k){var B;S.button===0&&(U.value=!0,R.value=k?m.value.target:m.value.source,K.value=(B=k?m.value.targetHandle:m.value.sourceHandle)!=null?B:null,N.value=k?"target":"source",b.updateStart({event:S,edge:m.value}),j(S))}function ae(S){var k;const B={event:S,edge:m.value};C.value&&(l.value=!1,m.value.selected&&h.value?(c([m.value]),(k=D.value)==null||k.blur()):n([m.value])),b.click(B)}function fe(S){b.contextMenu({event:S,edge:m.value})}function xe(S){b.doubleClick({event:S,edge:m.value})}function be(S){b.mouseEnter({event:S,edge:m.value})}function ze(S){b.mouseMove({event:S,edge:m.value})}function me(S){b.mouseLeave({event:S,edge:m.value})}function Ne(S){ee(S,!0)}function Ie(S){ee(S,!1)}function $(S){var k;!v.value&&Cc.includes(S.key)&&C.value&&(S.key==="Escape"?((k=D.value)==null||k.blur(),c([u(e.id)])):n([u(e.id)]))}}}),e1=Qw,t1=Se({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:i,connectionLineType:l,connectionLineStyle:a,connectionLineOptions:s,connectionStatus:c,viewport:u,findNode:d}=qe(),f=(e=Xe(Dr))==null?void 0:e["connection-line"],h=J(()=>{var w;return d((w=o.value)==null?void 0:w.nodeId)}),v=J(()=>{var m;var w;return(m=d((w=r.value)==null?void 0:w.nodeId))!=null?m:null}),p=J(()=>({x:(i.value.x-u.value.x)/u.value.zoom,y:(i.value.y-u.value.y)/u.value.zoom})),y=J(()=>s.value.markerStart?"url(#".concat(Mo(s.value.markerStart,t),")"):""),g=J(()=>s.value.markerEnd?"url(#".concat(Mo(s.value.markerEnd,t),")"):"");return()=>{var L,Q,j,re,V,O,H,ee,ae;var w,m,b;if(!h.value||!o.value)return null;const M=o.value.id,A=o.value.type,P=h.value.handleBounds;let T=(L=P==null?void 0:P[A])!=null?L:[];if(n.value===kn.Loose){const fe=(Q=P==null?void 0:P[A==="source"?"target":"source"])!=null?Q:[];T=[...T,...fe]}if(!T)return null;const U=(j=M?T.find(fe=>fe.id===M):T[0])!=null?j:null,R=(re=U==null?void 0:U.position)!=null?re:Me.Top,{x:K,y:N}=Jn(h.value,U,R);let D=null;v.value&&(n.value===kn.Strict?D=((w=v.value.handleBounds[A==="source"?"target":"source"])==null?void 0:w.find(fe=>{var xe;return fe.id===((xe=r.value)==null?void 0:xe.id)}))||null:D=((m=[...(V=v.value.handleBounds.source)!=null?V:[],...(O=v.value.handleBounds.target)!=null?O:[]])==null?void 0:m.find(fe=>{var xe;return fe.id===((xe=r.value)==null?void 0:xe.id)}))||null);const C=(H=(b=r.value)==null?void 0:b.position)!=null?H:R?Yi[R]:null;if(!R||!C)return null;const E=(ae=(ee=l.value)!=null?ee:s.value.type)!=null?ae:Mn.Bezier;let _="";const F={sourceX:K,sourceY:N,sourcePosition:R,targetX:p.value.x,targetY:p.value.y,targetPosition:C};return E===Mn.Bezier?[_]=Uc(F):E===Mn.Step?[_]=Xi({...F,borderRadius:0}):E===Mn.SmoothStep?[_]=Xi(F):E===Mn.SimpleBezier?[_]=Gc(F):_="M".concat(K,",").concat(N," ").concat(p.value.x,",").concat(p.value.y),x("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},x("g",{class:"vue-flow__connection"},f?x(f,{sourceX:K,sourceY:N,sourcePosition:R,targetX:p.value.x,targetY:p.value.y,targetPosition:C,sourceNode:h.value,sourceHandle:U,targetNode:v.value,targetHandle:D,markerEnd:g.value,markerStart:y.value,connectionStatus:c.value}):x("path",{d:_,class:[s.value.class,c,"vue-flow__connection-path"],style:{...a.value,...s.value.style},"marker-end":g.value,"marker-start":y.value})))}}}),n1=t1,o1=["id","markerWidth","markerHeight","markerUnits","orient"],r1={name:"MarkerType",compatConfig:{MODE:3}},i1=Se({...r1,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(we(),Pe("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:"".concat(t.width),markerHeight:"".concat(t.height),markerUnits:t.markerUnits,orient:t.orient},[t.type===pe(Wi).ArrowClosed?(we(),Pe("polyline",{key:0,style:kt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):wt("",!0),t.type===pe(Wi).Arrow?(we(),Pe("polyline",{key:1,style:kt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):wt("",!0)],8,o1))}}),l1={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},a1={name:"MarkerDefinitions",compatConfig:{MODE:3}},s1=Se({...a1,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=qe(),i=J(()=>{const l=new Set,a=[],s=c=>{if(c){const u=Mo(c,t);l.has(u)||(typeof c=="object"?a.push({...c,id:u,color:c.color||r.value}):a.push({id:u,color:r.value,type:c}),l.add(u))}};for(const c of[o.value.markerEnd,o.value.markerStart])s(c);for(const c of n.value)for(const u of[c.markerStart,c.markerEnd])s(u);return a.sort((c,u)=>c.id.localeCompare(u.id))});return(l,a)=>(we(),Pe("svg",l1,[le("defs",null,[(we(!0),Pe(xt,null,zo(i.value,s=>(we(),yt(i1,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,"stroke-width":s.strokeWidth,orient:s.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),c1={name:"Edges",compatConfig:{MODE:3}},u1=Se({...c1,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=qe();return(r,i)=>(we(),Pe(xt,null,[je(s1),(we(!0),Pe(xt,null,zo(pe(n),l=>(we(),Pe("svg",{key:l.id,class:"vue-flow__edges vue-flow__container",style:kt({zIndex:pe(My)(l,pe(t),pe(o))})},[je(pe(e1),{id:l.id},null,8,["id"])],4))),128)),je(pe(n1))],64))}}),d1=Se({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:i,emits:l,removeSelectedNodes:a,addSelectedNodes:s,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:v,ariaLiveMessage:p,snapToGrid:y,snapGrid:g,nodeDragThreshold:w,nodesDraggable:m,elementsSelectable:b,nodesConnectable:M,nodesFocusable:A,hooks:P}=qe(),T=Y(null);vt(Rc,T),vt(Dc,e.id);const U=Xe(Dr),R=Fn(),K=Vc(),{node:N,parentNode:D}=Lc(e.id),{emit:C,on:E}=jy(N,l),_=ce(()=>typeof N.draggable>"u"?m.value:N.draggable),F=ce(()=>typeof N.selectable>"u"?b.value:N.selectable),L=ce(()=>typeof N.connectable>"u"?M.value:N.connectable),Q=ce(()=>typeof N.focusable>"u"?A.value:N.focusable),j=J(()=>F.value||_.value||P.value.nodeClick.hasListeners()||P.value.nodeDoubleClick.hasListeners()||P.value.nodeMouseEnter.hasListeners()||P.value.nodeMouseMove.hasListeners()||P.value.nodeMouseLeave.hasListeners()),re=ce(()=>!!N.dimensions.width&&!!N.dimensions.height),V=J(()=>{const k=N.type||"default",B=U==null?void 0:U["node-".concat(k)];if(B)return B;let q=N.template||d.value[k];if(typeof q=="string"&&R){const ge=Object.keys(R.appContext.components);ge&&ge.includes(k)&&(q=rl(k,!1))}return q&&typeof q!="string"?q:(l.error(new dt(at.NODE_TYPE_MISSING,q)),!1)}),O=Bc({id:e.id,el:T,disabled:()=>!_.value,selectable:F,dragHandle:()=>N.dragHandle,onStart(k){C.dragStart(k)},onDrag(k){C.drag(k)},onStop(k){C.dragStop(k)},onClick(k){$(k)}}),H=J(()=>N.class instanceof Function?N.class(N):N.class),ee=J(()=>{const k=(N.style instanceof Function?N.style(N):N.style)||{},B=N.width instanceof Function?N.width(N):N.width,q=N.height instanceof Function?N.height(N):N.height;return!k.width&&B&&(k.width=typeof B=="string"?B:"".concat(B,"px")),!k.height&&q&&(k.height=typeof q=="string"?q:"".concat(q,"px")),k}),ae=ce(()=>{var k,B;return Number((B=(k=N.zIndex)!=null?k:ee.value.zIndex)!=null?B:0)});return u(k=>{(k.includes(e.id)||!k.length)&&xe()}),rt(()=>{Ae(()=>N.hidden,(k=!1,B,q)=>{!k&&T.value&&(e.resizeObserver.observe(T.value),q(()=>{T.value&&e.resizeObserver.unobserve(T.value)}))},{immediate:!0,flush:"post"})}),Ae([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{et(()=>{c([{id:e.id,nodeElement:T.value,forceUpdate:!0}])})}),Ae([()=>N.position.x,()=>N.position.y,()=>{var k;return(k=D.value)==null?void 0:k.computedPosition.x},()=>{var k;return(k=D.value)==null?void 0:k.computedPosition.y},()=>{var k;return(k=D.value)==null?void 0:k.computedPosition.z},ae,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var k;return(k=D.value)==null?void 0:k.dimensions.height},()=>{var k;return(k=D.value)==null?void 0:k.dimensions.width}],([k,B,q,ge,X,ue])=>{const Ce={x:k,y:B,z:ue+(h.value&&N.selected?1e3:0)};typeof q<"u"&&typeof ge<"u"?N.computedPosition=Cy({x:q,y:ge,z:X},Ce):N.computedPosition=Ce},{flush:"post",immediate:!0}),Ae([()=>N.extent,f],([k,B],[q,ge])=>{(k!==q||B!==ge)&&fe()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?Oi(()=>re).toBe(!0).then(fe):fe(),()=>{var k,B;return N.hidden?null:x("div",{ref:T,"data-id":N.id,class:["vue-flow__node","vue-flow__node-".concat(V.value===!1?"default":N.type||"default"),{[n.value]:_.value,dragging:O==null?void 0:O.value,draggable:_.value,selected:N.selected,selectable:F.value,parent:N.isParent},H.value],style:{visibility:re.value?"visible":"hidden",zIndex:(k=N.computedPosition.z)!=null?k:ae.value,transform:"translate(".concat(N.computedPosition.x,"px,").concat(N.computedPosition.y,"px)"),pointerEvents:j.value?"all":"none",...ee.value},tabIndex:Q.value?0:void 0,role:Q.value?"group":void 0,"aria-describedby":v.value?void 0:"".concat(wc,"-").concat(t),"aria-label":N.ariaLabel,"aria-roledescription":"node",...N.domAttributes,onMouseenter:be,onMousemove:ze,onMouseleave:me,onContextmenu:Ne,onClick:$,onDblclick:Ie,onKeydown:S},[x(V.value===!1?d.value.default:V.value,{id:N.id,type:N.type,data:N.data,events:{...N.events,...E},selected:N.selected,resizing:N.resizing,dragging:O.value,connectable:L.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:(B=N.computedPosition.z)!=null?B:ae.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:xe})])};function fe(){const k=N.computedPosition,{computedPosition:B,position:q}=_l(N,y.value?Ar(k,g.value):k,l.error,f.value,D.value);(N.computedPosition.x!==B.x||N.computedPosition.y!==B.y)&&(N.computedPosition={...N.computedPosition,...B}),(N.position.x!==q.x||N.position.y!==q.y)&&(N.position=q)}function xe(){T.value&&c([{id:e.id,nodeElement:T.value,forceUpdate:!0}])}function be(k){O!=null&&O.value||C.mouseEnter({event:k,node:N})}function ze(k){O!=null&&O.value||C.mouseMove({event:k,node:N})}function me(k){O!=null&&O.value||C.mouseLeave({event:k,node:N})}function Ne(k){return C.contextMenu({event:k,node:N})}function Ie(k){return C.doubleClick({event:k,node:N})}function $(k){F.value&&(!o.value||!_.value||w.value>0)&&ji(N,i.value,s,a,r,!1,T.value),C.click({event:k,node:N})}function S(k){if(!(Ui(k)||v.value))if(Cc.includes(k.key)&&F.value){const B=k.key==="Escape";ji(N,i.value,s,a,r,B,T.value)}else _.value&&N.selected&&jn[k.key]&&(k.preventDefault(),p.value="Moved selected node ".concat(k.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~N.position.x,", y: ").concat(~~N.position.y),K({x:jn[k.key].x,y:jn[k.key].y},k.shiftKey))}}}),f1=d1;function h1(e={includeHiddenNodes:!1}){const{nodes:t}=qe();return J(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const v1={class:"vue-flow__nodes vue-flow__container"},g1={name:"Nodes",compatConfig:{MODE:3}},p1=Se({...g1,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=qe(),r=h1(),i=Y();return Ae(r,l=>{l&&et(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),rt(()=>{i.value=new ResizeObserver(l=>{const a=l.map(s=>({id:s.target.getAttribute("data-id"),nodeElement:s.target,forceUpdate:!0}));et(()=>n(a))})}),fn(()=>{var l;return(l=i.value)==null?void 0:l.disconnect()}),(l,a)=>(we(),Pe("div",v1,[i.value?(we(!0),Pe(xt,{key:0},zo(pe(t),(s,c,u,d)=>{const f=[s.id];if(d&&d.key===s.id&&ud(d,f))return d;const h=(we(),yt(pe(f1),{id:s.id,key:s.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return h.memo=f,h},a,0),128)):wt("",!0)]))}});function m1(){const{emits:e}=qe();rt(()=>{if(Oc()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new dt(at.MISSING_STYLES))}})}const b1=le("div",{class:"vue-flow__edge-labels"},null,-1),y1={name:"VueFlow",compatConfig:{MODE:3}},w1=Se({...y1,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=sd(),i=li(o,"modelValue",n),l=li(o,"nodes",n),a=li(o,"edges",n),s=qe(o),c=Jy({modelValue:i,nodes:l,edges:a},o,s);return ew(n,s.hooks),Zw(),m1(),vt(Dr,r),nl(()=>{c()}),t(s),(u,d)=>(we(),Pe("div",{ref:pe(s).vueFlowRef,class:"vue-flow"},[je(Ww,null,{default:ft(()=>[je(u1),b1,je(p1),Qe(u.$slots,"zoom-pane")]),_:3}),Qe(u.$slots,"default"),je(Xw)],512))}}),x1={name:"Panel",compatConfig:{MODE:3}},C1=Se({...x1,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=qe(),o=J(()=>"".concat(t.position).split("-"));return(r,i)=>(we(),Pe("div",{class:Sn(["vue-flow__panel",o.value]),style:kt({pointerEvents:pe(n)?"none":"all"})},[Qe(r.$slots,"default")],6))}}),_1={name:"ControlButton",compatConfig:{MODE:3}},S1=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},k1={class:"vue-flow__controls-button"};function E1(e,t,n,o,r,i){return we(),Pe("button",k1,[Qe(e.$slots,"default")])}const qo=S1(_1,[["render",E1]]),$1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},M1=le("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),N1=[M1];function P1(e,t){return we(),Pe("svg",$1,N1)}const T1={render:P1},z1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},I1=le("path",{d:"M0 0h32v4.2H0z"},null,-1),A1=[I1];function O1(e,t){return we(),Pe("svg",z1,A1)}const D1={render:O1},R1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},B1=le("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),F1=[B1];function L1(e,t){return we(),Pe("svg",R1,F1)}const V1={render:L1},H1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K1=le("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),W1=[K1];function U1(e,t){return we(),Pe("svg",H1,W1)}const G1={render:U1},Y1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},j1=le("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),X1=[j1];function Z1(e,t){return we(),Pe("svg",Y1,X1)}const q1={render:Z1},J1={name:"Controls",compatConfig:{MODE:3}},Q1=Se({...J1,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>yc.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,setInteractive:i,zoomIn:l,zoomOut:a,fitView:s,viewport:c,minZoom:u,maxZoom:d}=qe(),f=ce(()=>n.value||o.value||r.value),h=ce(()=>c.value.zoom<=u.value),v=ce(()=>c.value.zoom>=d.value);function p(){l(),t("zoomIn")}function y(){a(),t("zoomOut")}function g(){s(e.fitViewParams),t("fitView")}function w(){i(!f.value),t("interactionChange",!f.value)}return(m,b)=>(we(),yt(pe(C1),{class:"vue-flow__controls",position:m.position},{default:ft(()=>[Qe(m.$slots,"top"),m.showZoom?(we(),Pe(xt,{key:0},[Qe(m.$slots,"control-zoom-in",{},()=>[je(qo,{class:"vue-flow__controls-zoomin",disabled:v.value,onClick:p},{default:ft(()=>[Qe(m.$slots,"icon-zoom-in",{},()=>[(we(),yt(xn(pe(T1))))])]),_:3},8,["disabled"])]),Qe(m.$slots,"control-zoom-out",{},()=>[je(qo,{class:"vue-flow__controls-zoomout",disabled:h.value,onClick:y},{default:ft(()=>[Qe(m.$slots,"icon-zoom-out",{},()=>[(we(),yt(xn(pe(D1))))])]),_:3},8,["disabled"])])],64)):wt("",!0),m.showFitView?Qe(m.$slots,"control-fit-view",{key:1},()=>[je(qo,{class:"vue-flow__controls-fitview",onClick:g},{default:ft(()=>[Qe(m.$slots,"icon-fit-view",{},()=>[(we(),yt(xn(pe(V1))))])]),_:3})]):wt("",!0),m.showInteractive?Qe(m.$slots,"control-interactive",{key:2},()=>[m.showInteractive?(we(),yt(qo,{key:0,class:"vue-flow__controls-interactive",onClick:w},{default:ft(()=>[f.value?Qe(m.$slots,"icon-unlock",{key:0},()=>[(we(),yt(xn(pe(q1))))]):wt("",!0),f.value?wt("",!0):Qe(m.$slots,"icon-lock",{key:1},()=>[(we(),yt(xn(pe(G1))))])]),_:3})):wt("",!0)]):wt("",!0),Qe(m.$slots,"default")]),_:3},8,["position"]))}}),ex={class:"preview-area"},tx={class:"preview-title flex justify-between"},nx={class:"zoom-controls flex gap-2"},ox={class:"flowchart-content flex-1 flex flex-col"},rx={class:"controls flex justify-between items-center p-2 border-b"},ix={class:"node-icon mb-2"},lx={class:"node-label text-center font-medium"},ax={__name:"FlowchartPreview",setup(e){const t=Q1,n=Y([]),{zoomIn:o,zoomOut:r,fitView:i,$reset:l}=qe(),a=Y(null),s=Y(null),c=Y(!1),u={nodes:[{id:"start",position:{x:250,y:50},data:{label:"开始",icon:la,class:"node-start border-blue-500 bg-blue-50"},style:{width:100,height:80},type:"custom"},{id:"survey",position:{x:100,y:200},data:{label:"现场勘察",icon:la,class:"node-survey border-green-500 bg-green-50"},style:{width:100,height:80},type:"custom"},{id:"design",position:{x:250,y:200},data:{label:"方案设计",icon:dp,class:"node-design border-purple-500 bg-purple-50"},style:{width:100,height:80},type:"custom"},{id:"review",position:{x:400,y:200},data:{label:"规范审查",icon:ip,class:"node-review border-amber-500 bg-amber-50"},style:{width:100,height:80},type:"custom"},{id:"approve",position:{x:250,y:350},data:{label:"审批通过",icon:ap,class:"node-approve border-green-500 bg-green-50"},style:{width:100,height:80},type:"custom"},{id:"save",position:{x:250,y:500},data:{label:"存档",icon:vp,class:"node-save border-gray-500 bg-gray-50"},style:{width:100,height:80},type:"custom"}],edges:[{id:"e1-2",source:"start",target:"survey",label:"分支1"},{id:"e1-3",source:"start",target:"design",label:"分支2"},{id:"e1-4",source:"start",target:"review",label:"分支3"},{id:"e2-5",source:"survey",target:"approve"},{id:"e3-5",source:"design",target:"approve"},{id:"e4-5",source:"review",target:"approve"},{id:"e5-6",source:"approve",target:"save"}]},d=Y(0),f=()=>{a.value&&(l(),et(()=>{n.value=[...u.nodes,...u.edges],i({padding:.2})}))},h=()=>{const v=s.value;document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{c.value=!1,et(()=>i({padding:.2}))}):v.requestFullscreen&&v.requestFullscreen().then(()=>{c.value=!0,et(()=>i({padding:.2}))}).catch(p=>{console.error("全屏请求失败:",p)})};return document.addEventListener("fullscreenchange",()=>{c.value=!!document.fullscreenElement}),rt(()=>{n.value=[...u.nodes,...u.edges],et(()=>{i({padding:.2})})}),(v,p)=>(we(),Pe("div",ex,[le("h3",tx,[p[1]||(p[1]=To(" 工程规范流程图 ")),le("div",nx,[le("button",{onClick:f,class:"p-1 px-3 border rounded"},"重置视图"),le("button",{onClick:h,class:"p-1 px-3 border rounded"},An(c.value?"退出全屏":"全屏显示"),1)])]),le("div",ox,[le("div",rx,[je(pe(t))]),le("div",{class:"vue-flow-container flex-1 min-h-[400px]",ref_key:"flowContainer",ref:s},[(we(),yt(pe(w1),{key:d.value,modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=y=>n.value=y),"zoom-on-scroll":!0,"zoom-on-pan":!0,"fit-view-on-init":!0,class:"w-full h-full",ref_key:"vueFlowInstance",ref:a},{"node-custom":ft(y=>[le("div",{style:kt(y.style),class:Sn(["node-container p-3 rounded border-2 flex flex-col items-center justify-center",y.data.class])},[le("div",ix,[je(pe(_i),{component:y.data.icon,size:"24"},null,8,["component"])]),le("div",lx,An(y.data.label),1)],6)]),_:1},8,["modelValue"]))],512)])]))}},sx=qt(ax,[["__scopeId","data-v-aca664b4"]]),cx={},ux={class:"preview-area"};function dx(e,t){return we(),Pe("div",ux,t[0]||(t[0]=[le("h3",{class:"preview-title"},"规范检索结果",-1),le("div",{class:"retrieval-content flex-1 overflow-auto p-4"},[le("div",{class:"placeholder"},"规范检索结果展示区域")],-1)]))}const fx=qt(cx,[["render",dx],["__scopeId","data-v-fa6e910d"]]),hx={},vx={class:"preview-area"};function gx(e,t){return we(),Pe("div",vx,t[0]||(t[0]=[le("h3",{class:"preview-title"},"智能问答",-1),le("div",{class:"qa-content flex-1 overflow-auto p-4"},[le("div",{class:"placeholder"},"智能问答交互区域")],-1)]))}const bi=qt(hx,[["render",gx],["__scopeId","data-v-06254ec5"]]),px={},mx={class:"preview-area"};function bx(e,t){return we(),Pe("div",mx,t[0]||(t[0]=[le("h3",{class:"preview-title"},"标准对比",-1),le("div",{class:"comparison-content flex-1 overflow-auto p-4"},[le("div",{class:"placeholder"},"标准对比表格展示区域")],-1)]))}const yx=qt(px,[["render",bx],["__scopeId","data-v-728dd631"]]),wx={},xx={class:"preview-area"};function Cx(e,t){return we(),Pe("div",xx,t[0]||(t[0]=[le("h3",{class:"preview-title"},"智能审查",-1),le("div",{class:"review-content flex-1 overflow-auto p-4"},[le("div",{class:"placeholder"},"智能审查结果展示区域")],-1)]))}const _x=qt(wx,[["render",Cx],["__scopeId","data-v-25c4fac8"]]),Sx={class:"wh-full flex gap-20px justify-center items-center"},kx={class:"wh-full flex"},Ex={class:"flex flex-col gap-12px flex-[0_0_50px] border-r-2 items-center border-gray-200 pt-20px"},$x={class:"p-10px flex-1 flex flex-col overflow-hidden"},Mx={class:"flex gap-5px items-center mb-10px"},Nx={class:"wh-full flex flex-col"},Px={class:"foot p-10px h-100px border-t border-gray-200"},Tx={class:"flex gap-10px mb-10px"},zx={class:"model-select flex items-center gap-8px"},Ix={class:"role-select flex items-center gap-8px"},Ax={class:"task-select flex items-center gap-8px"},Ox={class:"task-select flex items-center gap-8px"},Dx={class:"input flex gap-10px items-center"},Rx={class:"wh-full flex flex-col h-full"},Bx={class:"section-title"},Fx={class:"document-preview flex-1 overflow-auto"},Lx={__name:"page1",setup(e){const t=Y([.125,.625,.25]),n=Y(""),o=Y([ii,cp,ii]),r=Y([{label:"工程勘察规范",key:"survey",children:[{label:"岩土工程勘察规范 GB 50021-2001(2009 年版)",key:"GB50021"},{label:"工程测量规范 GB 50026-2020",key:"GB50026"},{label:"建筑抗震设计规范 GB 50011-2010(2016 年版)",key:"GB50011"}]},{label:"建筑设计规范",key:"design",children:[{label:"民用建筑设计统一标准 GB 50352-2019",key:"GB50352"},{label:"建筑设计防火规范 GB 50016-2014(2018 年版)",key:"GB50016"},{label:"住宅设计规范 GB 50096-2011",key:"GB50096"}]},{label:"结构设计规范",key:"structure",children:[{label:"混凝土结构设计规范 GB 50010-2010(2015 年版)",key:"GB50010"},{label:"钢结构设计标准 GB 50017-2017",key:"GB50017"},{label:"建筑地基基础设计规范 GB 50007-2011",key:"GB50007"}]}]),i=Y([]);Ae(r,y=>{i.value=y.map(g=>g.key)},{immediate:!0});const l=y=>{var w;const g=((w=y.option)==null?void 0:w.label)||"";return console.log("Tooltip content:",g),x(gg,{},{trigger:()=>x("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},g),default:()=>g})},a=[{label:"GPT-4o",value:"general"},{label:"DeepSeek",value:"engineering"},{label:"Grok4",value:"design"}],s=[{label:"普通用户",value:"user"},{label:"工程师",value:"engineer"},{label:"管理员",value:"admin"}],c=[{label:"流程图",value:"flowchart"},{label:"规范检索",value:"retrieval"},{label:"智能问答",value:"qa"},{label:"标准对比",value:"comparison"},{label:"智能审查",value:"review"}],u=Y("general"),d=Y(null),f=Y("flowchart"),h=Y(!1),v=Y(bi);Ae(f,y=>{switch(y){case"flowchart":v.value=sx;break;case"retrieval":v.value=fx;break;case"qa":v.value=bi;break;case"comparison":v.value=yx;break;case"review":v.value=_x;break;default:v.value=bi}},{immediate:!0});const p=Y("");return(y,g)=>{const w=Mg,m=kg;return we(),Pe("div",Sx,[je(op,{modelValue:t.value,"onUpdate:modelValue":g[6]||(g[6]=b=>t.value=b)},{panel1:ft(()=>[le("div",kx,[le("div",Ex,[(we(!0),Pe(xt,null,zo(o.value,(b,M)=>(we(),Pe("div",{key:M,class:"w-30px h-30px flex justify-center items-center border border-gray-200 hover:border-blue cursor-pointer"},[je(pe(_i),{size:"20",component:b},null,8,["component"])]))),128))]),le("div",$x,[le("div",Mx,[je(pe(Ii),{value:p.value,"onUpdate:value":g[0]||(g[0]=b=>p.value=b),placeholder:"搜索文档...",size:"small"},{prefix:ft(()=>[je(pe(_i),{component:pe(ii)},null,8,["component"])]),_:1},8,["value"])]),je(pe(Hg),{data:r.value,"default-expanded-keys":i.value,"render-label":l,checkable:"",cascade:"",pattern:p.value,"check-strategy":"all",class:"flex-1 overflow-auto"},null,8,["data","default-expanded-keys","pattern"])])])]),panel2:ft(()=>[le("div",Nx,[g[14]||(g[14]=le("div",{class:"head flex h-120px border-b border-gray-200 items-center px-20px gap-20px"},null,-1)),je(m,{direction:"vertical",min:"100px"},{1:ft(()=>g[7]||(g[7]=[le("div",{class:"content flex-1"},null,-1)])),2:ft(()=>[le("div",Px,[le("div",Tx,[le("div",zx,[g[8]||(g[8]=le("span",{class:"label"},"大模型：",-1)),je(pe(ni),{value:u.value,"onUpdate:value":g[1]||(g[1]=b=>u.value=b),options:a,placeholder:"选择大模型",clearable:"",style:{width:"180px"}},null,8,["value"])]),le("div",Ix,[g[9]||(g[9]=le("span",{class:"label"},"角色：",-1)),je(pe(ni),{value:d.value,"onUpdate:value":g[2]||(g[2]=b=>d.value=b),options:s,placeholder:"默认角色",clearable:"",style:{width:"180px"}},null,8,["value"])]),le("div",Ax,[g[10]||(g[10]=le("span",{class:"label"},"任务：",-1)),je(pe(ni),{value:f.value,"onUpdate:value":g[3]||(g[3]=b=>f.value=b),options:c,placeholder:"智能问答",clearable:"",style:{width:"180px"}},null,8,["value"])]),le("div",Ox,[g[11]||(g[11]=le("span",{class:"label"},"是否深度思考：",-1)),je(w,{value:h.value,"onUpdate:value":g[4]||(g[4]=b=>h.value=b)},null,8,["value"])])]),le("div",Dx,[je(pe(Ii),{modelValue:n.value,"onUpdate:modelValue":g[5]||(g[5]=b=>n.value=b),placeholder:"请输入内容",style:{"--n-height":"34px!important"}},null,8,["modelValue"]),je(pe(is),{onClick:y.handleSend},{default:ft(()=>g[12]||(g[12]=[To("发送")])),_:1,__:[12]},8,["onClick"])]),g[13]||(g[13]=le("div",{class:"tool"},null,-1))])]),_:1})])]),panel3:ft(()=>{var b;return[le("div",Rx,[le("div",Bx,An((b=c.find(M=>M.value===f.value))==null?void 0:b.label),1),le("div",Fx,[(we(),yt(xn(v.value)))])])]}),_:1},8,["modelValue"]),je(tp)])}}},Vx=qt(Lx,[["__scopeId","data-v-e2c958e1"]]),Hx={},Kx={class:"wh-full flex gap-20px justify-center items-center"};function Wx(e,t){return we(),Pe("div",Kx,t[0]||(t[0]=[le("div",{class:"bg-block !block min-h-300px"},[le("div",{class:"title-1"},"test")],-1)]))}const Ux=qt(Hx,[["render",Wx]]),Gx={class:"wh-full"},Yx={class:"header flex w-full h-50px px-20px items-center"},jx={class:"icon"},Xx={class:"mx-40px flex gap-10px"},Zx=["onClick"],qx={class:"h-[calc(100%-50px)] overflow-auto"},Jx={__name:"index",setup(e){pd();const t=tl({active:"",list:[{label:"规范检索系统",route:()=>Vx},{label:"智能问答系统",route:()=>Ux}]}),n=Co(null);function o(r){t.active=r.label,n.value=r.route()}return rt(()=>{o(t.list[0])}),(r,i)=>{const l=rl("router-link");return we(),Pe("div",Gx,[le("div",Yx,[le("div",jx,[je(l,{to:"/home"},{default:ft(()=>i[0]||(i[0]=[To(" 君瓴智能 ")])),_:1,__:[0]})]),le("div",Xx,[(we(!0),Pe(xt,null,zo(pe(t).list,a=>(we(),Pe("div",{key:a.label,class:Sn(["header-items",{active:pe(t).active===a.label}]),onClick:s=>o(a)},An(a.label),11,Zx))),128))]),i[1]||(i[1]=le("div",{class:"header-end"},[le("div",{class:"hover:color-blue cursor-pointer"},"user")],-1))]),le("div",qx,[(we(),yt(xn(n.value)))])])}}},nC=qt(Jx,[["__scopeId","data-v-af83a21b"]]);export{nC as default};
